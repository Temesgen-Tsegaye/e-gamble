(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=e(i);fetch(i.href,r)}})();function TT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $y={exports:{}},Pc={},Gy={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ml=Symbol.for("react.element"),MT=Symbol.for("react.portal"),ST=Symbol.for("react.fragment"),AT=Symbol.for("react.strict_mode"),CT=Symbol.for("react.profiler"),ET=Symbol.for("react.provider"),zT=Symbol.for("react.context"),RT=Symbol.for("react.forward_ref"),kT=Symbol.for("react.suspense"),OT=Symbol.for("react.memo"),LT=Symbol.for("react.lazy"),ng=Symbol.iterator;function IT(n){return n===null||typeof n!="object"?null:(n=ng&&n[ng]||n["@@iterator"],typeof n=="function"?n:null)}var qy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xy=Object.assign,Yy={};function Xo(n,t,e){this.props=n,this.context=t,this.refs=Yy,this.updater=e||qy}Xo.prototype.isReactComponent={};Xo.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};Xo.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Zy(){}Zy.prototype=Xo.prototype;function vp(n,t,e){this.props=n,this.context=t,this.refs=Yy,this.updater=e||qy}var Np=vp.prototype=new Zy;Np.constructor=vp;Xy(Np,Xo.prototype);Np.isPureReactComponent=!0;var sg=Array.isArray,Qy=Object.prototype.hasOwnProperty,wp={current:null},Jy={key:!0,ref:!0,__self:!0,__source:!0};function Ky(n,t,e){var s,i={},r=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(r=""+t.key),t)Qy.call(t,s)&&!Jy.hasOwnProperty(s)&&(i[s]=t[s]);var a=arguments.length-2;if(a===1)i.children=e;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(s in a=n.defaultProps,a)i[s]===void 0&&(i[s]=a[s]);return{$$typeof:Ml,type:n,key:r,ref:o,props:i,_owner:wp.current}}function PT(n,t){return{$$typeof:Ml,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function Tp(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ml}function VT(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var ig=/\/+/g;function xh(n,t){return typeof n=="object"&&n!==null&&n.key!=null?VT(""+n.key):t.toString(36)}function Su(n,t,e,s,i){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Ml:case MT:o=!0}}if(o)return o=n,i=i(o),n=s===""?"."+xh(o,0):s,sg(i)?(e="",n!=null&&(e=n.replace(ig,"$&/")+"/"),Su(i,t,e,"",function(u){return u})):i!=null&&(Tp(i)&&(i=PT(i,e+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ig,"$&/")+"/")+n)),t.push(i)),1;if(o=0,s=s===""?".":s+":",sg(n))for(var a=0;a<n.length;a++){r=n[a];var l=s+xh(r,a);o+=Su(r,t,e,l,i)}else if(l=IT(n),typeof l=="function")for(n=l.call(n),a=0;!(r=n.next()).done;)r=r.value,l=s+xh(r,a++),o+=Su(r,t,e,l,i);else if(r==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function bl(n,t,e){if(n==null)return n;var s=[],i=0;return Su(n,s,"","",function(r){return t.call(e,r,i++)}),s}function FT(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var Be={current:null},Au={transition:null},bT={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Au,ReactCurrentOwner:wp};function tx(){throw Error("act(...) is not supported in production builds of React.")}et.Children={map:bl,forEach:function(n,t,e){bl(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return bl(n,function(){t++}),t},toArray:function(n){return bl(n,function(t){return t})||[]},only:function(n){if(!Tp(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};et.Component=Xo;et.Fragment=ST;et.Profiler=CT;et.PureComponent=vp;et.StrictMode=AT;et.Suspense=kT;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bT;et.act=tx;et.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var s=Xy({},n.props),i=n.key,r=n.ref,o=n._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,o=wp.current),t.key!==void 0&&(i=""+t.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in t)Qy.call(t,l)&&!Jy.hasOwnProperty(l)&&(s[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)s.children=e;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:Ml,type:n.type,key:i,ref:r,props:s,_owner:o}};et.createContext=function(n){return n={$$typeof:zT,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:ET,_context:n},n.Consumer=n};et.createElement=Ky;et.createFactory=function(n){var t=Ky.bind(null,n);return t.type=n,t};et.createRef=function(){return{current:null}};et.forwardRef=function(n){return{$$typeof:RT,render:n}};et.isValidElement=Tp;et.lazy=function(n){return{$$typeof:LT,_payload:{_status:-1,_result:n},_init:FT}};et.memo=function(n,t){return{$$typeof:OT,type:n,compare:t===void 0?null:t}};et.startTransition=function(n){var t=Au.transition;Au.transition={};try{n()}finally{Au.transition=t}};et.unstable_act=tx;et.useCallback=function(n,t){return Be.current.useCallback(n,t)};et.useContext=function(n){return Be.current.useContext(n)};et.useDebugValue=function(){};et.useDeferredValue=function(n){return Be.current.useDeferredValue(n)};et.useEffect=function(n,t){return Be.current.useEffect(n,t)};et.useId=function(){return Be.current.useId()};et.useImperativeHandle=function(n,t,e){return Be.current.useImperativeHandle(n,t,e)};et.useInsertionEffect=function(n,t){return Be.current.useInsertionEffect(n,t)};et.useLayoutEffect=function(n,t){return Be.current.useLayoutEffect(n,t)};et.useMemo=function(n,t){return Be.current.useMemo(n,t)};et.useReducer=function(n,t,e){return Be.current.useReducer(n,t,e)};et.useRef=function(n){return Be.current.useRef(n)};et.useState=function(n){return Be.current.useState(n)};et.useSyncExternalStore=function(n,t,e){return Be.current.useSyncExternalStore(n,t,e)};et.useTransition=function(){return Be.current.useTransition()};et.version="18.3.1";Gy.exports=et;var In=Gy.exports;const DT=TT(In);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT=In,UT=Symbol.for("react.element"),jT=Symbol.for("react.fragment"),WT=Object.prototype.hasOwnProperty,HT=BT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$T={key:!0,ref:!0,__self:!0,__source:!0};function ex(n,t,e){var s,i={},r=null,o=null;e!==void 0&&(r=""+e),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)WT.call(t,s)&&!$T.hasOwnProperty(s)&&(i[s]=t[s]);if(n&&n.defaultProps)for(s in t=n.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:UT,type:n,key:r,ref:o,props:i,_owner:HT.current}}Pc.Fragment=jT;Pc.jsx=ex;Pc.jsxs=ex;$y.exports=Pc;var q=$y.exports,Ud={},nx={exports:{}},wn={},sx={exports:{}},ix={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(D,X){var Z=D.length;D.push(X);t:for(;0<Z;){var ot=Z-1>>>1,Nt=D[ot];if(0<i(Nt,X))D[ot]=X,D[Z]=Nt,Z=ot;else break t}}function e(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var X=D[0],Z=D.pop();if(Z!==X){D[0]=Z;t:for(var ot=0,Nt=D.length,Wi=Nt>>>1;ot<Wi;){var fe=2*(ot+1)-1,Un=D[fe],Hi=fe+1,Fl=D[Hi];if(0>i(Un,Z))Hi<Nt&&0>i(Fl,Un)?(D[ot]=Fl,D[Hi]=Z,ot=Hi):(D[ot]=Un,D[fe]=Z,ot=fe);else if(Hi<Nt&&0>i(Fl,Z))D[ot]=Fl,D[Hi]=Z,ot=Hi;else break t}}return X}function i(D,X){var Z=D.sortIndex-X.sortIndex;return Z!==0?Z:D.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,m=!1,p=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var X=e(u);X!==null;){if(X.callback===null)s(u);else if(X.startTime<=D)s(u),X.sortIndex=X.expirationTime,t(l,X);else break;X=e(u)}}function v(D){if(p=!1,x(D),!m)if(e(l)!==null)m=!0,ht(w);else{var X=e(u);X!==null&&mt(v,X.startTime-D)}}function w(D,X){m=!1,p&&(p=!1,g(C),C=-1),f=!0;var Z=d;try{for(x(X),h=e(l);h!==null&&(!(h.expirationTime>X)||D&&!G());){var ot=h.callback;if(typeof ot=="function"){h.callback=null,d=h.priorityLevel;var Nt=ot(h.expirationTime<=X);X=n.unstable_now(),typeof Nt=="function"?h.callback=Nt:h===e(l)&&s(l),x(X)}else s(l);h=e(l)}if(h!==null)var Wi=!0;else{var fe=e(u);fe!==null&&mt(v,fe.startTime-X),Wi=!1}return Wi}finally{h=null,d=Z,f=!1}}var S=!1,M=null,C=-1,k=5,b=-1;function G(){return!(n.unstable_now()-b<k)}function K(){if(M!==null){var D=n.unstable_now();b=D;var X=!0;try{X=M(!0,D)}finally{X?Y():(S=!1,M=null)}}else S=!1}var Y;if(typeof y=="function")Y=function(){y(K)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,St=ct.port2;ct.port1.onmessage=K,Y=function(){St.postMessage(null)}}else Y=function(){_(K,0)};function ht(D){M=D,S||(S=!0,Y())}function mt(D,X){C=_(function(){D(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){m||f||(m=!0,ht(w))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return e(l)},n.unstable_next=function(D){switch(d){case 1:case 2:case 3:var X=3;break;default:X=d}var Z=d;d=X;try{return D()}finally{d=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,X){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Z=d;d=D;try{return X()}finally{d=Z}},n.unstable_scheduleCallback=function(D,X,Z){var ot=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ot+Z:ot):Z=ot,D){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=Z+Nt,D={id:c++,callback:X,priorityLevel:D,startTime:Z,expirationTime:Nt,sortIndex:-1},Z>ot?(D.sortIndex=Z,t(u,D),e(l)===null&&D===e(u)&&(p?(g(C),C=-1):p=!0,mt(v,Z-ot))):(D.sortIndex=Nt,t(l,D),m||f||(m=!0,ht(w))),D},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(D){var X=d;return function(){var Z=d;d=X;try{return D.apply(this,arguments)}finally{d=Z}}}})(ix);sx.exports=ix;var GT=sx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT=In,xn=GT;function F(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rx=new Set,Ga={};function Er(n,t){Oo(n,t),Oo(n+"Capture",t)}function Oo(n,t){for(Ga[n]=t,n=0;n<t.length;n++)rx.add(t[n])}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jd=Object.prototype.hasOwnProperty,XT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rg={},og={};function YT(n){return jd.call(og,n)?!0:jd.call(rg,n)?!1:XT.test(n)?og[n]=!0:(rg[n]=!0,!1)}function ZT(n,t,e,s){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function QT(n,t,e,s){if(t===null||typeof t>"u"||ZT(n,t,e,s))return!0;if(s)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ue(n,t,e,s,i,r,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=r,this.removeEmptyString=o}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){_e[n]=new Ue(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];_e[t]=new Ue(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){_e[n]=new Ue(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){_e[n]=new Ue(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){_e[n]=new Ue(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){_e[n]=new Ue(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){_e[n]=new Ue(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){_e[n]=new Ue(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){_e[n]=new Ue(n,5,!1,n.toLowerCase(),null,!1,!1)});var Mp=/[\-:]([a-z])/g;function Sp(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(Mp,Sp);_e[t]=new Ue(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(Mp,Sp);_e[t]=new Ue(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(Mp,Sp);_e[t]=new Ue(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){_e[n]=new Ue(n,1,!1,n.toLowerCase(),null,!1,!1)});_e.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){_e[n]=new Ue(n,1,!1,n.toLowerCase(),null,!0,!0)});function Ap(n,t,e,s){var i=_e.hasOwnProperty(t)?_e[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(QT(t,e,i,s)&&(e=null),s||i===null?YT(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):i.mustUseProperty?n[i.propertyName]=e===null?i.type===3?!1:"":e:(t=i.attributeName,s=i.attributeNamespace,e===null?n.removeAttribute(t):(i=i.type,e=i===3||i===4&&e===!0?"":""+e,s?n.setAttributeNS(s,t,e):n.setAttribute(t,e))))}var Js=qT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dl=Symbol.for("react.element"),Qr=Symbol.for("react.portal"),Jr=Symbol.for("react.fragment"),Cp=Symbol.for("react.strict_mode"),Wd=Symbol.for("react.profiler"),ox=Symbol.for("react.provider"),ax=Symbol.for("react.context"),Ep=Symbol.for("react.forward_ref"),Hd=Symbol.for("react.suspense"),$d=Symbol.for("react.suspense_list"),zp=Symbol.for("react.memo"),ai=Symbol.for("react.lazy"),lx=Symbol.for("react.offscreen"),ag=Symbol.iterator;function oa(n){return n===null||typeof n!="object"?null:(n=ag&&n[ag]||n["@@iterator"],typeof n=="function"?n:null)}var Dt=Object.assign,_h;function Ta(n){if(_h===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);_h=t&&t[1]||""}return`
`+_h+n}var vh=!1;function Nh(n,t){if(!n||vh)return"";vh=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(n,[],t)}else{try{t.call()}catch(u){s=u}n.call(t.prototype)}else{try{throw Error()}catch(u){s=u}n()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),r=s.stack.split(`
`),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==r[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{vh=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?Ta(n):""}function JT(n){switch(n.tag){case 5:return Ta(n.type);case 16:return Ta("Lazy");case 13:return Ta("Suspense");case 19:return Ta("SuspenseList");case 0:case 2:case 15:return n=Nh(n.type,!1),n;case 11:return n=Nh(n.type.render,!1),n;case 1:return n=Nh(n.type,!0),n;default:return""}}function Gd(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Jr:return"Fragment";case Qr:return"Portal";case Wd:return"Profiler";case Cp:return"StrictMode";case Hd:return"Suspense";case $d:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ax:return(n.displayName||"Context")+".Consumer";case ox:return(n._context.displayName||"Context")+".Provider";case Ep:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case zp:return t=n.displayName||null,t!==null?t:Gd(n.type)||"Memo";case ai:t=n._payload,n=n._init;try{return Gd(n(t))}catch{}}return null}function KT(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gd(t);case 8:return t===Cp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ri(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ux(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tM(n){var t=ux(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),s=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var i=e.get,r=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,r.call(this,o)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function Bl(n){n._valueTracker||(n._valueTracker=tM(n))}function cx(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),s="";return n&&(s=ux(n)?n.checked?"true":"false":n.value),n=s,n!==e?(t.setValue(n),!0):!1}function Wu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function qd(n,t){var e=t.checked;return Dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??n._wrapperState.initialChecked})}function lg(n,t){var e=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;e=Ri(t.value!=null?t.value:e),n._wrapperState={initialChecked:s,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hx(n,t){t=t.checked,t!=null&&Ap(n,"checked",t,!1)}function Xd(n,t){hx(n,t);var e=Ri(t.value),s=t.type;if(e!=null)s==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(s==="submit"||s==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?Yd(n,t.type,e):t.hasOwnProperty("defaultValue")&&Yd(n,t.type,Ri(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function ug(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function Yd(n,t,e){(t!=="number"||Wu(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var Ma=Array.isArray;function go(n,t,e,s){if(n=n.options,t){t={};for(var i=0;i<e.length;i++)t["$"+e[i]]=!0;for(e=0;e<n.length;e++)i=t.hasOwnProperty("$"+n[e].value),n[e].selected!==i&&(n[e].selected=i),i&&s&&(n[e].defaultSelected=!0)}else{for(e=""+Ri(e),t=null,i=0;i<n.length;i++){if(n[i].value===e){n[i].selected=!0,s&&(n[i].defaultSelected=!0);return}t!==null||n[i].disabled||(t=n[i])}t!==null&&(t.selected=!0)}}function Zd(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Dt({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function cg(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(F(92));if(Ma(e)){if(1<e.length)throw Error(F(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:Ri(e)}}function dx(n,t){var e=Ri(t.value),s=Ri(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),s!=null&&(n.defaultValue=""+s)}function hg(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function fx(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qd(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?fx(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ul,px=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,s,i){MSApp.execUnsafeLocalFunction(function(){return n(t,e,s,i)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(Ul=Ul||document.createElement("div"),Ul.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ul.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function qa(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var Ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eM=["Webkit","ms","Moz","O"];Object.keys(Ra).forEach(function(n){eM.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),Ra[t]=Ra[n]})});function mx(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||Ra.hasOwnProperty(n)&&Ra[n]?(""+t).trim():t+"px"}function gx(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var s=e.indexOf("--")===0,i=mx(e,t[e],s);e==="float"&&(e="cssFloat"),s?n.setProperty(e,i):n[e]=i}}var nM=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jd(n,t){if(t){if(nM[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Kd(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tf=null;function Rp(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ef=null,yo=null,xo=null;function dg(n){if(n=Cl(n)){if(typeof ef!="function")throw Error(F(280));var t=n.stateNode;t&&(t=Bc(t),ef(n.stateNode,n.type,t))}}function yx(n){yo?xo?xo.push(n):xo=[n]:yo=n}function xx(){if(yo){var n=yo,t=xo;if(xo=yo=null,dg(n),t)for(n=0;n<t.length;n++)dg(t[n])}}function _x(n,t){return n(t)}function vx(){}var wh=!1;function Nx(n,t,e){if(wh)return n(t,e);wh=!0;try{return _x(n,t,e)}finally{wh=!1,(yo!==null||xo!==null)&&(vx(),xx())}}function Xa(n,t){var e=n.stateNode;if(e===null)return null;var s=Bc(e);if(s===null)return null;e=s[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(n=n.type,s=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!s;break t;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(F(231,t,typeof e));return e}var nf=!1;if($s)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){nf=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{nf=!1}function sM(n,t,e,s,i,r,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(e,u)}catch(c){this.onError(c)}}var ka=!1,Hu=null,$u=!1,sf=null,iM={onError:function(n){ka=!0,Hu=n}};function rM(n,t,e,s,i,r,o,a,l){ka=!1,Hu=null,sM.apply(iM,arguments)}function oM(n,t,e,s,i,r,o,a,l){if(rM.apply(this,arguments),ka){if(ka){var u=Hu;ka=!1,Hu=null}else throw Error(F(198));$u||($u=!0,sf=u)}}function zr(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function wx(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function fg(n){if(zr(n)!==n)throw Error(F(188))}function aM(n){var t=n.alternate;if(!t){if(t=zr(n),t===null)throw Error(F(188));return t!==n?null:n}for(var e=n,s=t;;){var i=e.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){e=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===e)return fg(i),n;if(r===s)return fg(i),t;r=r.sibling}throw Error(F(188))}if(e.return!==s.return)e=i,s=r;else{for(var o=!1,a=i.child;a;){if(a===e){o=!0,e=i,s=r;break}if(a===s){o=!0,s=i,e=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===e){o=!0,e=r,s=i;break}if(a===s){o=!0,s=r,e=i;break}a=a.sibling}if(!o)throw Error(F(189))}}if(e.alternate!==s)throw Error(F(190))}if(e.tag!==3)throw Error(F(188));return e.stateNode.current===e?n:t}function Tx(n){return n=aM(n),n!==null?Mx(n):null}function Mx(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=Mx(n);if(t!==null)return t;n=n.sibling}return null}var Sx=xn.unstable_scheduleCallback,pg=xn.unstable_cancelCallback,lM=xn.unstable_shouldYield,uM=xn.unstable_requestPaint,Gt=xn.unstable_now,cM=xn.unstable_getCurrentPriorityLevel,kp=xn.unstable_ImmediatePriority,Ax=xn.unstable_UserBlockingPriority,Gu=xn.unstable_NormalPriority,hM=xn.unstable_LowPriority,Cx=xn.unstable_IdlePriority,Vc=null,vs=null;function dM(n){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(Vc,n,void 0,(n.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:mM,fM=Math.log,pM=Math.LN2;function mM(n){return n>>>=0,n===0?32:31-(fM(n)/pM|0)|0}var jl=64,Wl=4194304;function Sa(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function qu(n,t){var e=n.pendingLanes;if(e===0)return 0;var s=0,i=n.suspendedLanes,r=n.pingedLanes,o=e&268435455;if(o!==0){var a=o&~i;a!==0?s=Sa(a):(r&=o,r!==0&&(s=Sa(r)))}else o=e&~i,o!==0?s=Sa(o):r!==0&&(s=Sa(r));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,r=t&-t,i>=r||i===16&&(r&4194240)!==0))return t;if(s&4&&(s|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=s;0<t;)e=31-Jn(t),i=1<<e,s|=n[e],t&=~i;return s}function gM(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yM(n,t){for(var e=n.suspendedLanes,s=n.pingedLanes,i=n.expirationTimes,r=n.pendingLanes;0<r;){var o=31-Jn(r),a=1<<o,l=i[o];l===-1?(!(a&e)||a&s)&&(i[o]=gM(a,t)):l<=t&&(n.expiredLanes|=a),r&=~a}}function rf(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ex(){var n=jl;return jl<<=1,!(jl&4194240)&&(jl=64),n}function Th(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function Sl(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-Jn(t),n[t]=e}function xM(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var s=n.eventTimes;for(n=n.expirationTimes;0<e;){var i=31-Jn(e),r=1<<i;t[i]=0,s[i]=-1,n[i]=-1,e&=~r}}function Op(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var s=31-Jn(e),i=1<<s;i&t|n[s]&t&&(n[s]|=t),e&=~i}}var ft=0;function zx(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Rx,Lp,kx,Ox,Lx,of=!1,Hl=[],_i=null,vi=null,Ni=null,Ya=new Map,Za=new Map,ci=[],_M="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mg(n,t){switch(n){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":Ya.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Za.delete(t.pointerId)}}function la(n,t,e,s,i,r){return n===null||n.nativeEvent!==r?(n={blockedOn:t,domEventName:e,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},t!==null&&(t=Cl(t),t!==null&&Lp(t)),n):(n.eventSystemFlags|=s,t=n.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),n)}function vM(n,t,e,s,i){switch(t){case"focusin":return _i=la(_i,n,t,e,s,i),!0;case"dragenter":return vi=la(vi,n,t,e,s,i),!0;case"mouseover":return Ni=la(Ni,n,t,e,s,i),!0;case"pointerover":var r=i.pointerId;return Ya.set(r,la(Ya.get(r)||null,n,t,e,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Za.set(r,la(Za.get(r)||null,n,t,e,s,i)),!0}return!1}function Ix(n){var t=or(n.target);if(t!==null){var e=zr(t);if(e!==null){if(t=e.tag,t===13){if(t=wx(e),t!==null){n.blockedOn=t,Lx(n.priority,function(){kx(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Cu(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=af(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var s=new e.constructor(e.type,e);tf=s,e.target.dispatchEvent(s),tf=null}else return t=Cl(e),t!==null&&Lp(t),n.blockedOn=e,!1;t.shift()}return!0}function gg(n,t,e){Cu(n)&&e.delete(t)}function NM(){of=!1,_i!==null&&Cu(_i)&&(_i=null),vi!==null&&Cu(vi)&&(vi=null),Ni!==null&&Cu(Ni)&&(Ni=null),Ya.forEach(gg),Za.forEach(gg)}function ua(n,t){n.blockedOn===t&&(n.blockedOn=null,of||(of=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,NM)))}function Qa(n){function t(i){return ua(i,n)}if(0<Hl.length){ua(Hl[0],n);for(var e=1;e<Hl.length;e++){var s=Hl[e];s.blockedOn===n&&(s.blockedOn=null)}}for(_i!==null&&ua(_i,n),vi!==null&&ua(vi,n),Ni!==null&&ua(Ni,n),Ya.forEach(t),Za.forEach(t),e=0;e<ci.length;e++)s=ci[e],s.blockedOn===n&&(s.blockedOn=null);for(;0<ci.length&&(e=ci[0],e.blockedOn===null);)Ix(e),e.blockedOn===null&&ci.shift()}var _o=Js.ReactCurrentBatchConfig,Xu=!0;function wM(n,t,e,s){var i=ft,r=_o.transition;_o.transition=null;try{ft=1,Ip(n,t,e,s)}finally{ft=i,_o.transition=r}}function TM(n,t,e,s){var i=ft,r=_o.transition;_o.transition=null;try{ft=4,Ip(n,t,e,s)}finally{ft=i,_o.transition=r}}function Ip(n,t,e,s){if(Xu){var i=af(n,t,e,s);if(i===null)Lh(n,t,s,Yu,e),mg(n,s);else if(vM(i,n,t,e,s))s.stopPropagation();else if(mg(n,s),t&4&&-1<_M.indexOf(n)){for(;i!==null;){var r=Cl(i);if(r!==null&&Rx(r),r=af(n,t,e,s),r===null&&Lh(n,t,s,Yu,e),r===i)break;i=r}i!==null&&s.stopPropagation()}else Lh(n,t,s,null,e)}}var Yu=null;function af(n,t,e,s){if(Yu=null,n=Rp(s),n=or(n),n!==null)if(t=zr(n),t===null)n=null;else if(e=t.tag,e===13){if(n=wx(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return Yu=n,null}function Px(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cM()){case kp:return 1;case Ax:return 4;case Gu:case hM:return 16;case Cx:return 536870912;default:return 16}default:return 16}}var di=null,Pp=null,Eu=null;function Vx(){if(Eu)return Eu;var n,t=Pp,e=t.length,s,i="value"in di?di.value:di.textContent,r=i.length;for(n=0;n<e&&t[n]===i[n];n++);var o=e-n;for(s=1;s<=o&&t[e-s]===i[r-s];s++);return Eu=i.slice(n,1<s?1-s:void 0)}function zu(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function $l(){return!0}function yg(){return!1}function Tn(n){function t(e,s,i,r,o){this._reactName=e,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(e=n[a],this[a]=e?e(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?$l:yg,this.isPropagationStopped=yg,this}return Dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),t}var Yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vp=Tn(Yo),Al=Dt({},Yo,{view:0,detail:0}),MM=Tn(Al),Mh,Sh,ca,Fc=Dt({},Al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fp,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ca&&(ca&&n.type==="mousemove"?(Mh=n.screenX-ca.screenX,Sh=n.screenY-ca.screenY):Sh=Mh=0,ca=n),Mh)},movementY:function(n){return"movementY"in n?n.movementY:Sh}}),xg=Tn(Fc),SM=Dt({},Fc,{dataTransfer:0}),AM=Tn(SM),CM=Dt({},Al,{relatedTarget:0}),Ah=Tn(CM),EM=Dt({},Yo,{animationName:0,elapsedTime:0,pseudoElement:0}),zM=Tn(EM),RM=Dt({},Yo,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),kM=Tn(RM),OM=Dt({},Yo,{data:0}),_g=Tn(OM),LM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VM(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=PM[n])?!!t[n]:!1}function Fp(){return VM}var FM=Dt({},Al,{key:function(n){if(n.key){var t=LM[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=zu(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?IM[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fp,charCode:function(n){return n.type==="keypress"?zu(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?zu(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),bM=Tn(FM),DM=Dt({},Fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vg=Tn(DM),BM=Dt({},Al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fp}),UM=Tn(BM),jM=Dt({},Yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),WM=Tn(jM),HM=Dt({},Fc,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),$M=Tn(HM),GM=[9,13,27,32],bp=$s&&"CompositionEvent"in window,Oa=null;$s&&"documentMode"in document&&(Oa=document.documentMode);var qM=$s&&"TextEvent"in window&&!Oa,Fx=$s&&(!bp||Oa&&8<Oa&&11>=Oa),Ng=" ",wg=!1;function bx(n,t){switch(n){case"keyup":return GM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dx(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Kr=!1;function XM(n,t){switch(n){case"compositionend":return Dx(t);case"keypress":return t.which!==32?null:(wg=!0,Ng);case"textInput":return n=t.data,n===Ng&&wg?null:n;default:return null}}function YM(n,t){if(Kr)return n==="compositionend"||!bp&&bx(n,t)?(n=Vx(),Eu=Pp=di=null,Kr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fx&&t.locale!=="ko"?null:t.data;default:return null}}var ZM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!ZM[n.type]:t==="textarea"}function Bx(n,t,e,s){yx(s),t=Zu(t,"onChange"),0<t.length&&(e=new Vp("onChange","change",null,e,s),n.push({event:e,listeners:t}))}var La=null,Ja=null;function QM(n){Qx(n,0)}function bc(n){var t=no(n);if(cx(t))return n}function JM(n,t){if(n==="change")return t}var Ux=!1;if($s){var Ch;if($s){var Eh="oninput"in document;if(!Eh){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Eh=typeof Mg.oninput=="function"}Ch=Eh}else Ch=!1;Ux=Ch&&(!document.documentMode||9<document.documentMode)}function Sg(){La&&(La.detachEvent("onpropertychange",jx),Ja=La=null)}function jx(n){if(n.propertyName==="value"&&bc(Ja)){var t=[];Bx(t,Ja,n,Rp(n)),Nx(QM,t)}}function KM(n,t,e){n==="focusin"?(Sg(),La=t,Ja=e,La.attachEvent("onpropertychange",jx)):n==="focusout"&&Sg()}function tS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return bc(Ja)}function eS(n,t){if(n==="click")return bc(t)}function nS(n,t){if(n==="input"||n==="change")return bc(t)}function sS(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var ss=typeof Object.is=="function"?Object.is:sS;function Ka(n,t){if(ss(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),s=Object.keys(t);if(e.length!==s.length)return!1;for(s=0;s<e.length;s++){var i=e[s];if(!jd.call(t,i)||!ss(n[i],t[i]))return!1}return!0}function Ag(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Cg(n,t){var e=Ag(n);n=0;for(var s;e;){if(e.nodeType===3){if(s=n+e.textContent.length,n<=t&&s>=t)return{node:e,offset:t-n};n=s}t:{for(;e;){if(e.nextSibling){e=e.nextSibling;break t}e=e.parentNode}e=void 0}e=Ag(e)}}function Wx(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?Wx(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function Hx(){for(var n=window,t=Wu();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=Wu(n.document)}return t}function Dp(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function iS(n){var t=Hx(),e=n.focusedElem,s=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&Wx(e.ownerDocument.documentElement,e)){if(s!==null&&Dp(e)){if(t=s.start,n=s.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var i=e.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!n.extend&&r>s&&(i=s,s=r,r=i),i=Cg(e,r);var o=Cg(e,s);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),n.removeAllRanges(),r>s?(n.addRange(t),n.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var rS=$s&&"documentMode"in document&&11>=document.documentMode,to=null,lf=null,Ia=null,uf=!1;function Eg(n,t,e){var s=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;uf||to==null||to!==Wu(s)||(s=to,"selectionStart"in s&&Dp(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ia&&Ka(Ia,s)||(Ia=s,s=Zu(lf,"onSelect"),0<s.length&&(t=new Vp("onSelect","select",null,t,e),n.push({event:t,listeners:s}),t.target=to)))}function Gl(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var eo={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionend:Gl("Transition","TransitionEnd")},zh={},$x={};$s&&($x=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Dc(n){if(zh[n])return zh[n];if(!eo[n])return n;var t=eo[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in $x)return zh[n]=t[e];return n}var Gx=Dc("animationend"),qx=Dc("animationiteration"),Xx=Dc("animationstart"),Yx=Dc("transitionend"),Zx=new Map,zg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(n,t){Zx.set(n,t),Er(t,[n])}for(var Rh=0;Rh<zg.length;Rh++){var kh=zg[Rh],oS=kh.toLowerCase(),aS=kh[0].toUpperCase()+kh.slice(1);bi(oS,"on"+aS)}bi(Gx,"onAnimationEnd");bi(qx,"onAnimationIteration");bi(Xx,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(Yx,"onTransitionEnd");Oo("onMouseEnter",["mouseout","mouseover"]);Oo("onMouseLeave",["mouseout","mouseover"]);Oo("onPointerEnter",["pointerout","pointerover"]);Oo("onPointerLeave",["pointerout","pointerover"]);Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Er("onBeforeInput",["compositionend","keypress","textInput","paste"]);Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function Rg(n,t,e){var s=n.type||"unknown-event";n.currentTarget=e,oM(s,t,void 0,n),n.currentTarget=null}function Qx(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var s=n[e],i=s.event;s=s.listeners;t:{var r=void 0;if(t)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==r&&i.isPropagationStopped())break t;Rg(i,a,u),r=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==r&&i.isPropagationStopped())break t;Rg(i,a,u),r=l}}}if($u)throw n=sf,$u=!1,sf=null,n}function At(n,t){var e=t[pf];e===void 0&&(e=t[pf]=new Set);var s=n+"__bubble";e.has(s)||(Jx(t,n,2,!1),e.add(s))}function Oh(n,t,e){var s=0;t&&(s|=4),Jx(e,n,s,t)}var ql="_reactListening"+Math.random().toString(36).slice(2);function tl(n){if(!n[ql]){n[ql]=!0,rx.forEach(function(e){e!=="selectionchange"&&(lS.has(e)||Oh(e,!1,n),Oh(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[ql]||(t[ql]=!0,Oh("selectionchange",!1,t))}}function Jx(n,t,e,s){switch(Px(t)){case 1:var i=wM;break;case 4:i=TM;break;default:i=Ip}e=i.bind(null,t,e,n),i=void 0,!nf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?n.addEventListener(t,e,{capture:!0,passive:i}):n.addEventListener(t,e,!0):i!==void 0?n.addEventListener(t,e,{passive:i}):n.addEventListener(t,e,!1)}function Lh(n,t,e,s,i){var r=s;if(!(t&1)&&!(t&2)&&s!==null)t:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=or(a),o===null)return;if(l=o.tag,l===5||l===6){s=r=o;continue t}a=a.parentNode}}s=s.return}Nx(function(){var u=r,c=Rp(e),h=[];t:{var d=Zx.get(n);if(d!==void 0){var f=Vp,m=n;switch(n){case"keypress":if(zu(e)===0)break t;case"keydown":case"keyup":f=bM;break;case"focusin":m="focus",f=Ah;break;case"focusout":m="blur",f=Ah;break;case"beforeblur":case"afterblur":f=Ah;break;case"click":if(e.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=xg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=AM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=UM;break;case Gx:case qx:case Xx:f=zM;break;case Yx:f=WM;break;case"scroll":f=MM;break;case"wheel":f=$M;break;case"copy":case"cut":case"paste":f=kM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=vg}var p=(t&4)!==0,_=!p&&n==="scroll",g=p?d!==null?d+"Capture":null:d;p=[];for(var y=u,x;y!==null;){x=y;var v=x.stateNode;if(x.tag===5&&v!==null&&(x=v,g!==null&&(v=Xa(y,g),v!=null&&p.push(el(y,v,x)))),_)break;y=y.return}0<p.length&&(d=new f(d,m,null,e,c),h.push({event:d,listeners:p}))}}if(!(t&7)){t:{if(d=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",d&&e!==tf&&(m=e.relatedTarget||e.fromElement)&&(or(m)||m[Gs]))break t;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(m=e.relatedTarget||e.toElement,f=u,m=m?or(m):null,m!==null&&(_=zr(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(p=xg,v="onMouseLeave",g="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(p=vg,v="onPointerLeave",g="onPointerEnter",y="pointer"),_=f==null?d:no(f),x=m==null?d:no(m),d=new p(v,y+"leave",f,e,c),d.target=_,d.relatedTarget=x,v=null,or(c)===u&&(p=new p(g,y+"enter",m,e,c),p.target=x,p.relatedTarget=_,v=p),_=v,f&&m)e:{for(p=f,g=m,y=0,x=p;x;x=Pr(x))y++;for(x=0,v=g;v;v=Pr(v))x++;for(;0<y-x;)p=Pr(p),y--;for(;0<x-y;)g=Pr(g),x--;for(;y--;){if(p===g||g!==null&&p===g.alternate)break e;p=Pr(p),g=Pr(g)}p=null}else p=null;f!==null&&kg(h,d,f,p,!1),m!==null&&_!==null&&kg(h,_,m,p,!0)}}t:{if(d=u?no(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var w=JM;else if(Tg(d))if(Ux)w=nS;else{w=tS;var S=KM}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=eS);if(w&&(w=w(n,u))){Bx(h,w,e,c);break t}S&&S(n,d,u),n==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&Yd(d,"number",d.value)}switch(S=u?no(u):window,n){case"focusin":(Tg(S)||S.contentEditable==="true")&&(to=S,lf=u,Ia=null);break;case"focusout":Ia=lf=to=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,Eg(h,e,c);break;case"selectionchange":if(rS)break;case"keydown":case"keyup":Eg(h,e,c)}var M;if(bp)t:{switch(n){case"compositionstart":var C="onCompositionStart";break t;case"compositionend":C="onCompositionEnd";break t;case"compositionupdate":C="onCompositionUpdate";break t}C=void 0}else Kr?bx(n,e)&&(C="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(C="onCompositionStart");C&&(Fx&&e.locale!=="ko"&&(Kr||C!=="onCompositionStart"?C==="onCompositionEnd"&&Kr&&(M=Vx()):(di=c,Pp="value"in di?di.value:di.textContent,Kr=!0)),S=Zu(u,C),0<S.length&&(C=new _g(C,n,null,e,c),h.push({event:C,listeners:S}),M?C.data=M:(M=Dx(e),M!==null&&(C.data=M)))),(M=qM?XM(n,e):YM(n,e))&&(u=Zu(u,"onBeforeInput"),0<u.length&&(c=new _g("onBeforeInput","beforeinput",null,e,c),h.push({event:c,listeners:u}),c.data=M))}Qx(h,t)})}function el(n,t,e){return{instance:n,listener:t,currentTarget:e}}function Zu(n,t){for(var e=t+"Capture",s=[];n!==null;){var i=n,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=Xa(n,e),r!=null&&s.unshift(el(n,r,i)),r=Xa(n,t),r!=null&&s.push(el(n,r,i))),n=n.return}return s}function Pr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function kg(n,t,e,s,i){for(var r=t._reactName,o=[];e!==null&&e!==s;){var a=e,l=a.alternate,u=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&u!==null&&(a=u,i?(l=Xa(e,r),l!=null&&o.unshift(el(e,l,a))):i||(l=Xa(e,r),l!=null&&o.push(el(e,l,a)))),e=e.return}o.length!==0&&n.push({event:t,listeners:o})}var uS=/\r\n?/g,cS=/\u0000|\uFFFD/g;function Og(n){return(typeof n=="string"?n:""+n).replace(uS,`
`).replace(cS,"")}function Xl(n,t,e){if(t=Og(t),Og(n)!==t&&e)throw Error(F(425))}function Qu(){}var cf=null,hf=null;function df(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ff=typeof setTimeout=="function"?setTimeout:void 0,hS=typeof clearTimeout=="function"?clearTimeout:void 0,Lg=typeof Promise=="function"?Promise:void 0,dS=typeof queueMicrotask=="function"?queueMicrotask:typeof Lg<"u"?function(n){return Lg.resolve(null).then(n).catch(fS)}:ff;function fS(n){setTimeout(function(){throw n})}function Ih(n,t){var e=t,s=0;do{var i=e.nextSibling;if(n.removeChild(e),i&&i.nodeType===8)if(e=i.data,e==="/$"){if(s===0){n.removeChild(i),Qa(t);return}s--}else e!=="$"&&e!=="$?"&&e!=="$!"||s++;e=i}while(e);Qa(t)}function wi(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function Ig(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var Zo=Math.random().toString(36).slice(2),ms="__reactFiber$"+Zo,nl="__reactProps$"+Zo,Gs="__reactContainer$"+Zo,pf="__reactEvents$"+Zo,pS="__reactListeners$"+Zo,mS="__reactHandles$"+Zo;function or(n){var t=n[ms];if(t)return t;for(var e=n.parentNode;e;){if(t=e[Gs]||e[ms]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=Ig(n);n!==null;){if(e=n[ms])return e;n=Ig(n)}return t}n=e,e=n.parentNode}return null}function Cl(n){return n=n[ms]||n[Gs],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function no(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(F(33))}function Bc(n){return n[nl]||null}var mf=[],so=-1;function Di(n){return{current:n}}function Ct(n){0>so||(n.current=mf[so],mf[so]=null,so--)}function Tt(n,t){so++,mf[so]=n.current,n.current=t}var ki={},Ie=Di(ki),Xe=Di(!1),yr=ki;function Lo(n,t){var e=n.type.contextTypes;if(!e)return ki;var s=n.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in e)i[r]=t[r];return s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=i),i}function Ye(n){return n=n.childContextTypes,n!=null}function Ju(){Ct(Xe),Ct(Ie)}function Pg(n,t,e){if(Ie.current!==ki)throw Error(F(168));Tt(Ie,t),Tt(Xe,e)}function Kx(n,t,e){var s=n.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return e;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(F(108,KT(n)||"Unknown",i));return Dt({},e,s)}function Ku(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ki,yr=Ie.current,Tt(Ie,n),Tt(Xe,Xe.current),!0}function Vg(n,t,e){var s=n.stateNode;if(!s)throw Error(F(169));e?(n=Kx(n,t,yr),s.__reactInternalMemoizedMergedChildContext=n,Ct(Xe),Ct(Ie),Tt(Ie,n)):Ct(Xe),Tt(Xe,e)}var Vs=null,Uc=!1,Ph=!1;function t1(n){Vs===null?Vs=[n]:Vs.push(n)}function gS(n){Uc=!0,t1(n)}function Bi(){if(!Ph&&Vs!==null){Ph=!0;var n=0,t=ft;try{var e=Vs;for(ft=1;n<e.length;n++){var s=e[n];do s=s(!0);while(s!==null)}Vs=null,Uc=!1}catch(i){throw Vs!==null&&(Vs=Vs.slice(n+1)),Sx(kp,Bi),i}finally{ft=t,Ph=!1}}return null}var io=[],ro=0,tc=null,ec=0,zn=[],Rn=0,xr=null,Ds=1,Bs="";function Ki(n,t){io[ro++]=ec,io[ro++]=tc,tc=n,ec=t}function e1(n,t,e){zn[Rn++]=Ds,zn[Rn++]=Bs,zn[Rn++]=xr,xr=n;var s=Ds;n=Bs;var i=32-Jn(s)-1;s&=~(1<<i),e+=1;var r=32-Jn(t)+i;if(30<r){var o=i-i%5;r=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Ds=1<<32-Jn(t)+i|e<<i|s,Bs=r+n}else Ds=1<<r|e<<i|s,Bs=n}function Bp(n){n.return!==null&&(Ki(n,1),e1(n,1,0))}function Up(n){for(;n===tc;)tc=io[--ro],io[ro]=null,ec=io[--ro],io[ro]=null;for(;n===xr;)xr=zn[--Rn],zn[Rn]=null,Bs=zn[--Rn],zn[Rn]=null,Ds=zn[--Rn],zn[Rn]=null}var mn=null,hn=null,zt=!1,Zn=null;function n1(n,t){var e=kn(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function Fg(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,mn=n,hn=wi(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,mn=n,hn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=xr!==null?{id:Ds,overflow:Bs}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=kn(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,mn=n,hn=null,!0):!1;default:return!1}}function gf(n){return(n.mode&1)!==0&&(n.flags&128)===0}function yf(n){if(zt){var t=hn;if(t){var e=t;if(!Fg(n,t)){if(gf(n))throw Error(F(418));t=wi(e.nextSibling);var s=mn;t&&Fg(n,t)?n1(s,e):(n.flags=n.flags&-4097|2,zt=!1,mn=n)}}else{if(gf(n))throw Error(F(418));n.flags=n.flags&-4097|2,zt=!1,mn=n}}}function bg(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;mn=n}function Yl(n){if(n!==mn)return!1;if(!zt)return bg(n),zt=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!df(n.type,n.memoizedProps)),t&&(t=hn)){if(gf(n))throw s1(),Error(F(418));for(;t;)n1(n,t),t=wi(t.nextSibling)}if(bg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(F(317));t:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){hn=wi(n.nextSibling);break t}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}hn=null}}else hn=mn?wi(n.stateNode.nextSibling):null;return!0}function s1(){for(var n=hn;n;)n=wi(n.nextSibling)}function Io(){hn=mn=null,zt=!1}function jp(n){Zn===null?Zn=[n]:Zn.push(n)}var yS=Js.ReactCurrentBatchConfig;function ha(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(F(309));var s=e.stateNode}if(!s)throw Error(F(147,n));var i=s,r=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(o){var a=i.refs;o===null?delete a[r]:a[r]=o},t._stringRef=r,t)}if(typeof n!="string")throw Error(F(284));if(!e._owner)throw Error(F(290,n))}return n}function Zl(n,t){throw n=Object.prototype.toString.call(t),Error(F(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function Dg(n){var t=n._init;return t(n._payload)}function i1(n){function t(g,y){if(n){var x=g.deletions;x===null?(g.deletions=[y],g.flags|=16):x.push(y)}}function e(g,y){if(!n)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function s(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=Ai(g,y),g.index=0,g.sibling=null,g}function r(g,y,x){return g.index=x,n?(x=g.alternate,x!==null?(x=x.index,x<y?(g.flags|=2,y):x):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,y,x,v){return y===null||y.tag!==6?(y=jh(x,g.mode,v),y.return=g,y):(y=i(y,x),y.return=g,y)}function l(g,y,x,v){var w=x.type;return w===Jr?c(g,y,x.props.children,v,x.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ai&&Dg(w)===y.type)?(v=i(y,x.props),v.ref=ha(g,y,x),v.return=g,v):(v=Vu(x.type,x.key,x.props,null,g.mode,v),v.ref=ha(g,y,x),v.return=g,v)}function u(g,y,x,v){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Wh(x,g.mode,v),y.return=g,y):(y=i(y,x.children||[]),y.return=g,y)}function c(g,y,x,v,w){return y===null||y.tag!==7?(y=dr(x,g.mode,v,w),y.return=g,y):(y=i(y,x),y.return=g,y)}function h(g,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=jh(""+y,g.mode,x),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Dl:return x=Vu(y.type,y.key,y.props,null,g.mode,x),x.ref=ha(g,null,y),x.return=g,x;case Qr:return y=Wh(y,g.mode,x),y.return=g,y;case ai:var v=y._init;return h(g,v(y._payload),x)}if(Ma(y)||oa(y))return y=dr(y,g.mode,x,null),y.return=g,y;Zl(g,y)}return null}function d(g,y,x,v){var w=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:a(g,y,""+x,v);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Dl:return x.key===w?l(g,y,x,v):null;case Qr:return x.key===w?u(g,y,x,v):null;case ai:return w=x._init,d(g,y,w(x._payload),v)}if(Ma(x)||oa(x))return w!==null?null:c(g,y,x,v,null);Zl(g,x)}return null}function f(g,y,x,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return g=g.get(x)||null,a(y,g,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Dl:return g=g.get(v.key===null?x:v.key)||null,l(y,g,v,w);case Qr:return g=g.get(v.key===null?x:v.key)||null,u(y,g,v,w);case ai:var S=v._init;return f(g,y,x,S(v._payload),w)}if(Ma(v)||oa(v))return g=g.get(x)||null,c(y,g,v,w,null);Zl(y,v)}return null}function m(g,y,x,v){for(var w=null,S=null,M=y,C=y=0,k=null;M!==null&&C<x.length;C++){M.index>C?(k=M,M=null):k=M.sibling;var b=d(g,M,x[C],v);if(b===null){M===null&&(M=k);break}n&&M&&b.alternate===null&&t(g,M),y=r(b,y,C),S===null?w=b:S.sibling=b,S=b,M=k}if(C===x.length)return e(g,M),zt&&Ki(g,C),w;if(M===null){for(;C<x.length;C++)M=h(g,x[C],v),M!==null&&(y=r(M,y,C),S===null?w=M:S.sibling=M,S=M);return zt&&Ki(g,C),w}for(M=s(g,M);C<x.length;C++)k=f(M,g,C,x[C],v),k!==null&&(n&&k.alternate!==null&&M.delete(k.key===null?C:k.key),y=r(k,y,C),S===null?w=k:S.sibling=k,S=k);return n&&M.forEach(function(G){return t(g,G)}),zt&&Ki(g,C),w}function p(g,y,x,v){var w=oa(x);if(typeof w!="function")throw Error(F(150));if(x=w.call(x),x==null)throw Error(F(151));for(var S=w=null,M=y,C=y=0,k=null,b=x.next();M!==null&&!b.done;C++,b=x.next()){M.index>C?(k=M,M=null):k=M.sibling;var G=d(g,M,b.value,v);if(G===null){M===null&&(M=k);break}n&&M&&G.alternate===null&&t(g,M),y=r(G,y,C),S===null?w=G:S.sibling=G,S=G,M=k}if(b.done)return e(g,M),zt&&Ki(g,C),w;if(M===null){for(;!b.done;C++,b=x.next())b=h(g,b.value,v),b!==null&&(y=r(b,y,C),S===null?w=b:S.sibling=b,S=b);return zt&&Ki(g,C),w}for(M=s(g,M);!b.done;C++,b=x.next())b=f(M,g,C,b.value,v),b!==null&&(n&&b.alternate!==null&&M.delete(b.key===null?C:b.key),y=r(b,y,C),S===null?w=b:S.sibling=b,S=b);return n&&M.forEach(function(K){return t(g,K)}),zt&&Ki(g,C),w}function _(g,y,x,v){if(typeof x=="object"&&x!==null&&x.type===Jr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Dl:t:{for(var w=x.key,S=y;S!==null;){if(S.key===w){if(w=x.type,w===Jr){if(S.tag===7){e(g,S.sibling),y=i(S,x.props.children),y.return=g,g=y;break t}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ai&&Dg(w)===S.type){e(g,S.sibling),y=i(S,x.props),y.ref=ha(g,S,x),y.return=g,g=y;break t}e(g,S);break}else t(g,S);S=S.sibling}x.type===Jr?(y=dr(x.props.children,g.mode,v,x.key),y.return=g,g=y):(v=Vu(x.type,x.key,x.props,null,g.mode,v),v.ref=ha(g,y,x),v.return=g,g=v)}return o(g);case Qr:t:{for(S=x.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){e(g,y.sibling),y=i(y,x.children||[]),y.return=g,g=y;break t}else{e(g,y);break}else t(g,y);y=y.sibling}y=Wh(x,g.mode,v),y.return=g,g=y}return o(g);case ai:return S=x._init,_(g,y,S(x._payload),v)}if(Ma(x))return m(g,y,x,v);if(oa(x))return p(g,y,x,v);Zl(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(e(g,y.sibling),y=i(y,x),y.return=g,g=y):(e(g,y),y=jh(x,g.mode,v),y.return=g,g=y),o(g)):e(g,y)}return _}var Po=i1(!0),r1=i1(!1),nc=Di(null),sc=null,oo=null,Wp=null;function Hp(){Wp=oo=sc=null}function $p(n){var t=nc.current;Ct(nc),n._currentValue=t}function xf(n,t,e){for(;n!==null;){var s=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),n===e)break;n=n.return}}function vo(n,t){sc=n,Wp=oo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(Ge=!0),n.firstContext=null)}function Vn(n){var t=n._currentValue;if(Wp!==n)if(n={context:n,memoizedValue:t,next:null},oo===null){if(sc===null)throw Error(F(308));oo=n,sc.dependencies={lanes:0,firstContext:n}}else oo=oo.next=n;return t}var ar=null;function Gp(n){ar===null?ar=[n]:ar.push(n)}function o1(n,t,e,s){var i=t.interleaved;return i===null?(e.next=e,Gp(t)):(e.next=i.next,i.next=e),t.interleaved=e,qs(n,s)}function qs(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var li=!1;function qp(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a1(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function js(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function Ti(n,t,e){var s=n.updateQueue;if(s===null)return null;if(s=s.shared,rt&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,qs(n,e)}return i=s.interleaved,i===null?(t.next=t,Gp(s)):(t.next=i.next,i.next=t),s.interleaved=t,qs(n,e)}function Ru(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var s=t.lanes;s&=n.pendingLanes,e|=s,t.lanes=e,Op(n,e)}}function Bg(n,t){var e=n.updateQueue,s=n.alternate;if(s!==null&&(s=s.updateQueue,e===s)){var i=null,r=null;if(e=e.firstBaseUpdate,e!==null){do{var o={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};r===null?i=r=o:r=r.next=o,e=e.next}while(e!==null);r===null?i=r=t:r=r.next=t}else i=r=t;e={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function ic(n,t,e,s){var i=n.updateQueue;li=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?r=u:o.next=u,o=l;var c=n.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(r!==null){var h=i.baseState;o=0,c=u=l=null,a=r;do{var d=a.lane,f=a.eventTime;if((s&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var m=n,p=a;switch(d=t,f=e,p.tag){case 1:if(m=p.payload,typeof m=="function"){h=m.call(f,h,d);break t}h=m;break t;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,d=typeof m=="function"?m.call(f,h,d):m,d==null)break t;h=Dt({},h,d);break t;case 2:li=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else r===null&&(i.shared.lanes=0);vr|=o,n.lanes=o,n.memoizedState=h}}function Ug(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var s=n[t],i=s.callback;if(i!==null){if(s.callback=null,s=e,typeof i!="function")throw Error(F(191,i));i.call(s)}}}var El={},Ns=Di(El),sl=Di(El),il=Di(El);function lr(n){if(n===El)throw Error(F(174));return n}function Xp(n,t){switch(Tt(il,t),Tt(sl,n),Tt(Ns,El),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qd(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=Qd(t,n)}Ct(Ns),Tt(Ns,t)}function Vo(){Ct(Ns),Ct(sl),Ct(il)}function l1(n){lr(il.current);var t=lr(Ns.current),e=Qd(t,n.type);t!==e&&(Tt(sl,n),Tt(Ns,e))}function Yp(n){sl.current===n&&(Ct(Ns),Ct(sl))}var Ot=Di(0);function rc(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vh=[];function Zp(){for(var n=0;n<Vh.length;n++)Vh[n]._workInProgressVersionPrimary=null;Vh.length=0}var ku=Js.ReactCurrentDispatcher,Fh=Js.ReactCurrentBatchConfig,_r=0,Ft=null,Kt=null,ae=null,oc=!1,Pa=!1,rl=0,xS=0;function we(){throw Error(F(321))}function Qp(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!ss(n[e],t[e]))return!1;return!0}function Jp(n,t,e,s,i,r){if(_r=r,Ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ku.current=n===null||n.memoizedState===null?wS:TS,n=e(s,i),Pa){r=0;do{if(Pa=!1,rl=0,25<=r)throw Error(F(301));r+=1,ae=Kt=null,t.updateQueue=null,ku.current=MS,n=e(s,i)}while(Pa)}if(ku.current=ac,t=Kt!==null&&Kt.next!==null,_r=0,ae=Kt=Ft=null,oc=!1,t)throw Error(F(300));return n}function Kp(){var n=rl!==0;return rl=0,n}function cs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ae===null?Ft.memoizedState=ae=n:ae=ae.next=n,ae}function Fn(){if(Kt===null){var n=Ft.alternate;n=n!==null?n.memoizedState:null}else n=Kt.next;var t=ae===null?Ft.memoizedState:ae.next;if(t!==null)ae=t,Kt=n;else{if(n===null)throw Error(F(310));Kt=n,n={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ae===null?Ft.memoizedState=ae=n:ae=ae.next=n}return ae}function ol(n,t){return typeof t=="function"?t(n):t}function bh(n){var t=Fn(),e=t.queue;if(e===null)throw Error(F(311));e.lastRenderedReducer=n;var s=Kt,i=s.baseQueue,r=e.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}s.baseQueue=i=r,e.pending=null}if(i!==null){r=i.next,s=s.baseState;var a=o=null,l=null,u=r;do{var c=u.lane;if((_r&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:n(s,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=s):l=l.next=h,Ft.lanes|=c,vr|=c}u=u.next}while(u!==null&&u!==r);l===null?o=s:l.next=a,ss(s,t.memoizedState)||(Ge=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=l,e.lastRenderedState=s}if(n=e.interleaved,n!==null){i=n;do r=i.lane,Ft.lanes|=r,vr|=r,i=i.next;while(i!==n)}else i===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function Dh(n){var t=Fn(),e=t.queue;if(e===null)throw Error(F(311));e.lastRenderedReducer=n;var s=e.dispatch,i=e.pending,r=t.memoizedState;if(i!==null){e.pending=null;var o=i=i.next;do r=n(r,o.action),o=o.next;while(o!==i);ss(r,t.memoizedState)||(Ge=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),e.lastRenderedState=r}return[r,s]}function u1(){}function c1(n,t){var e=Ft,s=Fn(),i=t(),r=!ss(s.memoizedState,i);if(r&&(s.memoizedState=i,Ge=!0),s=s.queue,tm(f1.bind(null,e,s,n),[n]),s.getSnapshot!==t||r||ae!==null&&ae.memoizedState.tag&1){if(e.flags|=2048,al(9,d1.bind(null,e,s,i,t),void 0,null),he===null)throw Error(F(349));_r&30||h1(e,t,i)}return i}function h1(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=Ft.updateQueue,t===null?(t={lastEffect:null,stores:null},Ft.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function d1(n,t,e,s){t.value=e,t.getSnapshot=s,p1(t)&&m1(n)}function f1(n,t,e){return e(function(){p1(t)&&m1(n)})}function p1(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!ss(n,e)}catch{return!0}}function m1(n){var t=qs(n,1);t!==null&&Kn(t,n,1,-1)}function jg(n){var t=cs();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:n},t.queue=n,n=n.dispatch=NS.bind(null,Ft,n),[t.memoizedState,n]}function al(n,t,e,s){return n={tag:n,create:t,destroy:e,deps:s,next:null},t=Ft.updateQueue,t===null?(t={lastEffect:null,stores:null},Ft.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(s=e.next,e.next=n,n.next=s,t.lastEffect=n)),n}function g1(){return Fn().memoizedState}function Ou(n,t,e,s){var i=cs();Ft.flags|=n,i.memoizedState=al(1|t,e,void 0,s===void 0?null:s)}function jc(n,t,e,s){var i=Fn();s=s===void 0?null:s;var r=void 0;if(Kt!==null){var o=Kt.memoizedState;if(r=o.destroy,s!==null&&Qp(s,o.deps)){i.memoizedState=al(t,e,r,s);return}}Ft.flags|=n,i.memoizedState=al(1|t,e,r,s)}function Wg(n,t){return Ou(8390656,8,n,t)}function tm(n,t){return jc(2048,8,n,t)}function y1(n,t){return jc(4,2,n,t)}function x1(n,t){return jc(4,4,n,t)}function _1(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function v1(n,t,e){return e=e!=null?e.concat([n]):null,jc(4,4,_1.bind(null,t,n),e)}function em(){}function N1(n,t){var e=Fn();t=t===void 0?null:t;var s=e.memoizedState;return s!==null&&t!==null&&Qp(t,s[1])?s[0]:(e.memoizedState=[n,t],n)}function w1(n,t){var e=Fn();t=t===void 0?null:t;var s=e.memoizedState;return s!==null&&t!==null&&Qp(t,s[1])?s[0]:(n=n(),e.memoizedState=[n,t],n)}function T1(n,t,e){return _r&21?(ss(e,t)||(e=Ex(),Ft.lanes|=e,vr|=e,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,Ge=!0),n.memoizedState=e)}function _S(n,t){var e=ft;ft=e!==0&&4>e?e:4,n(!0);var s=Fh.transition;Fh.transition={};try{n(!1),t()}finally{ft=e,Fh.transition=s}}function M1(){return Fn().memoizedState}function vS(n,t,e){var s=Si(n);if(e={lane:s,action:e,hasEagerState:!1,eagerState:null,next:null},S1(n))A1(t,e);else if(e=o1(n,t,e,s),e!==null){var i=be();Kn(e,n,s,i),C1(e,t,s)}}function NS(n,t,e){var s=Si(n),i={lane:s,action:e,hasEagerState:!1,eagerState:null,next:null};if(S1(n))A1(t,i);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var o=t.lastRenderedState,a=r(o,e);if(i.hasEagerState=!0,i.eagerState=a,ss(a,o)){var l=t.interleaved;l===null?(i.next=i,Gp(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}e=o1(n,t,i,s),e!==null&&(i=be(),Kn(e,n,s,i),C1(e,t,s))}}function S1(n){var t=n.alternate;return n===Ft||t!==null&&t===Ft}function A1(n,t){Pa=oc=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function C1(n,t,e){if(e&4194240){var s=t.lanes;s&=n.pendingLanes,e|=s,t.lanes=e,Op(n,e)}}var ac={readContext:Vn,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},wS={readContext:Vn,useCallback:function(n,t){return cs().memoizedState=[n,t===void 0?null:t],n},useContext:Vn,useEffect:Wg,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,Ou(4194308,4,_1.bind(null,t,n),e)},useLayoutEffect:function(n,t){return Ou(4194308,4,n,t)},useInsertionEffect:function(n,t){return Ou(4,2,n,t)},useMemo:function(n,t){var e=cs();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var s=cs();return t=e!==void 0?e(t):t,s.memoizedState=s.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},s.queue=n,n=n.dispatch=vS.bind(null,Ft,n),[s.memoizedState,n]},useRef:function(n){var t=cs();return n={current:n},t.memoizedState=n},useState:jg,useDebugValue:em,useDeferredValue:function(n){return cs().memoizedState=n},useTransition:function(){var n=jg(!1),t=n[0];return n=_S.bind(null,n[1]),cs().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var s=Ft,i=cs();if(zt){if(e===void 0)throw Error(F(407));e=e()}else{if(e=t(),he===null)throw Error(F(349));_r&30||h1(s,t,e)}i.memoizedState=e;var r={value:e,getSnapshot:t};return i.queue=r,Wg(f1.bind(null,s,r,n),[n]),s.flags|=2048,al(9,d1.bind(null,s,r,e,t),void 0,null),e},useId:function(){var n=cs(),t=he.identifierPrefix;if(zt){var e=Bs,s=Ds;e=(s&~(1<<32-Jn(s)-1)).toString(32)+e,t=":"+t+"R"+e,e=rl++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=xS++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},TS={readContext:Vn,useCallback:N1,useContext:Vn,useEffect:tm,useImperativeHandle:v1,useInsertionEffect:y1,useLayoutEffect:x1,useMemo:w1,useReducer:bh,useRef:g1,useState:function(){return bh(ol)},useDebugValue:em,useDeferredValue:function(n){var t=Fn();return T1(t,Kt.memoizedState,n)},useTransition:function(){var n=bh(ol)[0],t=Fn().memoizedState;return[n,t]},useMutableSource:u1,useSyncExternalStore:c1,useId:M1,unstable_isNewReconciler:!1},MS={readContext:Vn,useCallback:N1,useContext:Vn,useEffect:tm,useImperativeHandle:v1,useInsertionEffect:y1,useLayoutEffect:x1,useMemo:w1,useReducer:Dh,useRef:g1,useState:function(){return Dh(ol)},useDebugValue:em,useDeferredValue:function(n){var t=Fn();return Kt===null?t.memoizedState=n:T1(t,Kt.memoizedState,n)},useTransition:function(){var n=Dh(ol)[0],t=Fn().memoizedState;return[n,t]},useMutableSource:u1,useSyncExternalStore:c1,useId:M1,unstable_isNewReconciler:!1};function qn(n,t){if(n&&n.defaultProps){t=Dt({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function _f(n,t,e,s){t=n.memoizedState,e=e(s,t),e=e==null?t:Dt({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var Wc={isMounted:function(n){return(n=n._reactInternals)?zr(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var s=be(),i=Si(n),r=js(s,i);r.payload=t,e!=null&&(r.callback=e),t=Ti(n,r,i),t!==null&&(Kn(t,n,i,s),Ru(t,n,i))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var s=be(),i=Si(n),r=js(s,i);r.tag=1,r.payload=t,e!=null&&(r.callback=e),t=Ti(n,r,i),t!==null&&(Kn(t,n,i,s),Ru(t,n,i))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=be(),s=Si(n),i=js(e,s);i.tag=2,t!=null&&(i.callback=t),t=Ti(n,i,s),t!==null&&(Kn(t,n,s,e),Ru(t,n,s))}};function Hg(n,t,e,s,i,r,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(s,r,o):t.prototype&&t.prototype.isPureReactComponent?!Ka(e,s)||!Ka(i,r):!0}function E1(n,t,e){var s=!1,i=ki,r=t.contextType;return typeof r=="object"&&r!==null?r=Vn(r):(i=Ye(t)?yr:Ie.current,s=t.contextTypes,r=(s=s!=null)?Lo(n,i):ki),t=new t(e,r),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wc,n.stateNode=t,t._reactInternals=n,s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=r),t}function $g(n,t,e,s){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,s),t.state!==n&&Wc.enqueueReplaceState(t,t.state,null)}function vf(n,t,e,s){var i=n.stateNode;i.props=e,i.state=n.memoizedState,i.refs={},qp(n);var r=t.contextType;typeof r=="object"&&r!==null?i.context=Vn(r):(r=Ye(t)?yr:Ie.current,i.context=Lo(n,r)),i.state=n.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(_f(n,t,r,e),i.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Wc.enqueueReplaceState(i,i.state,null),ic(n,e,i,s),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Fo(n,t){try{var e="",s=t;do e+=JT(s),s=s.return;while(s);var i=e}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:t,stack:i,digest:null}}function Bh(n,t,e){return{value:n,source:null,stack:e??null,digest:t??null}}function Nf(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var SS=typeof WeakMap=="function"?WeakMap:Map;function z1(n,t,e){e=js(-1,e),e.tag=3,e.payload={element:null};var s=t.value;return e.callback=function(){uc||(uc=!0,kf=s),Nf(n,t)},e}function R1(n,t,e){e=js(-1,e),e.tag=3;var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;e.payload=function(){return s(i)},e.callback=function(){Nf(n,t)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Nf(n,t),typeof s!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),e}function Gg(n,t,e){var s=n.pingCache;if(s===null){s=n.pingCache=new SS;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(e)||(i.add(e),n=DS.bind(null,n,t,e),t.then(n,n))}function qg(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function Xg(n,t,e,s,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=js(-1,1),t.tag=2,Ti(e,t,1))),e.lanes|=1),n)}var AS=Js.ReactCurrentOwner,Ge=!1;function Ve(n,t,e,s){t.child=n===null?r1(t,null,e,s):Po(t,n.child,e,s)}function Yg(n,t,e,s,i){e=e.render;var r=t.ref;return vo(t,i),s=Jp(n,t,e,s,r,i),e=Kp(),n!==null&&!Ge?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~i,Xs(n,t,i)):(zt&&e&&Bp(t),t.flags|=1,Ve(n,t,s,i),t.child)}function Zg(n,t,e,s,i){if(n===null){var r=e.type;return typeof r=="function"&&!um(r)&&r.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=r,k1(n,t,r,s,i)):(n=Vu(e.type,null,s,t,t.mode,i),n.ref=t.ref,n.return=t,t.child=n)}if(r=n.child,!(n.lanes&i)){var o=r.memoizedProps;if(e=e.compare,e=e!==null?e:Ka,e(o,s)&&n.ref===t.ref)return Xs(n,t,i)}return t.flags|=1,n=Ai(r,s),n.ref=t.ref,n.return=t,t.child=n}function k1(n,t,e,s,i){if(n!==null){var r=n.memoizedProps;if(Ka(r,s)&&n.ref===t.ref)if(Ge=!1,t.pendingProps=s=r,(n.lanes&i)!==0)n.flags&131072&&(Ge=!0);else return t.lanes=n.lanes,Xs(n,t,i)}return wf(n,t,e,s,i)}function O1(n,t,e){var s=t.pendingProps,i=s.children,r=n!==null?n.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(lo,ln),ln|=e;else{if(!(e&1073741824))return n=r!==null?r.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,Tt(lo,ln),ln|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:e,Tt(lo,ln),ln|=s}else r!==null?(s=r.baseLanes|e,t.memoizedState=null):s=e,Tt(lo,ln),ln|=s;return Ve(n,t,i,e),t.child}function L1(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function wf(n,t,e,s,i){var r=Ye(e)?yr:Ie.current;return r=Lo(t,r),vo(t,i),e=Jp(n,t,e,s,r,i),s=Kp(),n!==null&&!Ge?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~i,Xs(n,t,i)):(zt&&s&&Bp(t),t.flags|=1,Ve(n,t,e,i),t.child)}function Qg(n,t,e,s,i){if(Ye(e)){var r=!0;Ku(t)}else r=!1;if(vo(t,i),t.stateNode===null)Lu(n,t),E1(t,e,s),vf(t,e,s,i),s=!0;else if(n===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=e.contextType;typeof u=="object"&&u!==null?u=Vn(u):(u=Ye(e)?yr:Ie.current,u=Lo(t,u));var c=e.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==u)&&$g(t,o,s,u),li=!1;var d=t.memoizedState;o.state=d,ic(t,s,o,i),l=t.memoizedState,a!==s||d!==l||Xe.current||li?(typeof c=="function"&&(_f(t,e,c,s),l=t.memoizedState),(a=li||Hg(t,e,a,s,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=l),o.props=s,o.state=l,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,a1(n,t),a=t.memoizedProps,u=t.type===t.elementType?a:qn(t.type,a),o.props=u,h=t.pendingProps,d=o.context,l=e.contextType,typeof l=="object"&&l!==null?l=Vn(l):(l=Ye(e)?yr:Ie.current,l=Lo(t,l));var f=e.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&$g(t,o,s,l),li=!1,d=t.memoizedState,o.state=d,ic(t,s,o,i);var m=t.memoizedState;a!==h||d!==m||Xe.current||li?(typeof f=="function"&&(_f(t,e,f,s),m=t.memoizedState),(u=li||Hg(t,e,u,s,d,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=m),o.props=s,o.state=m,o.context=l,s=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(t.flags|=1024),s=!1)}return Tf(n,t,e,s,r,i)}function Tf(n,t,e,s,i,r){L1(n,t);var o=(t.flags&128)!==0;if(!s&&!o)return i&&Vg(t,e,!1),Xs(n,t,r);s=t.stateNode,AS.current=t;var a=o&&typeof e.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,n!==null&&o?(t.child=Po(t,n.child,null,r),t.child=Po(t,null,a,r)):Ve(n,t,a,r),t.memoizedState=s.state,i&&Vg(t,e,!0),t.child}function I1(n){var t=n.stateNode;t.pendingContext?Pg(n,t.pendingContext,t.pendingContext!==t.context):t.context&&Pg(n,t.context,!1),Xp(n,t.containerInfo)}function Jg(n,t,e,s,i){return Io(),jp(i),t.flags|=256,Ve(n,t,e,s),t.child}var Mf={dehydrated:null,treeContext:null,retryLane:0};function Sf(n){return{baseLanes:n,cachePool:null,transitions:null}}function P1(n,t,e){var s=t.pendingProps,i=Ot.current,r=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(r=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Tt(Ot,i&1),n===null)return yf(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,n=s.fallback,r?(s=t.mode,r=t.child,o={mode:"hidden",children:o},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Gc(o,s,0,null),n=dr(n,s,e,null),r.return=t,n.return=t,r.sibling=n,t.child=r,t.child.memoizedState=Sf(e),t.memoizedState=Mf,n):nm(t,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return CS(n,t,o,s,a,i,e);if(r){r=s.fallback,o=t.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=l,t.deletions=null):(s=Ai(i,l),s.subtreeFlags=i.subtreeFlags&14680064),a!==null?r=Ai(a,r):(r=dr(r,o,e,null),r.flags|=2),r.return=t,s.return=t,s.sibling=r,t.child=s,s=r,r=t.child,o=n.child.memoizedState,o=o===null?Sf(e):{baseLanes:o.baseLanes|e,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=n.childLanes&~e,t.memoizedState=Mf,s}return r=n.child,n=r.sibling,s=Ai(r,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=e),s.return=t,s.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=s,t.memoizedState=null,s}function nm(n,t){return t=Gc({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function Ql(n,t,e,s){return s!==null&&jp(s),Po(t,n.child,null,e),n=nm(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function CS(n,t,e,s,i,r,o){if(e)return t.flags&256?(t.flags&=-257,s=Bh(Error(F(422))),Ql(n,t,o,s)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(r=s.fallback,i=t.mode,s=Gc({mode:"visible",children:s.children},i,0,null),r=dr(r,i,o,null),r.flags|=2,s.return=t,r.return=t,s.sibling=r,t.child=s,t.mode&1&&Po(t,n.child,null,o),t.child.memoizedState=Sf(o),t.memoizedState=Mf,r);if(!(t.mode&1))return Ql(n,t,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var a=s.dgst;return s=a,r=Error(F(419)),s=Bh(r,s,void 0),Ql(n,t,o,s)}if(a=(o&n.childLanes)!==0,Ge||a){if(s=he,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,qs(n,i),Kn(s,n,i,-1))}return lm(),s=Bh(Error(F(421))),Ql(n,t,o,s)}return i.data==="$?"?(t.flags|=128,t.child=n.child,t=BS.bind(null,n),i._reactRetry=t,null):(n=r.treeContext,hn=wi(i.nextSibling),mn=t,zt=!0,Zn=null,n!==null&&(zn[Rn++]=Ds,zn[Rn++]=Bs,zn[Rn++]=xr,Ds=n.id,Bs=n.overflow,xr=t),t=nm(t,s.children),t.flags|=4096,t)}function Kg(n,t,e){n.lanes|=t;var s=n.alternate;s!==null&&(s.lanes|=t),xf(n.return,t,e)}function Uh(n,t,e,s,i){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:e,tailMode:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=e,r.tailMode=i)}function V1(n,t,e){var s=t.pendingProps,i=s.revealOrder,r=s.tail;if(Ve(n,t,s.children,e),s=Ot.current,s&2)s=s&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Kg(n,e,t);else if(n.tag===19)Kg(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}s&=1}if(Tt(Ot,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(e=t.child,i=null;e!==null;)n=e.alternate,n!==null&&rc(n)===null&&(i=e),e=e.sibling;e=i,e===null?(i=t.child,t.child=null):(i=e.sibling,e.sibling=null),Uh(t,!1,i,e,r);break;case"backwards":for(e=null,i=t.child,t.child=null;i!==null;){if(n=i.alternate,n!==null&&rc(n)===null){t.child=i;break}n=i.sibling,i.sibling=e,e=i,i=n}Uh(t,!0,e,null,r);break;case"together":Uh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lu(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function Xs(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),vr|=t.lanes,!(e&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(F(153));if(t.child!==null){for(n=t.child,e=Ai(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=Ai(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function ES(n,t,e){switch(t.tag){case 3:I1(t),Io();break;case 5:l1(t);break;case 1:Ye(t.type)&&Ku(t);break;case 4:Xp(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;Tt(nc,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Tt(Ot,Ot.current&1),t.flags|=128,null):e&t.child.childLanes?P1(n,t,e):(Tt(Ot,Ot.current&1),n=Xs(n,t,e),n!==null?n.sibling:null);Tt(Ot,Ot.current&1);break;case 19:if(s=(e&t.childLanes)!==0,n.flags&128){if(s)return V1(n,t,e);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Tt(Ot,Ot.current),s)break;return null;case 22:case 23:return t.lanes=0,O1(n,t,e)}return Xs(n,t,e)}var F1,Af,b1,D1;F1=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};Af=function(){};b1=function(n,t,e,s){var i=n.memoizedProps;if(i!==s){n=t.stateNode,lr(Ns.current);var r=null;switch(e){case"input":i=qd(n,i),s=qd(n,s),r=[];break;case"select":i=Dt({},i,{value:void 0}),s=Dt({},s,{value:void 0}),r=[];break;case"textarea":i=Zd(n,i),s=Zd(n,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(n.onclick=Qu)}Jd(e,s);var o;e=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(e||(e={}),e[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ga.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in s){var l=s[u];if(a=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(e||(e={}),e[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(e||(e={}),e[o]=l[o])}else e||(r||(r=[]),r.push(u,e)),e=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ga.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&At("scroll",n),r||a===l||(r=[])):(r=r||[]).push(u,l))}e&&(r=r||[]).push("style",e);var u=r;(t.updateQueue=u)&&(t.flags|=4)}};D1=function(n,t,e,s){e!==s&&(t.flags|=4)};function da(n,t){if(!zt)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:s.sibling=null}}function Te(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,s=0;if(t)for(var i=n.child;i!==null;)e|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)e|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=s,n.childLanes=e,t}function zS(n,t,e){var s=t.pendingProps;switch(Up(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return Ye(t.type)&&Ju(),Te(t),null;case 3:return s=t.stateNode,Vo(),Ct(Xe),Ct(Ie),Zp(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Yl(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zn!==null&&(If(Zn),Zn=null))),Af(n,t),Te(t),null;case 5:Yp(t);var i=lr(il.current);if(e=t.type,n!==null&&t.stateNode!=null)b1(n,t,e,s,i),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(F(166));return Te(t),null}if(n=lr(Ns.current),Yl(t)){s=t.stateNode,e=t.type;var r=t.memoizedProps;switch(s[ms]=t,s[nl]=r,n=(t.mode&1)!==0,e){case"dialog":At("cancel",s),At("close",s);break;case"iframe":case"object":case"embed":At("load",s);break;case"video":case"audio":for(i=0;i<Aa.length;i++)At(Aa[i],s);break;case"source":At("error",s);break;case"img":case"image":case"link":At("error",s),At("load",s);break;case"details":At("toggle",s);break;case"input":lg(s,r),At("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},At("invalid",s);break;case"textarea":cg(s,r),At("invalid",s)}Jd(e,r),i=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?s.textContent!==a&&(r.suppressHydrationWarning!==!0&&Xl(s.textContent,a,n),i=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Xl(s.textContent,a,n),i=["children",""+a]):Ga.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&At("scroll",s)}switch(e){case"input":Bl(s),ug(s,r,!0);break;case"textarea":Bl(s),hg(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=Qu)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=fx(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof s.is=="string"?n=o.createElement(e,{is:s.is}):(n=o.createElement(e),e==="select"&&(o=n,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):n=o.createElementNS(n,e),n[ms]=t,n[nl]=s,F1(n,t,!1,!1),t.stateNode=n;t:{switch(o=Kd(e,s),e){case"dialog":At("cancel",n),At("close",n),i=s;break;case"iframe":case"object":case"embed":At("load",n),i=s;break;case"video":case"audio":for(i=0;i<Aa.length;i++)At(Aa[i],n);i=s;break;case"source":At("error",n),i=s;break;case"img":case"image":case"link":At("error",n),At("load",n),i=s;break;case"details":At("toggle",n),i=s;break;case"input":lg(n,s),i=qd(n,s),At("invalid",n);break;case"option":i=s;break;case"select":n._wrapperState={wasMultiple:!!s.multiple},i=Dt({},s,{value:void 0}),At("invalid",n);break;case"textarea":cg(n,s),i=Zd(n,s),At("invalid",n);break;default:i=s}Jd(e,i),a=i;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?gx(n,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&px(n,l)):r==="children"?typeof l=="string"?(e!=="textarea"||l!=="")&&qa(n,l):typeof l=="number"&&qa(n,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Ga.hasOwnProperty(r)?l!=null&&r==="onScroll"&&At("scroll",n):l!=null&&Ap(n,r,l,o))}switch(e){case"input":Bl(n),ug(n,s,!1);break;case"textarea":Bl(n),hg(n);break;case"option":s.value!=null&&n.setAttribute("value",""+Ri(s.value));break;case"select":n.multiple=!!s.multiple,r=s.value,r!=null?go(n,!!s.multiple,r,!1):s.defaultValue!=null&&go(n,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Qu)}switch(e){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break t;case"img":s=!0;break t;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Te(t),null;case 6:if(n&&t.stateNode!=null)D1(n,t,n.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(F(166));if(e=lr(il.current),lr(Ns.current),Yl(t)){if(s=t.stateNode,e=t.memoizedProps,s[ms]=t,(r=s.nodeValue!==e)&&(n=mn,n!==null))switch(n.tag){case 3:Xl(s.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Xl(s.nodeValue,e,(n.mode&1)!==0)}r&&(t.flags|=4)}else s=(e.nodeType===9?e:e.ownerDocument).createTextNode(s),s[ms]=t,t.stateNode=s}return Te(t),null;case 13:if(Ct(Ot),s=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(zt&&hn!==null&&t.mode&1&&!(t.flags&128))s1(),Io(),t.flags|=98560,r=!1;else if(r=Yl(t),s!==null&&s.dehydrated!==null){if(n===null){if(!r)throw Error(F(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(F(317));r[ms]=t}else Io(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),r=!1}else Zn!==null&&(If(Zn),Zn=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(s=s!==null,s!==(n!==null&&n.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(n===null||Ot.current&1?ie===0&&(ie=3):lm())),t.updateQueue!==null&&(t.flags|=4),Te(t),null);case 4:return Vo(),Af(n,t),n===null&&tl(t.stateNode.containerInfo),Te(t),null;case 10:return $p(t.type._context),Te(t),null;case 17:return Ye(t.type)&&Ju(),Te(t),null;case 19:if(Ct(Ot),r=t.memoizedState,r===null)return Te(t),null;if(s=(t.flags&128)!==0,o=r.rendering,o===null)if(s)da(r,!1);else{if(ie!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(o=rc(n),o!==null){for(t.flags|=128,da(r,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=e,e=t.child;e!==null;)r=e,n=s,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,n=o.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return Tt(Ot,Ot.current&1|2),t.child}n=n.sibling}r.tail!==null&&Gt()>bo&&(t.flags|=128,s=!0,da(r,!1),t.lanes=4194304)}else{if(!s)if(n=rc(o),n!==null){if(t.flags|=128,s=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),da(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!zt)return Te(t),null}else 2*Gt()-r.renderingStartTime>bo&&e!==1073741824&&(t.flags|=128,s=!0,da(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e!==null?e.sibling=o:t.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Gt(),t.sibling=null,e=Ot.current,Tt(Ot,s?e&1|2:e&1),t):(Te(t),null);case 22:case 23:return am(),s=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?ln&1073741824&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function RS(n,t){switch(Up(t),t.tag){case 1:return Ye(t.type)&&Ju(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return Vo(),Ct(Xe),Ct(Ie),Zp(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return Yp(t),null;case 13:if(Ct(Ot),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Io()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return Ct(Ot),null;case 4:return Vo(),null;case 10:return $p(t.type._context),null;case 22:case 23:return am(),null;case 24:return null;default:return null}}var Jl=!1,Ae=!1,kS=typeof WeakSet=="function"?WeakSet:Set,j=null;function ao(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(s){Bt(n,t,s)}else e.current=null}function Cf(n,t,e){try{e()}catch(s){Bt(n,t,s)}}var t0=!1;function OS(n,t){if(cf=Xu,n=Hx(),Dp(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else t:{e=(e=n.ownerDocument)&&e.defaultView||window;var s=e.getSelection&&e.getSelection();if(s&&s.rangeCount!==0){e=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{e.nodeType,r.nodeType}catch{e=null;break t}var o=0,a=-1,l=-1,u=0,c=0,h=n,d=null;e:for(;;){for(var f;h!==e||i!==0&&h.nodeType!==3||(a=o+i),h!==r||s!==0&&h.nodeType!==3||(l=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===n)break e;if(d===e&&++u===i&&(a=o),d===r&&++c===s&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}e=a===-1||l===-1?null:{start:a,end:l}}else e=null}e=e||{start:0,end:0}}else e=null;for(hf={focusedElem:n,selectionRange:e},Xu=!1,j=t;j!==null;)if(t=j,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,j=n;else for(;j!==null;){t=j;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,_=m.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?p:qn(t.type,p),_);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(v){Bt(t,t.return,v)}if(n=t.sibling,n!==null){n.return=t.return,j=n;break}j=t.return}return m=t0,t0=!1,m}function Va(n,t,e){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&n)===n){var r=i.destroy;i.destroy=void 0,r!==void 0&&Cf(t,e,r)}i=i.next}while(i!==s)}}function Hc(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var s=e.create;e.destroy=s()}e=e.next}while(e!==t)}}function Ef(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function B1(n){var t=n.alternate;t!==null&&(n.alternate=null,B1(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[ms],delete t[nl],delete t[pf],delete t[pS],delete t[mS])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function U1(n){return n.tag===5||n.tag===3||n.tag===4}function e0(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||U1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function zf(n,t,e){var s=n.tag;if(s===5||s===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=Qu));else if(s!==4&&(n=n.child,n!==null))for(zf(n,t,e),n=n.sibling;n!==null;)zf(n,t,e),n=n.sibling}function Rf(n,t,e){var s=n.tag;if(s===5||s===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(s!==4&&(n=n.child,n!==null))for(Rf(n,t,e),n=n.sibling;n!==null;)Rf(n,t,e),n=n.sibling}var pe=null,Xn=!1;function ti(n,t,e){for(e=e.child;e!==null;)j1(n,t,e),e=e.sibling}function j1(n,t,e){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(Vc,e)}catch{}switch(e.tag){case 5:Ae||ao(e,t);case 6:var s=pe,i=Xn;pe=null,ti(n,t,e),pe=s,Xn=i,pe!==null&&(Xn?(n=pe,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):pe.removeChild(e.stateNode));break;case 18:pe!==null&&(Xn?(n=pe,e=e.stateNode,n.nodeType===8?Ih(n.parentNode,e):n.nodeType===1&&Ih(n,e),Qa(n)):Ih(pe,e.stateNode));break;case 4:s=pe,i=Xn,pe=e.stateNode.containerInfo,Xn=!0,ti(n,t,e),pe=s,Xn=i;break;case 0:case 11:case 14:case 15:if(!Ae&&(s=e.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&Cf(e,t,o),i=i.next}while(i!==s)}ti(n,t,e);break;case 1:if(!Ae&&(ao(e,t),s=e.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=e.memoizedProps,s.state=e.memoizedState,s.componentWillUnmount()}catch(a){Bt(e,t,a)}ti(n,t,e);break;case 21:ti(n,t,e);break;case 22:e.mode&1?(Ae=(s=Ae)||e.memoizedState!==null,ti(n,t,e),Ae=s):ti(n,t,e);break;default:ti(n,t,e)}}function n0(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new kS),t.forEach(function(s){var i=US.bind(null,n,s);e.has(s)||(e.add(s),s.then(i,i))})}}function jn(n,t){var e=t.deletions;if(e!==null)for(var s=0;s<e.length;s++){var i=e[s];try{var r=n,o=t,a=o;t:for(;a!==null;){switch(a.tag){case 5:pe=a.stateNode,Xn=!1;break t;case 3:pe=a.stateNode.containerInfo,Xn=!0;break t;case 4:pe=a.stateNode.containerInfo,Xn=!0;break t}a=a.return}if(pe===null)throw Error(F(160));j1(r,o,i),pe=null,Xn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Bt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)W1(t,n),t=t.sibling}function W1(n,t){var e=n.alternate,s=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(jn(t,n),ls(n),s&4){try{Va(3,n,n.return),Hc(3,n)}catch(p){Bt(n,n.return,p)}try{Va(5,n,n.return)}catch(p){Bt(n,n.return,p)}}break;case 1:jn(t,n),ls(n),s&512&&e!==null&&ao(e,e.return);break;case 5:if(jn(t,n),ls(n),s&512&&e!==null&&ao(e,e.return),n.flags&32){var i=n.stateNode;try{qa(i,"")}catch(p){Bt(n,n.return,p)}}if(s&4&&(i=n.stateNode,i!=null)){var r=n.memoizedProps,o=e!==null?e.memoizedProps:r,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&hx(i,r),Kd(a,o);var u=Kd(a,r);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?gx(i,h):c==="dangerouslySetInnerHTML"?px(i,h):c==="children"?qa(i,h):Ap(i,c,h,u)}switch(a){case"input":Xd(i,r);break;case"textarea":dx(i,r);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var f=r.value;f!=null?go(i,!!r.multiple,f,!1):d!==!!r.multiple&&(r.defaultValue!=null?go(i,!!r.multiple,r.defaultValue,!0):go(i,!!r.multiple,r.multiple?[]:"",!1))}i[nl]=r}catch(p){Bt(n,n.return,p)}}break;case 6:if(jn(t,n),ls(n),s&4){if(n.stateNode===null)throw Error(F(162));i=n.stateNode,r=n.memoizedProps;try{i.nodeValue=r}catch(p){Bt(n,n.return,p)}}break;case 3:if(jn(t,n),ls(n),s&4&&e!==null&&e.memoizedState.isDehydrated)try{Qa(t.containerInfo)}catch(p){Bt(n,n.return,p)}break;case 4:jn(t,n),ls(n);break;case 13:jn(t,n),ls(n),i=n.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(rm=Gt())),s&4&&n0(n);break;case 22:if(c=e!==null&&e.memoizedState!==null,n.mode&1?(Ae=(u=Ae)||c,jn(t,n),Ae=u):jn(t,n),ls(n),s&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&n.mode&1)for(j=n,c=n.child;c!==null;){for(h=j=c;j!==null;){switch(d=j,f=d.child,d.tag){case 0:case 11:case 14:case 15:Va(4,d,d.return);break;case 1:ao(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){s=d,e=d.return;try{t=s,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(p){Bt(s,e,p)}}break;case 5:ao(d,d.return);break;case 22:if(d.memoizedState!==null){i0(h);continue}}f!==null?(f.return=d,j=f):i0(h)}c=c.sibling}t:for(c=null,h=n;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mx("display",o))}catch(p){Bt(n,n.return,p)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){Bt(n,n.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:jn(t,n),ls(n),s&4&&n0(n);break;case 21:break;default:jn(t,n),ls(n)}}function ls(n){var t=n.flags;if(t&2){try{t:{for(var e=n.return;e!==null;){if(U1(e)){var s=e;break t}e=e.return}throw Error(F(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(qa(i,""),s.flags&=-33);var r=e0(n);Rf(n,r,i);break;case 3:case 4:var o=s.stateNode.containerInfo,a=e0(n);zf(n,a,o);break;default:throw Error(F(161))}}catch(l){Bt(n,n.return,l)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function LS(n,t,e){j=n,H1(n)}function H1(n,t,e){for(var s=(n.mode&1)!==0;j!==null;){var i=j,r=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Jl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ae;a=Jl;var u=Ae;if(Jl=o,(Ae=l)&&!u)for(j=i;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?r0(i):l!==null?(l.return=o,j=l):r0(i);for(;r!==null;)j=r,H1(r),r=r.sibling;j=i,Jl=a,Ae=u}s0(n)}else i.subtreeFlags&8772&&r!==null?(r.return=i,j=r):s0(n)}}function s0(n){for(;j!==null;){var t=j;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ae||Hc(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ae)if(e===null)s.componentDidMount();else{var i=t.elementType===t.type?e.memoizedProps:qn(t.type,e.memoizedProps);s.componentDidUpdate(i,e.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&Ug(t,r,s);break;case 3:var o=t.updateQueue;if(o!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}Ug(t,o,e)}break;case 5:var a=t.stateNode;if(e===null&&t.flags&4){e=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&e.focus();break;case"img":l.src&&(e.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Qa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Ae||t.flags&512&&Ef(t)}catch(d){Bt(t,t.return,d)}}if(t===n){j=null;break}if(e=t.sibling,e!==null){e.return=t.return,j=e;break}j=t.return}}function i0(n){for(;j!==null;){var t=j;if(t===n){j=null;break}var e=t.sibling;if(e!==null){e.return=t.return,j=e;break}j=t.return}}function r0(n){for(;j!==null;){var t=j;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{Hc(4,t)}catch(l){Bt(t,e,l)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(l){Bt(t,i,l)}}var r=t.return;try{Ef(t)}catch(l){Bt(t,r,l)}break;case 5:var o=t.return;try{Ef(t)}catch(l){Bt(t,o,l)}}}catch(l){Bt(t,t.return,l)}if(t===n){j=null;break}var a=t.sibling;if(a!==null){a.return=t.return,j=a;break}j=t.return}}var IS=Math.ceil,lc=Js.ReactCurrentDispatcher,sm=Js.ReactCurrentOwner,Pn=Js.ReactCurrentBatchConfig,rt=0,he=null,Jt=null,ye=0,ln=0,lo=Di(0),ie=0,ll=null,vr=0,$c=0,im=0,Fa=null,$e=null,rm=0,bo=1/0,Ls=null,uc=!1,kf=null,Mi=null,Kl=!1,fi=null,cc=0,ba=0,Of=null,Iu=-1,Pu=0;function be(){return rt&6?Gt():Iu!==-1?Iu:Iu=Gt()}function Si(n){return n.mode&1?rt&2&&ye!==0?ye&-ye:yS.transition!==null?(Pu===0&&(Pu=Ex()),Pu):(n=ft,n!==0||(n=window.event,n=n===void 0?16:Px(n.type)),n):1}function Kn(n,t,e,s){if(50<ba)throw ba=0,Of=null,Error(F(185));Sl(n,e,s),(!(rt&2)||n!==he)&&(n===he&&(!(rt&2)&&($c|=e),ie===4&&hi(n,ye)),Ze(n,s),e===1&&rt===0&&!(t.mode&1)&&(bo=Gt()+500,Uc&&Bi()))}function Ze(n,t){var e=n.callbackNode;yM(n,t);var s=qu(n,n===he?ye:0);if(s===0)e!==null&&pg(e),n.callbackNode=null,n.callbackPriority=0;else if(t=s&-s,n.callbackPriority!==t){if(e!=null&&pg(e),t===1)n.tag===0?gS(o0.bind(null,n)):t1(o0.bind(null,n)),dS(function(){!(rt&6)&&Bi()}),e=null;else{switch(zx(s)){case 1:e=kp;break;case 4:e=Ax;break;case 16:e=Gu;break;case 536870912:e=Cx;break;default:e=Gu}e=J1(e,$1.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function $1(n,t){if(Iu=-1,Pu=0,rt&6)throw Error(F(327));var e=n.callbackNode;if(No()&&n.callbackNode!==e)return null;var s=qu(n,n===he?ye:0);if(s===0)return null;if(s&30||s&n.expiredLanes||t)t=hc(n,s);else{t=s;var i=rt;rt|=2;var r=q1();(he!==n||ye!==t)&&(Ls=null,bo=Gt()+500,hr(n,t));do try{FS();break}catch(a){G1(n,a)}while(!0);Hp(),lc.current=r,rt=i,Jt!==null?t=0:(he=null,ye=0,t=ie)}if(t!==0){if(t===2&&(i=rf(n),i!==0&&(s=i,t=Lf(n,i))),t===1)throw e=ll,hr(n,0),hi(n,s),Ze(n,Gt()),e;if(t===6)hi(n,s);else{if(i=n.current.alternate,!(s&30)&&!PS(i)&&(t=hc(n,s),t===2&&(r=rf(n),r!==0&&(s=r,t=Lf(n,r))),t===1))throw e=ll,hr(n,0),hi(n,s),Ze(n,Gt()),e;switch(n.finishedWork=i,n.finishedLanes=s,t){case 0:case 1:throw Error(F(345));case 2:tr(n,$e,Ls);break;case 3:if(hi(n,s),(s&130023424)===s&&(t=rm+500-Gt(),10<t)){if(qu(n,0)!==0)break;if(i=n.suspendedLanes,(i&s)!==s){be(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=ff(tr.bind(null,n,$e,Ls),t);break}tr(n,$e,Ls);break;case 4:if(hi(n,s),(s&4194240)===s)break;for(t=n.eventTimes,i=-1;0<s;){var o=31-Jn(s);r=1<<o,o=t[o],o>i&&(i=o),s&=~r}if(s=i,s=Gt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*IS(s/1960))-s,10<s){n.timeoutHandle=ff(tr.bind(null,n,$e,Ls),s);break}tr(n,$e,Ls);break;case 5:tr(n,$e,Ls);break;default:throw Error(F(329))}}}return Ze(n,Gt()),n.callbackNode===e?$1.bind(null,n):null}function Lf(n,t){var e=Fa;return n.current.memoizedState.isDehydrated&&(hr(n,t).flags|=256),n=hc(n,t),n!==2&&(t=$e,$e=e,t!==null&&If(t)),n}function If(n){$e===null?$e=n:$e.push.apply($e,n)}function PS(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var s=0;s<e.length;s++){var i=e[s],r=i.getSnapshot;i=i.value;try{if(!ss(r(),i))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hi(n,t){for(t&=~im,t&=~$c,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-Jn(t),s=1<<e;n[e]=-1,t&=~s}}function o0(n){if(rt&6)throw Error(F(327));No();var t=qu(n,0);if(!(t&1))return Ze(n,Gt()),null;var e=hc(n,t);if(n.tag!==0&&e===2){var s=rf(n);s!==0&&(t=s,e=Lf(n,s))}if(e===1)throw e=ll,hr(n,0),hi(n,t),Ze(n,Gt()),e;if(e===6)throw Error(F(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,tr(n,$e,Ls),Ze(n,Gt()),null}function om(n,t){var e=rt;rt|=1;try{return n(t)}finally{rt=e,rt===0&&(bo=Gt()+500,Uc&&Bi())}}function Nr(n){fi!==null&&fi.tag===0&&!(rt&6)&&No();var t=rt;rt|=1;var e=Pn.transition,s=ft;try{if(Pn.transition=null,ft=1,n)return n()}finally{ft=s,Pn.transition=e,rt=t,!(rt&6)&&Bi()}}function am(){ln=lo.current,Ct(lo)}function hr(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,hS(e)),Jt!==null)for(e=Jt.return;e!==null;){var s=e;switch(Up(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ju();break;case 3:Vo(),Ct(Xe),Ct(Ie),Zp();break;case 5:Yp(s);break;case 4:Vo();break;case 13:Ct(Ot);break;case 19:Ct(Ot);break;case 10:$p(s.type._context);break;case 22:case 23:am()}e=e.return}if(he=n,Jt=n=Ai(n.current,null),ye=ln=t,ie=0,ll=null,im=$c=vr=0,$e=Fa=null,ar!==null){for(t=0;t<ar.length;t++)if(e=ar[t],s=e.interleaved,s!==null){e.interleaved=null;var i=s.next,r=e.pending;if(r!==null){var o=r.next;r.next=i,s.next=o}e.pending=s}ar=null}return n}function G1(n,t){do{var e=Jt;try{if(Hp(),ku.current=ac,oc){for(var s=Ft.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}oc=!1}if(_r=0,ae=Kt=Ft=null,Pa=!1,rl=0,sm.current=null,e===null||e.return===null){ie=1,ll=t,Jt=null;break}t:{var r=n,o=e.return,a=e,l=t;if(t=ye,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=qg(o);if(f!==null){f.flags&=-257,Xg(f,o,a,r,t),f.mode&1&&Gg(r,u,t),t=f,l=u;var m=t.updateQueue;if(m===null){var p=new Set;p.add(l),t.updateQueue=p}else m.add(l);break t}else{if(!(t&1)){Gg(r,u,t),lm();break t}l=Error(F(426))}}else if(zt&&a.mode&1){var _=qg(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Xg(_,o,a,r,t),jp(Fo(l,a));break t}}r=l=Fo(l,a),ie!==4&&(ie=2),Fa===null?Fa=[r]:Fa.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var g=z1(r,l,t);Bg(r,g);break t;case 1:a=l;var y=r.type,x=r.stateNode;if(!(r.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Mi===null||!Mi.has(x)))){r.flags|=65536,t&=-t,r.lanes|=t;var v=R1(r,a,t);Bg(r,v);break t}}r=r.return}while(r!==null)}Y1(e)}catch(w){t=w,Jt===e&&e!==null&&(Jt=e=e.return);continue}break}while(!0)}function q1(){var n=lc.current;return lc.current=ac,n===null?ac:n}function lm(){(ie===0||ie===3||ie===2)&&(ie=4),he===null||!(vr&268435455)&&!($c&268435455)||hi(he,ye)}function hc(n,t){var e=rt;rt|=2;var s=q1();(he!==n||ye!==t)&&(Ls=null,hr(n,t));do try{VS();break}catch(i){G1(n,i)}while(!0);if(Hp(),rt=e,lc.current=s,Jt!==null)throw Error(F(261));return he=null,ye=0,ie}function VS(){for(;Jt!==null;)X1(Jt)}function FS(){for(;Jt!==null&&!lM();)X1(Jt)}function X1(n){var t=Q1(n.alternate,n,ln);n.memoizedProps=n.pendingProps,t===null?Y1(n):Jt=t,sm.current=null}function Y1(n){var t=n;do{var e=t.alternate;if(n=t.return,t.flags&32768){if(e=RS(e,t),e!==null){e.flags&=32767,Jt=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ie=6,Jt=null;return}}else if(e=zS(e,t,ln),e!==null){Jt=e;return}if(t=t.sibling,t!==null){Jt=t;return}Jt=t=n}while(t!==null);ie===0&&(ie=5)}function tr(n,t,e){var s=ft,i=Pn.transition;try{Pn.transition=null,ft=1,bS(n,t,e,s)}finally{Pn.transition=i,ft=s}return null}function bS(n,t,e,s){do No();while(fi!==null);if(rt&6)throw Error(F(327));e=n.finishedWork;var i=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(F(177));n.callbackNode=null,n.callbackPriority=0;var r=e.lanes|e.childLanes;if(xM(n,r),n===he&&(Jt=he=null,ye=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||Kl||(Kl=!0,J1(Gu,function(){return No(),null})),r=(e.flags&15990)!==0,e.subtreeFlags&15990||r){r=Pn.transition,Pn.transition=null;var o=ft;ft=1;var a=rt;rt|=4,sm.current=null,OS(n,e),W1(e,n),iS(hf),Xu=!!cf,hf=cf=null,n.current=e,LS(e),uM(),rt=a,ft=o,Pn.transition=r}else n.current=e;if(Kl&&(Kl=!1,fi=n,cc=i),r=n.pendingLanes,r===0&&(Mi=null),dM(e.stateNode),Ze(n,Gt()),t!==null)for(s=n.onRecoverableError,e=0;e<t.length;e++)i=t[e],s(i.value,{componentStack:i.stack,digest:i.digest});if(uc)throw uc=!1,n=kf,kf=null,n;return cc&1&&n.tag!==0&&No(),r=n.pendingLanes,r&1?n===Of?ba++:(ba=0,Of=n):ba=0,Bi(),null}function No(){if(fi!==null){var n=zx(cc),t=Pn.transition,e=ft;try{if(Pn.transition=null,ft=16>n?16:n,fi===null)var s=!1;else{if(n=fi,fi=null,cc=0,rt&6)throw Error(F(331));var i=rt;for(rt|=4,j=n.current;j!==null;){var r=j,o=r.child;if(j.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:Va(8,c,r)}var h=c.child;if(h!==null)h.return=c,j=h;else for(;j!==null;){c=j;var d=c.sibling,f=c.return;if(B1(c),c===u){j=null;break}if(d!==null){d.return=f,j=d;break}j=f}}}var m=r.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var _=p.sibling;p.sibling=null,p=_}while(p!==null)}}j=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,j=o;else t:for(;j!==null;){if(r=j,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Va(9,r,r.return)}var g=r.sibling;if(g!==null){g.return=r.return,j=g;break t}j=r.return}}var y=n.current;for(j=y;j!==null;){o=j;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,j=x;else t:for(o=y;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hc(9,a)}}catch(w){Bt(a,a.return,w)}if(a===o){j=null;break t}var v=a.sibling;if(v!==null){v.return=a.return,j=v;break t}j=a.return}}if(rt=i,Bi(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(Vc,n)}catch{}s=!0}return s}finally{ft=e,Pn.transition=t}}return!1}function a0(n,t,e){t=Fo(e,t),t=z1(n,t,1),n=Ti(n,t,1),t=be(),n!==null&&(Sl(n,1,t),Ze(n,t))}function Bt(n,t,e){if(n.tag===3)a0(n,n,e);else for(;t!==null;){if(t.tag===3){a0(t,n,e);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Mi===null||!Mi.has(s))){n=Fo(e,n),n=R1(t,n,1),t=Ti(t,n,1),n=be(),t!==null&&(Sl(t,1,n),Ze(t,n));break}}t=t.return}}function DS(n,t,e){var s=n.pingCache;s!==null&&s.delete(t),t=be(),n.pingedLanes|=n.suspendedLanes&e,he===n&&(ye&e)===e&&(ie===4||ie===3&&(ye&130023424)===ye&&500>Gt()-rm?hr(n,0):im|=e),Ze(n,t)}function Z1(n,t){t===0&&(n.mode&1?(t=Wl,Wl<<=1,!(Wl&130023424)&&(Wl=4194304)):t=1);var e=be();n=qs(n,t),n!==null&&(Sl(n,t,e),Ze(n,e))}function BS(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),Z1(n,e)}function US(n,t){var e=0;switch(n.tag){case 13:var s=n.stateNode,i=n.memoizedState;i!==null&&(e=i.retryLane);break;case 19:s=n.stateNode;break;default:throw Error(F(314))}s!==null&&s.delete(t),Z1(n,e)}var Q1;Q1=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||Xe.current)Ge=!0;else{if(!(n.lanes&e)&&!(t.flags&128))return Ge=!1,ES(n,t,e);Ge=!!(n.flags&131072)}else Ge=!1,zt&&t.flags&1048576&&e1(t,ec,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Lu(n,t),n=t.pendingProps;var i=Lo(t,Ie.current);vo(t,e),i=Jp(null,t,s,n,i,e);var r=Kp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(s)?(r=!0,Ku(t)):r=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qp(t),i.updater=Wc,t.stateNode=i,i._reactInternals=t,vf(t,s,n,e),t=Tf(null,t,s,!0,r,e)):(t.tag=0,zt&&r&&Bp(t),Ve(null,t,i,e),t=t.child),t;case 16:s=t.elementType;t:{switch(Lu(n,t),n=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=WS(s),n=qn(s,n),i){case 0:t=wf(null,t,s,n,e);break t;case 1:t=Qg(null,t,s,n,e);break t;case 11:t=Yg(null,t,s,n,e);break t;case 14:t=Zg(null,t,s,qn(s.type,n),e);break t}throw Error(F(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:qn(s,i),wf(n,t,s,i,e);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:qn(s,i),Qg(n,t,s,i,e);case 3:t:{if(I1(t),n===null)throw Error(F(387));s=t.pendingProps,r=t.memoizedState,i=r.element,a1(n,t),ic(t,s,null,e);var o=t.memoizedState;if(s=o.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){i=Fo(Error(F(423)),t),t=Jg(n,t,s,e,i);break t}else if(s!==i){i=Fo(Error(F(424)),t),t=Jg(n,t,s,e,i);break t}else for(hn=wi(t.stateNode.containerInfo.firstChild),mn=t,zt=!0,Zn=null,e=r1(t,null,s,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(Io(),s===i){t=Xs(n,t,e);break t}Ve(n,t,s,e)}t=t.child}return t;case 5:return l1(t),n===null&&yf(t),s=t.type,i=t.pendingProps,r=n!==null?n.memoizedProps:null,o=i.children,df(s,i)?o=null:r!==null&&df(s,r)&&(t.flags|=32),L1(n,t),Ve(n,t,o,e),t.child;case 6:return n===null&&yf(t),null;case 13:return P1(n,t,e);case 4:return Xp(t,t.stateNode.containerInfo),s=t.pendingProps,n===null?t.child=Po(t,null,s,e):Ve(n,t,s,e),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:qn(s,i),Yg(n,t,s,i,e);case 7:return Ve(n,t,t.pendingProps,e),t.child;case 8:return Ve(n,t,t.pendingProps.children,e),t.child;case 12:return Ve(n,t,t.pendingProps.children,e),t.child;case 10:t:{if(s=t.type._context,i=t.pendingProps,r=t.memoizedProps,o=i.value,Tt(nc,s._currentValue),s._currentValue=o,r!==null)if(ss(r.value,o)){if(r.children===i.children&&!Xe.current){t=Xs(n,t,e);break t}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(r.tag===1){l=js(-1,e&-e),l.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}r.lanes|=e,l=r.alternate,l!==null&&(l.lanes|=e),xf(r.return,e,t),a.lanes|=e;break}l=l.next}}else if(r.tag===10)o=r.type===t.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(F(341));o.lanes|=e,a=o.alternate,a!==null&&(a.lanes|=e),xf(o,e,t),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===t){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Ve(n,t,i.children,e),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,vo(t,e),i=Vn(i),s=s(i),t.flags|=1,Ve(n,t,s,e),t.child;case 14:return s=t.type,i=qn(s,t.pendingProps),i=qn(s.type,i),Zg(n,t,s,i,e);case 15:return k1(n,t,t.type,t.pendingProps,e);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:qn(s,i),Lu(n,t),t.tag=1,Ye(s)?(n=!0,Ku(t)):n=!1,vo(t,e),E1(t,s,i),vf(t,s,i,e),Tf(null,t,s,!0,n,e);case 19:return V1(n,t,e);case 22:return O1(n,t,e)}throw Error(F(156,t.tag))};function J1(n,t){return Sx(n,t)}function jS(n,t,e,s){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(n,t,e,s){return new jS(n,t,e,s)}function um(n){return n=n.prototype,!(!n||!n.isReactComponent)}function WS(n){if(typeof n=="function")return um(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Ep)return 11;if(n===zp)return 14}return 2}function Ai(n,t){var e=n.alternate;return e===null?(e=kn(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function Vu(n,t,e,s,i,r){var o=2;if(s=n,typeof n=="function")um(n)&&(o=1);else if(typeof n=="string")o=5;else t:switch(n){case Jr:return dr(e.children,i,r,t);case Cp:o=8,i|=8;break;case Wd:return n=kn(12,e,t,i|2),n.elementType=Wd,n.lanes=r,n;case Hd:return n=kn(13,e,t,i),n.elementType=Hd,n.lanes=r,n;case $d:return n=kn(19,e,t,i),n.elementType=$d,n.lanes=r,n;case lx:return Gc(e,i,r,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ox:o=10;break t;case ax:o=9;break t;case Ep:o=11;break t;case zp:o=14;break t;case ai:o=16,s=null;break t}throw Error(F(130,n==null?n:typeof n,""))}return t=kn(o,e,t,i),t.elementType=n,t.type=s,t.lanes=r,t}function dr(n,t,e,s){return n=kn(7,n,s,t),n.lanes=e,n}function Gc(n,t,e,s){return n=kn(22,n,s,t),n.elementType=lx,n.lanes=e,n.stateNode={isHidden:!1},n}function jh(n,t,e){return n=kn(6,n,null,t),n.lanes=e,n}function Wh(n,t,e){return t=kn(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function HS(n,t,e,s,i){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Th(0),this.expirationTimes=Th(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Th(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cm(n,t,e,s,i,r,o,a,l){return n=new HS(n,t,e,a,l),t===1?(t=1,r===!0&&(t|=8)):t=0,r=kn(3,null,null,t),n.current=r,r.stateNode=n,r.memoizedState={element:s,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},qp(r),n}function $S(n,t,e){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qr,key:s==null?null:""+s,children:n,containerInfo:t,implementation:e}}function K1(n){if(!n)return ki;n=n._reactInternals;t:{if(zr(n)!==n||n.tag!==1)throw Error(F(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(F(171))}if(n.tag===1){var e=n.type;if(Ye(e))return Kx(n,e,t)}return t}function t_(n,t,e,s,i,r,o,a,l){return n=cm(e,s,!0,n,i,r,o,a,l),n.context=K1(null),e=n.current,s=be(),i=Si(e),r=js(s,i),r.callback=t??null,Ti(e,r,i),n.current.lanes=i,Sl(n,i,s),Ze(n,s),n}function qc(n,t,e,s){var i=t.current,r=be(),o=Si(i);return e=K1(e),t.context===null?t.context=e:t.pendingContext=e,t=js(r,o),t.payload={element:n},s=s===void 0?null:s,s!==null&&(t.callback=s),n=Ti(i,t,o),n!==null&&(Kn(n,i,o,r),Ru(n,i,o)),o}function dc(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function l0(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function hm(n,t){l0(n,t),(n=n.alternate)&&l0(n,t)}function GS(){return null}var e_=typeof reportError=="function"?reportError:function(n){console.error(n)};function dm(n){this._internalRoot=n}Xc.prototype.render=dm.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(F(409));qc(n,t,null,null)};Xc.prototype.unmount=dm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;Nr(function(){qc(null,n,null,null)}),t[Gs]=null}};function Xc(n){this._internalRoot=n}Xc.prototype.unstable_scheduleHydration=function(n){if(n){var t=Ox();n={blockedOn:null,target:n,priority:t};for(var e=0;e<ci.length&&t!==0&&t<ci[e].priority;e++);ci.splice(e,0,n),e===0&&Ix(n)}};function fm(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Yc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function u0(){}function qS(n,t,e,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var u=dc(o);r.call(u)}}var o=t_(t,s,n,0,null,!1,!1,"",u0);return n._reactRootContainer=o,n[Gs]=o.current,tl(n.nodeType===8?n.parentNode:n),Nr(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof s=="function"){var a=s;s=function(){var u=dc(l);a.call(u)}}var l=cm(n,0,!1,null,null,!1,!1,"",u0);return n._reactRootContainer=l,n[Gs]=l.current,tl(n.nodeType===8?n.parentNode:n),Nr(function(){qc(t,l,e,s)}),l}function Zc(n,t,e,s,i){var r=e._reactRootContainer;if(r){var o=r;if(typeof i=="function"){var a=i;i=function(){var l=dc(o);a.call(l)}}qc(t,o,n,i)}else o=qS(e,t,n,i,s);return dc(o)}Rx=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=Sa(t.pendingLanes);e!==0&&(Op(t,e|1),Ze(t,Gt()),!(rt&6)&&(bo=Gt()+500,Bi()))}break;case 13:Nr(function(){var s=qs(n,1);if(s!==null){var i=be();Kn(s,n,1,i)}}),hm(n,1)}};Lp=function(n){if(n.tag===13){var t=qs(n,134217728);if(t!==null){var e=be();Kn(t,n,134217728,e)}hm(n,134217728)}};kx=function(n){if(n.tag===13){var t=Si(n),e=qs(n,t);if(e!==null){var s=be();Kn(e,n,t,s)}hm(n,t)}};Ox=function(){return ft};Lx=function(n,t){var e=ft;try{return ft=n,t()}finally{ft=e}};ef=function(n,t,e){switch(t){case"input":if(Xd(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var s=e[t];if(s!==n&&s.form===n.form){var i=Bc(s);if(!i)throw Error(F(90));cx(s),Xd(s,i)}}}break;case"textarea":dx(n,e);break;case"select":t=e.value,t!=null&&go(n,!!e.multiple,t,!1)}};_x=om;vx=Nr;var XS={usingClientEntryPoint:!1,Events:[Cl,no,Bc,yx,xx,om]},fa={findFiberByHostInstance:or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YS={bundleType:fa.bundleType,version:fa.version,rendererPackageName:fa.rendererPackageName,rendererConfig:fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Js.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Tx(n),n===null?null:n.stateNode},findFiberByHostInstance:fa.findFiberByHostInstance||GS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{Vc=tu.inject(YS),vs=tu}catch{}}wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XS;wn.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fm(t))throw Error(F(200));return $S(n,t,null,e)};wn.createRoot=function(n,t){if(!fm(n))throw Error(F(299));var e=!1,s="",i=e_;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=cm(n,1,!1,null,null,e,!1,s,i),n[Gs]=t.current,tl(n.nodeType===8?n.parentNode:n),new dm(t)};wn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(F(188)):(n=Object.keys(n).join(","),Error(F(268,n)));return n=Tx(t),n=n===null?null:n.stateNode,n};wn.flushSync=function(n){return Nr(n)};wn.hydrate=function(n,t,e){if(!Yc(t))throw Error(F(200));return Zc(null,n,t,!0,e)};wn.hydrateRoot=function(n,t,e){if(!fm(n))throw Error(F(405));var s=e!=null&&e.hydratedSources||null,i=!1,r="",o=e_;if(e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),t=t_(t,null,n,1,e??null,i,!1,r,o),n[Gs]=t.current,tl(n),s)for(n=0;n<s.length;n++)e=s[n],i=e._getVersion,i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i);return new Xc(t)};wn.render=function(n,t,e){if(!Yc(t))throw Error(F(200));return Zc(null,n,t,!1,e)};wn.unmountComponentAtNode=function(n){if(!Yc(n))throw Error(F(40));return n._reactRootContainer?(Nr(function(){Zc(null,null,n,!1,function(){n._reactRootContainer=null,n[Gs]=null})}),!0):!1};wn.unstable_batchedUpdates=om;wn.unstable_renderSubtreeIntoContainer=function(n,t,e,s){if(!Yc(e))throw Error(F(200));if(n==null||n._reactInternals===void 0)throw Error(F(38));return Zc(n,t,e,!1,s)};wn.version="18.3.1-next-f1338f8080-20240426";function n_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n_)}catch(n){console.error(n)}}n_(),nx.exports=wn;var ZS=nx.exports,c0=ZS;Ud.createRoot=c0.createRoot,Ud.hydrateRoot=c0.hydrateRoot;/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const s_="164",Pf=0,i_=1,h0=1,d0=100,f0=204,p0=205,m0=3,pm=0,fc=0,QS=1,JS=2,KS=3,t2=4,e2=6,r_=300,g0=1e3,Ca=1001,y0=1002,Oi=1003,o_=1006,a_=1008,n2=1009,s2=1014,l_=1015,i2=1016,r2=1020,o2=1023,Hh=1026,x0=1027,Do=0,a2=1,u_="",Is="srgb",Qo="srgb-linear",l2="display-p3",c_="display-p3-linear",Vf="linear",_0="srgb",v0="rec709",N0="p3",Vr=7680,w0=519,u2=513,c2=515,pc=35044,Ff=35048,Us=2e3,ul=2001;class Rr{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const s=this._listeners;s[t]===void 0&&(s[t]=[]),s[t].indexOf(e)===-1&&s[t].push(e)}hasEventListener(t,e){if(this._listeners===void 0)return!1;const s=this._listeners;return s[t]!==void 0&&s[t].indexOf(e)!==-1}removeEventListener(t,e){if(this._listeners===void 0)return;const i=this._listeners[t];if(i!==void 0){const r=i.indexOf(e);r!==-1&&i.splice(r,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const s=this._listeners[t.type];if(s!==void 0){t.target=this;const i=s.slice(0);for(let r=0,o=i.length;r<o;r++)i[r].call(this,t);t.target=null}}}const Me=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let T0=1234567;const Da=Math.PI/180,cl=180/Math.PI;function Ws(){const n=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,s=Math.random()*4294967295|0;return(Me[n&255]+Me[n>>8&255]+Me[n>>16&255]+Me[n>>24&255]+"-"+Me[t&255]+Me[t>>8&255]+"-"+Me[t>>16&15|64]+Me[t>>24&255]+"-"+Me[e&63|128]+Me[e>>8&255]+"-"+Me[e>>16&255]+Me[e>>24&255]+Me[s&255]+Me[s>>8&255]+Me[s>>16&255]+Me[s>>24&255]).toLowerCase()}function Ce(n,t,e){return Math.max(t,Math.min(e,n))}function mm(n,t){return(n%t+t)%t}function h2(n,t,e,s,i){return s+(n-t)*(i-s)/(e-t)}function d2(n,t,e){return n!==t?(e-n)/(t-n):0}function Ba(n,t,e){return(1-e)*n+e*t}function f2(n,t,e,s){return Ba(n,t,1-Math.exp(-e*s))}function p2(n,t=1){return t-Math.abs(mm(n,t*2)-t)}function m2(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t),n*n*(3-2*n))}function g2(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t),n*n*n*(n*(n*6-15)+10))}function y2(n,t){return n+Math.floor(Math.random()*(t-n+1))}function x2(n,t){return n+Math.random()*(t-n)}function _2(n){return n*(.5-Math.random())}function v2(n){n!==void 0&&(T0=n);let t=T0+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function N2(n){return n*Da}function w2(n){return n*cl}function T2(n){return(n&n-1)===0&&n!==0}function M2(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function S2(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function A2(n,t,e,s,i){const r=Math.cos,o=Math.sin,a=r(e/2),l=o(e/2),u=r((t+s)/2),c=o((t+s)/2),h=r((t-s)/2),d=o((t-s)/2),f=r((s-t)/2),m=o((s-t)/2);switch(i){case"XYX":n.set(a*c,l*h,l*d,a*u);break;case"YZY":n.set(l*d,a*c,l*h,a*u);break;case"ZXZ":n.set(l*h,l*d,a*c,a*u);break;case"XZX":n.set(a*c,l*m,l*f,a*u);break;case"YXY":n.set(l*f,a*c,l*m,a*u);break;case"ZYZ":n.set(l*m,l*f,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Qn(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function dt(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const h_={DEG2RAD:Da,RAD2DEG:cl,generateUUID:Ws,clamp:Ce,euclideanModulo:mm,mapLinear:h2,inverseLerp:d2,lerp:Ba,damp:f2,pingpong:p2,smoothstep:m2,smootherstep:g2,randInt:y2,randFloat:x2,randFloatSpread:_2,seededRandom:v2,degToRad:N2,radToDeg:w2,isPowerOfTwo:T2,ceilPowerOfTwo:M2,floorPowerOfTwo:S2,setQuaternionFromProperEuler:A2,normalize:dt,denormalize:Qn};class nt{constructor(t=0,e=0){nt.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,s=this.y,i=t.elements;return this.x=i[0]*e+i[3]*s+i[6],this.y=i[1]*e+i[4]*s+i[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(t,Math.min(e,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const s=this.dot(t)/e;return Math.acos(Ce(s,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,s=this.y-t.y;return e*e+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,s){return this.x=t.x+(e.x-t.x)*s,this.y=t.y+(e.y-t.y)*s,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const s=Math.cos(e),i=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*s-o*i+t.x,this.y=r*i+o*s+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class As{constructor(t,e,s,i,r,o,a,l,u){As.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,s,i,r,o,a,l,u)}set(t,e,s,i,r,o,a,l,u){const c=this.elements;return c[0]=t,c[1]=i,c[2]=a,c[3]=e,c[4]=r,c[5]=l,c[6]=s,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,s=t.elements;return e[0]=s[0],e[1]=s[1],e[2]=s[2],e[3]=s[3],e[4]=s[4],e[5]=s[5],e[6]=s[6],e[7]=s[7],e[8]=s[8],this}extractBasis(t,e,s){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const s=t.elements,i=e.elements,r=this.elements,o=s[0],a=s[3],l=s[6],u=s[1],c=s[4],h=s[7],d=s[2],f=s[5],m=s[8],p=i[0],_=i[3],g=i[6],y=i[1],x=i[4],v=i[7],w=i[2],S=i[5],M=i[8];return r[0]=o*p+a*y+l*w,r[3]=o*_+a*x+l*S,r[6]=o*g+a*v+l*M,r[1]=u*p+c*y+h*w,r[4]=u*_+c*x+h*S,r[7]=u*g+c*v+h*M,r[2]=d*p+f*y+m*w,r[5]=d*_+f*x+m*S,r[8]=d*g+f*v+m*M,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],s=t[1],i=t[2],r=t[3],o=t[4],a=t[5],l=t[6],u=t[7],c=t[8];return e*o*c-e*a*u-s*r*c+s*a*l+i*r*u-i*o*l}invert(){const t=this.elements,e=t[0],s=t[1],i=t[2],r=t[3],o=t[4],a=t[5],l=t[6],u=t[7],c=t[8],h=c*o-a*u,d=a*l-c*r,f=u*r-o*l,m=e*h+s*d+i*f;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const p=1/m;return t[0]=h*p,t[1]=(i*u-c*s)*p,t[2]=(a*s-i*o)*p,t[3]=d*p,t[4]=(c*e-i*l)*p,t[5]=(i*r-a*e)*p,t[6]=f*p,t[7]=(s*l-u*e)*p,t[8]=(o*e-s*r)*p,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,s,i,r,o,a){const l=Math.cos(r),u=Math.sin(r);return this.set(s*l,s*u,-s*(l*o+u*a)+o+t,-i*u,i*l,-i*(-u*o+l*a)+a+e,0,0,1),this}scale(t,e){return this.premultiply($h.makeScale(t,e)),this}rotate(t){return this.premultiply($h.makeRotation(-t)),this}translate(t,e){return this.premultiply($h.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),s=Math.sin(t);return this.set(e,-s,0,s,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,s=t.elements;for(let i=0;i<9;i++)if(e[i]!==s[i])return!1;return!0}fromArray(t,e=0){for(let s=0;s<9;s++)this.elements[s]=t[s+e];return this}toArray(t=[],e=0){const s=this.elements;return t[e]=s[0],t[e+1]=s[1],t[e+2]=s[2],t[e+3]=s[3],t[e+4]=s[4],t[e+5]=s[5],t[e+6]=s[6],t[e+7]=s[7],t[e+8]=s[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const $h=new As;function C2(n){for(let t=n.length-1;t>=0;--t)if(n[t]>=65535)return!0;return!1}function M0(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const S0={};function d_(n){n in S0||(S0[n]=!0,console.warn(n))}const A0=new As().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),C0=new As().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),eu={[Qo]:{transfer:Vf,primaries:v0,toReference:n=>n,fromReference:n=>n},[Is]:{transfer:_0,primaries:v0,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[c_]:{transfer:Vf,primaries:N0,toReference:n=>n.applyMatrix3(C0),fromReference:n=>n.applyMatrix3(A0)},[l2]:{transfer:_0,primaries:N0,toReference:n=>n.convertSRGBToLinear().applyMatrix3(C0),fromReference:n=>n.applyMatrix3(A0).convertLinearToSRGB()}},E2=new Set([Qo,c_]),Wn={enabled:!0,_workingColorSpace:Qo,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!E2.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,t,e){if(this.enabled===!1||t===e||!t||!e)return n;const s=eu[t].toReference,i=eu[e].fromReference;return i(s(n))},fromWorkingColorSpace:function(n,t){return this.convert(n,this._workingColorSpace,t)},toWorkingColorSpace:function(n,t){return this.convert(n,t,this._workingColorSpace)},getPrimaries:function(n){return eu[n].primaries},getTransfer:function(n){return n===u_?Vf:eu[n].transfer}};function wo(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Gh(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Fr;class z2{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{Fr===void 0&&(Fr=M0("canvas")),Fr.width=t.width,Fr.height=t.height;const s=Fr.getContext("2d");t instanceof ImageData?s.putImageData(t,0,0):s.drawImage(t,0,0,t.width,t.height),e=Fr}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=M0("canvas");e.width=t.width,e.height=t.height;const s=e.getContext("2d");s.drawImage(t,0,0,t.width,t.height);const i=s.getImageData(0,0,t.width,t.height),r=i.data;for(let o=0;o<r.length;o++)r[o]=wo(r[o]/255)*255;return s.putImageData(i,0,0),e}else if(t.data){const e=t.data.slice(0);for(let s=0;s<e.length;s++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[s]=Math.floor(wo(e[s]/255)*255):e[s]=wo(e[s]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let R2=0;class f_{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:R2++}),this.uuid=Ws(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const s={uuid:this.uuid,url:""},i=this.data;if(i!==null){let r;if(Array.isArray(i)){r=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?r.push(qh(i[o].image)):r.push(qh(i[o]))}else r=qh(i);s.url=r}return e||(t.images[this.uuid]=s),s}}function qh(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?z2.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let k2=0;class ts extends Rr{constructor(t=ts.DEFAULT_IMAGE,e=ts.DEFAULT_MAPPING,s=Ca,i=Ca,r=o_,o=a_,a=o2,l=n2,u=ts.DEFAULT_ANISOTROPY,c=u_){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:k2++}),this.uuid=Ws(),this.name="",this.source=new f_(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=s,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new nt(0,0),this.repeat=new nt(1,1),this.center=new nt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new As,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const s={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(s.userData=this.userData),e||(t.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==r_)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case g0:t.x=t.x-Math.floor(t.x);break;case Ca:t.x=t.x<0?0:1;break;case y0:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case g0:t.y=t.y-Math.floor(t.y);break;case Ca:t.y=t.y<0?0:1;break;case y0:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}ts.DEFAULT_IMAGE=null;ts.DEFAULT_MAPPING=r_;ts.DEFAULT_ANISOTROPY=1;class te{constructor(t=0,e=0,s=0,i=1){te.prototype.isVector4=!0,this.x=t,this.y=e,this.z=s,this.w=i}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,s,i){return this.x=t,this.y=e,this.z=s,this.w=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,s=this.y,i=this.z,r=this.w,o=t.elements;return this.x=o[0]*e+o[4]*s+o[8]*i+o[12]*r,this.y=o[1]*e+o[5]*s+o[9]*i+o[13]*r,this.z=o[2]*e+o[6]*s+o[10]*i+o[14]*r,this.w=o[3]*e+o[7]*s+o[11]*i+o[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,s,i,r;const l=t.elements,u=l[0],c=l[4],h=l[8],d=l[1],f=l[5],m=l[9],p=l[2],_=l[6],g=l[10];if(Math.abs(c-d)<.01&&Math.abs(h-p)<.01&&Math.abs(m-_)<.01){if(Math.abs(c+d)<.1&&Math.abs(h+p)<.1&&Math.abs(m+_)<.1&&Math.abs(u+f+g-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const x=(u+1)/2,v=(f+1)/2,w=(g+1)/2,S=(c+d)/4,M=(h+p)/4,C=(m+_)/4;return x>v&&x>w?x<.01?(s=0,i=.707106781,r=.707106781):(s=Math.sqrt(x),i=S/s,r=M/s):v>w?v<.01?(s=.707106781,i=0,r=.707106781):(i=Math.sqrt(v),s=S/i,r=C/i):w<.01?(s=.707106781,i=.707106781,r=0):(r=Math.sqrt(w),s=M/r,i=C/r),this.set(s,i,r,e),this}let y=Math.sqrt((_-m)*(_-m)+(h-p)*(h-p)+(d-c)*(d-c));return Math.abs(y)<.001&&(y=1),this.x=(_-m)/y,this.y=(h-p)/y,this.z=(d-c)/y,this.w=Math.acos((u+f+g-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(t,Math.min(e,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,s){return this.x=t.x+(e.x-t.x)*s,this.y=t.y+(e.y-t.y)*s,this.z=t.z+(e.z-t.z)*s,this.w=t.w+(e.w-t.w)*s,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class wr extends Rr{constructor(t=1,e=1,s={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new te(0,0,t,e),this.scissorTest=!1,this.viewport=new te(0,0,t,e);const i={width:t,height:e,depth:1};s=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:o_,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},s);const r=new ts(i,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.colorSpace);r.flipY=!1,r.generateMipmaps=s.generateMipmaps,r.internalFormat=s.internalFormat,this.textures=[];const o=s.count;for(let a=0;a<o;a++)this.textures[a]=r.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=s.depthBuffer,this.stencilBuffer=s.stencilBuffer,this.resolveDepthBuffer=s.resolveDepthBuffer,this.resolveStencilBuffer=s.resolveStencilBuffer,this.depthTexture=s.depthTexture,this.samples=s.samples}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}setSize(t,e,s=1){if(this.width!==t||this.height!==e||this.depth!==s){this.width=t,this.height=e,this.depth=s;for(let i=0,r=this.textures.length;i<r;i++)this.textures[i].image.width=t,this.textures[i].image.height=e,this.textures[i].image.depth=s;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let s=0,i=t.textures.length;s<i;s++)this.textures[s]=t.textures[s].clone(),this.textures[s].isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new f_(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class O2 extends ts{constructor(t=null,e=1,s=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:s,depth:i},this.magFilter=Oi,this.minFilter=Oi,this.wrapR=Ca,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class zl{constructor(t=0,e=0,s=0,i=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=s,this._w=i}static slerpFlat(t,e,s,i,r,o,a){let l=s[i+0],u=s[i+1],c=s[i+2],h=s[i+3];const d=r[o+0],f=r[o+1],m=r[o+2],p=r[o+3];if(a===0){t[e+0]=l,t[e+1]=u,t[e+2]=c,t[e+3]=h;return}if(a===1){t[e+0]=d,t[e+1]=f,t[e+2]=m,t[e+3]=p;return}if(h!==p||l!==d||u!==f||c!==m){let _=1-a;const g=l*d+u*f+c*m+h*p,y=g>=0?1:-1,x=1-g*g;if(x>Number.EPSILON){const w=Math.sqrt(x),S=Math.atan2(w,g*y);_=Math.sin(_*S)/w,a=Math.sin(a*S)/w}const v=a*y;if(l=l*_+d*v,u=u*_+f*v,c=c*_+m*v,h=h*_+p*v,_===1-a){const w=1/Math.sqrt(l*l+u*u+c*c+h*h);l*=w,u*=w,c*=w,h*=w}}t[e]=l,t[e+1]=u,t[e+2]=c,t[e+3]=h}static multiplyQuaternionsFlat(t,e,s,i,r,o){const a=s[i],l=s[i+1],u=s[i+2],c=s[i+3],h=r[o],d=r[o+1],f=r[o+2],m=r[o+3];return t[e]=a*m+c*h+l*f-u*d,t[e+1]=l*m+c*d+u*h-a*f,t[e+2]=u*m+c*f+a*d-l*h,t[e+3]=c*m-a*h-l*d-u*f,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,s,i){return this._x=t,this._y=e,this._z=s,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const s=t._x,i=t._y,r=t._z,o=t._order,a=Math.cos,l=Math.sin,u=a(s/2),c=a(i/2),h=a(r/2),d=l(s/2),f=l(i/2),m=l(r/2);switch(o){case"XYZ":this._x=d*c*h+u*f*m,this._y=u*f*h-d*c*m,this._z=u*c*m+d*f*h,this._w=u*c*h-d*f*m;break;case"YXZ":this._x=d*c*h+u*f*m,this._y=u*f*h-d*c*m,this._z=u*c*m-d*f*h,this._w=u*c*h+d*f*m;break;case"ZXY":this._x=d*c*h-u*f*m,this._y=u*f*h+d*c*m,this._z=u*c*m+d*f*h,this._w=u*c*h-d*f*m;break;case"ZYX":this._x=d*c*h-u*f*m,this._y=u*f*h+d*c*m,this._z=u*c*m-d*f*h,this._w=u*c*h+d*f*m;break;case"YZX":this._x=d*c*h+u*f*m,this._y=u*f*h+d*c*m,this._z=u*c*m-d*f*h,this._w=u*c*h-d*f*m;break;case"XZY":this._x=d*c*h-u*f*m,this._y=u*f*h-d*c*m,this._z=u*c*m+d*f*h,this._w=u*c*h+d*f*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return e===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const s=e/2,i=Math.sin(s);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,s=e[0],i=e[4],r=e[8],o=e[1],a=e[5],l=e[9],u=e[2],c=e[6],h=e[10],d=s+a+h;if(d>0){const f=.5/Math.sqrt(d+1);this._w=.25/f,this._x=(c-l)*f,this._y=(r-u)*f,this._z=(o-i)*f}else if(s>a&&s>h){const f=2*Math.sqrt(1+s-a-h);this._w=(c-l)/f,this._x=.25*f,this._y=(i+o)/f,this._z=(r+u)/f}else if(a>h){const f=2*Math.sqrt(1+a-s-h);this._w=(r-u)/f,this._x=(i+o)/f,this._y=.25*f,this._z=(l+c)/f}else{const f=2*Math.sqrt(1+h-s-a);this._w=(o-i)/f,this._x=(r+u)/f,this._y=(l+c)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let s=t.dot(e)+1;return s<Number.EPSILON?(s=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=s):(this._x=0,this._y=-t.z,this._z=t.y,this._w=s)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=s),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Ce(this.dot(t),-1,1)))}rotateTowards(t,e){const s=this.angleTo(t);if(s===0)return this;const i=Math.min(1,e/s);return this.slerp(t,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const s=t._x,i=t._y,r=t._z,o=t._w,a=e._x,l=e._y,u=e._z,c=e._w;return this._x=s*c+o*a+i*u-r*l,this._y=i*c+o*l+r*a-s*u,this._z=r*c+o*u+s*l-i*a,this._w=o*c-s*a-i*l-r*u,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const s=this._x,i=this._y,r=this._z,o=this._w;let a=o*t._w+s*t._x+i*t._y+r*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=s,this._y=i,this._z=r,this;const l=1-a*a;if(l<=Number.EPSILON){const f=1-e;return this._w=f*o+e*this._w,this._x=f*s+e*this._x,this._y=f*i+e*this._y,this._z=f*r+e*this._z,this.normalize(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),h=Math.sin((1-e)*c)/u,d=Math.sin(e*c)/u;return this._w=o*h+this._w*d,this._x=s*h+this._x*d,this._y=i*h+this._y*d,this._z=r*h+this._z*d,this._onChangeCallback(),this}slerpQuaternions(t,e,s){return this.copy(t).slerp(e,s)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),s=Math.random(),i=Math.sqrt(1-s),r=Math.sqrt(s);return this.set(i*Math.sin(t),i*Math.cos(t),r*Math.sin(e),r*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class O{constructor(t=0,e=0,s=0){O.prototype.isVector3=!0,this.x=t,this.y=e,this.z=s}set(t,e,s){return s===void 0&&(s=this.z),this.x=t,this.y=e,this.z=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(E0.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(E0.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,s=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*s+r[6]*i,this.y=r[1]*e+r[4]*s+r[7]*i,this.z=r[2]*e+r[5]*s+r[8]*i,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,s=this.y,i=this.z,r=t.elements,o=1/(r[3]*e+r[7]*s+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*s+r[8]*i+r[12])*o,this.y=(r[1]*e+r[5]*s+r[9]*i+r[13])*o,this.z=(r[2]*e+r[6]*s+r[10]*i+r[14])*o,this}applyQuaternion(t){const e=this.x,s=this.y,i=this.z,r=t.x,o=t.y,a=t.z,l=t.w,u=2*(o*i-a*s),c=2*(a*e-r*i),h=2*(r*s-o*e);return this.x=e+l*u+o*h-a*c,this.y=s+l*c+a*u-r*h,this.z=i+l*h+r*c-o*u,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,s=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*s+r[8]*i,this.y=r[1]*e+r[5]*s+r[9]*i,this.z=r[2]*e+r[6]*s+r[10]*i,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(t,Math.min(e,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,s){return this.x=t.x+(e.x-t.x)*s,this.y=t.y+(e.y-t.y)*s,this.z=t.z+(e.z-t.z)*s,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const s=t.x,i=t.y,r=t.z,o=e.x,a=e.y,l=e.z;return this.x=i*l-r*a,this.y=r*o-s*l,this.z=s*a-i*o,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const s=t.dot(this)/e;return this.copy(t).multiplyScalar(s)}projectOnPlane(t){return Xh.copy(this).projectOnVector(t),this.sub(Xh)}reflect(t){return this.sub(Xh.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const s=this.dot(t)/e;return Math.acos(Ce(s,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,s=this.y-t.y,i=this.z-t.z;return e*e+s*s+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,s){const i=Math.sin(e)*t;return this.x=i*Math.sin(s),this.y=Math.cos(e)*t,this.z=i*Math.cos(s),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,s){return this.x=t*Math.sin(e),this.y=s,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),s=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=s,this.z=i,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=Math.random()*2-1,s=Math.sqrt(1-e*e);return this.x=s*Math.cos(t),this.y=e,this.z=s*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Xh=new O,E0=new zl;class Rl{constructor(t=new O(1/0,1/0,1/0),e=new O(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,s=t.length;e<s;e+=3)this.expandByPoint(Hn.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,s=t.count;e<s;e++)this.expandByPoint(Hn.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,s=t.length;e<s;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const s=Hn.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(s),this.max.copy(t).add(s),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const s=t.geometry;if(s!==void 0){const r=s.getAttribute("position");if(e===!0&&r!==void 0&&t.isInstancedMesh!==!0)for(let o=0,a=r.count;o<a;o++)t.isMesh===!0?t.getVertexPosition(o,Hn):Hn.fromBufferAttribute(r,o),Hn.applyMatrix4(t.matrixWorld),this.expandByPoint(Hn);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),nu.copy(t.boundingBox)):(s.boundingBox===null&&s.computeBoundingBox(),nu.copy(s.boundingBox)),nu.applyMatrix4(t.matrixWorld),this.union(nu)}const i=t.children;for(let r=0,o=i.length;r<o;r++)this.expandByObject(i[r],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Hn),Hn.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,s;return t.normal.x>0?(e=t.normal.x*this.min.x,s=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,s=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,s+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,s+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,s+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,s+=t.normal.z*this.min.z),e<=-t.constant&&s>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(pa),su.subVectors(this.max,pa),br.subVectors(t.a,pa),Dr.subVectors(t.b,pa),Br.subVectors(t.c,pa),ei.subVectors(Dr,br),ni.subVectors(Br,Dr),$i.subVectors(br,Br);let e=[0,-ei.z,ei.y,0,-ni.z,ni.y,0,-$i.z,$i.y,ei.z,0,-ei.x,ni.z,0,-ni.x,$i.z,0,-$i.x,-ei.y,ei.x,0,-ni.y,ni.x,0,-$i.y,$i.x,0];return!Yh(e,br,Dr,Br,su)||(e=[1,0,0,0,1,0,0,0,1],!Yh(e,br,Dr,Br,su))?!1:(iu.crossVectors(ei,ni),e=[iu.x,iu.y,iu.z],Yh(e,br,Dr,Br,su))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Hn).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(Hn).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(Es[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Es[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Es[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Es[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Es[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Es[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Es[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Es[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Es),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const Es=[new O,new O,new O,new O,new O,new O,new O,new O],Hn=new O,nu=new Rl,br=new O,Dr=new O,Br=new O,ei=new O,ni=new O,$i=new O,pa=new O,su=new O,iu=new O,Gi=new O;function Yh(n,t,e,s,i){for(let r=0,o=n.length-3;r<=o;r+=3){Gi.fromArray(n,r);const a=i.x*Math.abs(Gi.x)+i.y*Math.abs(Gi.y)+i.z*Math.abs(Gi.z),l=t.dot(Gi),u=e.dot(Gi),c=s.dot(Gi);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const L2=new Rl,ma=new O,Zh=new O;class gm{constructor(t=new O,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const s=this.center;e!==void 0?s.copy(e):L2.setFromPoints(t).getCenter(s);let i=0;for(let r=0,o=t.length;r<o;r++)i=Math.max(i,s.distanceToSquared(t[r]));return this.radius=Math.sqrt(i),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const s=this.center.distanceToSquared(t);return e.copy(t),s>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;ma.subVectors(t,this.center);const e=ma.lengthSq();if(e>this.radius*this.radius){const s=Math.sqrt(e),i=(s-this.radius)*.5;this.center.addScaledVector(ma,i/s),this.radius+=i}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(Zh.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(ma.copy(t.center).add(Zh)),this.expandByPoint(ma.copy(t.center).sub(Zh))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const zs=new O,Qh=new O,ru=new O,si=new O,Jh=new O,ou=new O,Kh=new O;class I2{constructor(t=new O,e=new O(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,zs)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const s=e.dot(this.direction);return s<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,s)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=zs.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(zs.copy(this.origin).addScaledVector(this.direction,e),zs.distanceToSquared(t))}distanceSqToSegment(t,e,s,i){Qh.copy(t).add(e).multiplyScalar(.5),ru.copy(e).sub(t).normalize(),si.copy(this.origin).sub(Qh);const r=t.distanceTo(e)*.5,o=-this.direction.dot(ru),a=si.dot(this.direction),l=-si.dot(ru),u=si.lengthSq(),c=Math.abs(1-o*o);let h,d,f,m;if(c>0)if(h=o*l-a,d=o*a-l,m=r*c,h>=0)if(d>=-m)if(d<=m){const p=1/c;h*=p,d*=p,f=h*(h+o*d+2*a)+d*(o*h+d+2*l)+u}else d=r,h=Math.max(0,-(o*d+a)),f=-h*h+d*(d+2*l)+u;else d=-r,h=Math.max(0,-(o*d+a)),f=-h*h+d*(d+2*l)+u;else d<=-m?(h=Math.max(0,-(-o*r+a)),d=h>0?-r:Math.min(Math.max(-r,-l),r),f=-h*h+d*(d+2*l)+u):d<=m?(h=0,d=Math.min(Math.max(-r,-l),r),f=d*(d+2*l)+u):(h=Math.max(0,-(o*r+a)),d=h>0?r:Math.min(Math.max(-r,-l),r),f=-h*h+d*(d+2*l)+u);else d=o>0?-r:r,h=Math.max(0,-(o*d+a)),f=-h*h+d*(d+2*l)+u;return s&&s.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(Qh).addScaledVector(ru,d),f}intersectSphere(t,e){zs.subVectors(t.center,this.origin);const s=zs.dot(this.direction),i=zs.dot(zs)-s*s,r=t.radius*t.radius;if(i>r)return null;const o=Math.sqrt(r-i),a=s-o,l=s+o;return l<0?null:a<0?this.at(l,e):this.at(a,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const s=-(this.origin.dot(t.normal)+t.constant)/e;return s>=0?s:null}intersectPlane(t,e){const s=this.distanceToPlane(t);return s===null?null:this.at(s,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let s,i,r,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,d=this.origin;return u>=0?(s=(t.min.x-d.x)*u,i=(t.max.x-d.x)*u):(s=(t.max.x-d.x)*u,i=(t.min.x-d.x)*u),c>=0?(r=(t.min.y-d.y)*c,o=(t.max.y-d.y)*c):(r=(t.max.y-d.y)*c,o=(t.min.y-d.y)*c),s>o||r>i||((r>s||isNaN(s))&&(s=r),(o<i||isNaN(i))&&(i=o),h>=0?(a=(t.min.z-d.z)*h,l=(t.max.z-d.z)*h):(a=(t.max.z-d.z)*h,l=(t.min.z-d.z)*h),s>l||a>i)||((a>s||s!==s)&&(s=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(s>=0?s:i,e)}intersectsBox(t){return this.intersectBox(t,zs)!==null}intersectTriangle(t,e,s,i,r){Jh.subVectors(e,t),ou.subVectors(s,t),Kh.crossVectors(Jh,ou);let o=this.direction.dot(Kh),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;si.subVectors(this.origin,t);const l=a*this.direction.dot(ou.crossVectors(si,ou));if(l<0)return null;const u=a*this.direction.dot(Jh.cross(si));if(u<0||l+u>o)return null;const c=-a*si.dot(Kh);return c<0?null:this.at(c/o,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class re{constructor(t,e,s,i,r,o,a,l,u,c,h,d,f,m,p,_){re.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,s,i,r,o,a,l,u,c,h,d,f,m,p,_)}set(t,e,s,i,r,o,a,l,u,c,h,d,f,m,p,_){const g=this.elements;return g[0]=t,g[4]=e,g[8]=s,g[12]=i,g[1]=r,g[5]=o,g[9]=a,g[13]=l,g[2]=u,g[6]=c,g[10]=h,g[14]=d,g[3]=f,g[7]=m,g[11]=p,g[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new re().fromArray(this.elements)}copy(t){const e=this.elements,s=t.elements;return e[0]=s[0],e[1]=s[1],e[2]=s[2],e[3]=s[3],e[4]=s[4],e[5]=s[5],e[6]=s[6],e[7]=s[7],e[8]=s[8],e[9]=s[9],e[10]=s[10],e[11]=s[11],e[12]=s[12],e[13]=s[13],e[14]=s[14],e[15]=s[15],this}copyPosition(t){const e=this.elements,s=t.elements;return e[12]=s[12],e[13]=s[13],e[14]=s[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,s){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(t,e,s){return this.set(t.x,e.x,s.x,0,t.y,e.y,s.y,0,t.z,e.z,s.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,s=t.elements,i=1/Ur.setFromMatrixColumn(t,0).length(),r=1/Ur.setFromMatrixColumn(t,1).length(),o=1/Ur.setFromMatrixColumn(t,2).length();return e[0]=s[0]*i,e[1]=s[1]*i,e[2]=s[2]*i,e[3]=0,e[4]=s[4]*r,e[5]=s[5]*r,e[6]=s[6]*r,e[7]=0,e[8]=s[8]*o,e[9]=s[9]*o,e[10]=s[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,s=t.x,i=t.y,r=t.z,o=Math.cos(s),a=Math.sin(s),l=Math.cos(i),u=Math.sin(i),c=Math.cos(r),h=Math.sin(r);if(t.order==="XYZ"){const d=o*c,f=o*h,m=a*c,p=a*h;e[0]=l*c,e[4]=-l*h,e[8]=u,e[1]=f+m*u,e[5]=d-p*u,e[9]=-a*l,e[2]=p-d*u,e[6]=m+f*u,e[10]=o*l}else if(t.order==="YXZ"){const d=l*c,f=l*h,m=u*c,p=u*h;e[0]=d+p*a,e[4]=m*a-f,e[8]=o*u,e[1]=o*h,e[5]=o*c,e[9]=-a,e[2]=f*a-m,e[6]=p+d*a,e[10]=o*l}else if(t.order==="ZXY"){const d=l*c,f=l*h,m=u*c,p=u*h;e[0]=d-p*a,e[4]=-o*h,e[8]=m+f*a,e[1]=f+m*a,e[5]=o*c,e[9]=p-d*a,e[2]=-o*u,e[6]=a,e[10]=o*l}else if(t.order==="ZYX"){const d=o*c,f=o*h,m=a*c,p=a*h;e[0]=l*c,e[4]=m*u-f,e[8]=d*u+p,e[1]=l*h,e[5]=p*u+d,e[9]=f*u-m,e[2]=-u,e[6]=a*l,e[10]=o*l}else if(t.order==="YZX"){const d=o*l,f=o*u,m=a*l,p=a*u;e[0]=l*c,e[4]=p-d*h,e[8]=m*h+f,e[1]=h,e[5]=o*c,e[9]=-a*c,e[2]=-u*c,e[6]=f*h+m,e[10]=d-p*h}else if(t.order==="XZY"){const d=o*l,f=o*u,m=a*l,p=a*u;e[0]=l*c,e[4]=-h,e[8]=u*c,e[1]=d*h+p,e[5]=o*c,e[9]=f*h-m,e[2]=m*h-f,e[6]=a*c,e[10]=p*h+d}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(P2,t,V2)}lookAt(t,e,s){const i=this.elements;return rn.subVectors(t,e),rn.lengthSq()===0&&(rn.z=1),rn.normalize(),ii.crossVectors(s,rn),ii.lengthSq()===0&&(Math.abs(s.z)===1?rn.x+=1e-4:rn.z+=1e-4,rn.normalize(),ii.crossVectors(s,rn)),ii.normalize(),au.crossVectors(rn,ii),i[0]=ii.x,i[4]=au.x,i[8]=rn.x,i[1]=ii.y,i[5]=au.y,i[9]=rn.y,i[2]=ii.z,i[6]=au.z,i[10]=rn.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const s=t.elements,i=e.elements,r=this.elements,o=s[0],a=s[4],l=s[8],u=s[12],c=s[1],h=s[5],d=s[9],f=s[13],m=s[2],p=s[6],_=s[10],g=s[14],y=s[3],x=s[7],v=s[11],w=s[15],S=i[0],M=i[4],C=i[8],k=i[12],b=i[1],G=i[5],K=i[9],Y=i[13],ct=i[2],St=i[6],ht=i[10],mt=i[14],D=i[3],X=i[7],Z=i[11],ot=i[15];return r[0]=o*S+a*b+l*ct+u*D,r[4]=o*M+a*G+l*St+u*X,r[8]=o*C+a*K+l*ht+u*Z,r[12]=o*k+a*Y+l*mt+u*ot,r[1]=c*S+h*b+d*ct+f*D,r[5]=c*M+h*G+d*St+f*X,r[9]=c*C+h*K+d*ht+f*Z,r[13]=c*k+h*Y+d*mt+f*ot,r[2]=m*S+p*b+_*ct+g*D,r[6]=m*M+p*G+_*St+g*X,r[10]=m*C+p*K+_*ht+g*Z,r[14]=m*k+p*Y+_*mt+g*ot,r[3]=y*S+x*b+v*ct+w*D,r[7]=y*M+x*G+v*St+w*X,r[11]=y*C+x*K+v*ht+w*Z,r[15]=y*k+x*Y+v*mt+w*ot,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],s=t[4],i=t[8],r=t[12],o=t[1],a=t[5],l=t[9],u=t[13],c=t[2],h=t[6],d=t[10],f=t[14],m=t[3],p=t[7],_=t[11],g=t[15];return m*(+r*l*h-i*u*h-r*a*d+s*u*d+i*a*f-s*l*f)+p*(+e*l*f-e*u*d+r*o*d-i*o*f+i*u*c-r*l*c)+_*(+e*u*h-e*a*f-r*o*h+s*o*f+r*a*c-s*u*c)+g*(-i*a*c-e*l*h+e*a*d+i*o*h-s*o*d+s*l*c)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,s){const i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=s),this}invert(){const t=this.elements,e=t[0],s=t[1],i=t[2],r=t[3],o=t[4],a=t[5],l=t[6],u=t[7],c=t[8],h=t[9],d=t[10],f=t[11],m=t[12],p=t[13],_=t[14],g=t[15],y=h*_*u-p*d*u+p*l*f-a*_*f-h*l*g+a*d*g,x=m*d*u-c*_*u-m*l*f+o*_*f+c*l*g-o*d*g,v=c*p*u-m*h*u+m*a*f-o*p*f-c*a*g+o*h*g,w=m*h*l-c*p*l-m*a*d+o*p*d+c*a*_-o*h*_,S=e*y+s*x+i*v+r*w;if(S===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/S;return t[0]=y*M,t[1]=(p*d*r-h*_*r-p*i*f+s*_*f+h*i*g-s*d*g)*M,t[2]=(a*_*r-p*l*r+p*i*u-s*_*u-a*i*g+s*l*g)*M,t[3]=(h*l*r-a*d*r-h*i*u+s*d*u+a*i*f-s*l*f)*M,t[4]=x*M,t[5]=(c*_*r-m*d*r+m*i*f-e*_*f-c*i*g+e*d*g)*M,t[6]=(m*l*r-o*_*r-m*i*u+e*_*u+o*i*g-e*l*g)*M,t[7]=(o*d*r-c*l*r+c*i*u-e*d*u-o*i*f+e*l*f)*M,t[8]=v*M,t[9]=(m*h*r-c*p*r-m*s*f+e*p*f+c*s*g-e*h*g)*M,t[10]=(o*p*r-m*a*r+m*s*u-e*p*u-o*s*g+e*a*g)*M,t[11]=(c*a*r-o*h*r-c*s*u+e*h*u+o*s*f-e*a*f)*M,t[12]=w*M,t[13]=(c*p*i-m*h*i+m*s*d-e*p*d-c*s*_+e*h*_)*M,t[14]=(m*a*i-o*p*i-m*s*l+e*p*l+o*s*_-e*a*_)*M,t[15]=(o*h*i-c*a*i+c*s*l-e*h*l-o*s*d+e*a*d)*M,this}scale(t){const e=this.elements,s=t.x,i=t.y,r=t.z;return e[0]*=s,e[4]*=i,e[8]*=r,e[1]*=s,e[5]*=i,e[9]*=r,e[2]*=s,e[6]*=i,e[10]*=r,e[3]*=s,e[7]*=i,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],s=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,s,i))}makeTranslation(t,e,s){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,s,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),s=Math.sin(t);return this.set(1,0,0,0,0,e,-s,0,0,s,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),s=Math.sin(t);return this.set(e,0,s,0,0,1,0,0,-s,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),s=Math.sin(t);return this.set(e,-s,0,0,s,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const s=Math.cos(e),i=Math.sin(e),r=1-s,o=t.x,a=t.y,l=t.z,u=r*o,c=r*a;return this.set(u*o+s,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+s,c*l-i*o,0,u*l-i*a,c*l+i*o,r*l*l+s,0,0,0,0,1),this}makeScale(t,e,s){return this.set(t,0,0,0,0,e,0,0,0,0,s,0,0,0,0,1),this}makeShear(t,e,s,i,r,o){return this.set(1,s,r,0,t,1,o,0,e,i,1,0,0,0,0,1),this}compose(t,e,s){const i=this.elements,r=e._x,o=e._y,a=e._z,l=e._w,u=r+r,c=o+o,h=a+a,d=r*u,f=r*c,m=r*h,p=o*c,_=o*h,g=a*h,y=l*u,x=l*c,v=l*h,w=s.x,S=s.y,M=s.z;return i[0]=(1-(p+g))*w,i[1]=(f+v)*w,i[2]=(m-x)*w,i[3]=0,i[4]=(f-v)*S,i[5]=(1-(d+g))*S,i[6]=(_+y)*S,i[7]=0,i[8]=(m+x)*M,i[9]=(_-y)*M,i[10]=(1-(d+p))*M,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}decompose(t,e,s){const i=this.elements;let r=Ur.set(i[0],i[1],i[2]).length();const o=Ur.set(i[4],i[5],i[6]).length(),a=Ur.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],$n.copy(this);const u=1/r,c=1/o,h=1/a;return $n.elements[0]*=u,$n.elements[1]*=u,$n.elements[2]*=u,$n.elements[4]*=c,$n.elements[5]*=c,$n.elements[6]*=c,$n.elements[8]*=h,$n.elements[9]*=h,$n.elements[10]*=h,e.setFromRotationMatrix($n),s.x=r,s.y=o,s.z=a,this}makePerspective(t,e,s,i,r,o,a=Us){const l=this.elements,u=2*r/(e-t),c=2*r/(s-i),h=(e+t)/(e-t),d=(s+i)/(s-i);let f,m;if(a===Us)f=-(o+r)/(o-r),m=-2*o*r/(o-r);else if(a===ul)f=-o/(o-r),m=-o*r/(o-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=c,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=f,l[14]=m,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(t,e,s,i,r,o,a=Us){const l=this.elements,u=1/(e-t),c=1/(s-i),h=1/(o-r),d=(e+t)*u,f=(s+i)*c;let m,p;if(a===Us)m=(o+r)*h,p=-2*h;else if(a===ul)m=r*h,p=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-f,l[2]=0,l[6]=0,l[10]=p,l[14]=-m,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(t){const e=this.elements,s=t.elements;for(let i=0;i<16;i++)if(e[i]!==s[i])return!1;return!0}fromArray(t,e=0){for(let s=0;s<16;s++)this.elements[s]=t[s+e];return this}toArray(t=[],e=0){const s=this.elements;return t[e]=s[0],t[e+1]=s[1],t[e+2]=s[2],t[e+3]=s[3],t[e+4]=s[4],t[e+5]=s[5],t[e+6]=s[6],t[e+7]=s[7],t[e+8]=s[8],t[e+9]=s[9],t[e+10]=s[10],t[e+11]=s[11],t[e+12]=s[12],t[e+13]=s[13],t[e+14]=s[14],t[e+15]=s[15],t}}const Ur=new O,$n=new re,P2=new O(0,0,0),V2=new O(1,1,1),ii=new O,au=new O,rn=new O,z0=new re,R0=new zl;class Ui{constructor(t=0,e=0,s=0,i=Ui.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=s,this._order=i}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,s,i=this._order){return this._x=t,this._y=e,this._z=s,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,s=!0){const i=t.elements,r=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],h=i[2],d=i[6],f=i[10];switch(e){case"XYZ":this._y=Math.asin(Ce(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,f),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Ce(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,f),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,r),this._z=0);break;case"ZXY":this._x=Math.asin(Ce(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,r));break;case"ZYX":this._y=Math.asin(-Ce(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(l,r)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Ce(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-h,r)):(this._x=0,this._y=Math.atan2(a,f));break;case"XZY":this._z=Math.asin(-Ce(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-c,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,s===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,s){return z0.makeRotationFromQuaternion(t),this.setFromRotationMatrix(z0,e,s)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return R0.setFromEuler(this),this.setFromQuaternion(R0,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ui.DEFAULT_ORDER="XYZ";class F2{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let b2=0;const k0=new O,jr=new zl,Rs=new re,lu=new O,ga=new O,D2=new O,B2=new zl,O0=new O(1,0,0),L0=new O(0,1,0),I0=new O(0,0,1),P0={type:"added"},U2={type:"removed"},Wr={type:"childadded",child:null},td={type:"childremoved",child:null};class Re extends Rr{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:b2++}),this.uuid=Ws(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Re.DEFAULT_UP.clone();const t=new O,e=new Ui,s=new zl,i=new O(1,1,1);function r(){s.setFromEuler(e,!1)}function o(){e.setFromQuaternion(s,void 0,!1)}e._onChange(r),s._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new re},normalMatrix:{value:new As}}),this.matrix=new re,this.matrixWorld=new re,this.matrixAutoUpdate=Re.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Re.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new F2,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return jr.setFromAxisAngle(t,e),this.quaternion.multiply(jr),this}rotateOnWorldAxis(t,e){return jr.setFromAxisAngle(t,e),this.quaternion.premultiply(jr),this}rotateX(t){return this.rotateOnAxis(O0,t)}rotateY(t){return this.rotateOnAxis(L0,t)}rotateZ(t){return this.rotateOnAxis(I0,t)}translateOnAxis(t,e){return k0.copy(t).applyQuaternion(this.quaternion),this.position.add(k0.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(O0,t)}translateY(t){return this.translateOnAxis(L0,t)}translateZ(t){return this.translateOnAxis(I0,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Rs.copy(this.matrixWorld).invert())}lookAt(t,e,s){t.isVector3?lu.copy(t):lu.set(t,e,s);const i=this.parent;this.updateWorldMatrix(!0,!1),ga.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Rs.lookAt(ga,lu,this.up):Rs.lookAt(lu,ga,this.up),this.quaternion.setFromRotationMatrix(Rs),i&&(Rs.extractRotation(i.matrixWorld),jr.setFromRotationMatrix(Rs),this.quaternion.premultiply(jr.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(P0),Wr.child=t,this.dispatchEvent(Wr),Wr.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(U2),td.child=t,this.dispatchEvent(td),td.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Rs.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),Rs.multiply(t.parent.matrixWorld)),t.applyMatrix4(Rs),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(P0),Wr.child=t,this.dispatchEvent(Wr),Wr.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let s=0,i=this.children.length;s<i;s++){const o=this.children[s].getObjectByProperty(t,e);if(o!==void 0)return o}}getObjectsByProperty(t,e,s=[]){this[t]===e&&s.push(this);const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].getObjectsByProperty(t,e,s);return s}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ga,t,D2),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ga,B2,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let s=0,i=e.length;s<i;s++)e[s].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let s=0,i=e.length;s<i;s++)e[s].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let s=0,i=e.length;s<i;s++){const r=e[s];(r.matrixWorldAutoUpdate===!0||t===!0)&&r.updateMatrixWorld(t)}}updateWorldMatrix(t,e){const s=this.parent;if(t===!0&&s!==null&&s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e===!0){const i=this.children;for(let r=0,o=i.length;r<o;r++){const a=i[r];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(t){const e=t===void 0||typeof t=="string",s={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},s.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(t),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function r(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(t)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const h=l[u];r(t.shapes,h)}else r(t.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(r(t.materials,this.material[l]));i.material=a}else i.material=r(t.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(r(t.animations,l))}}if(e){const a=o(t.geometries),l=o(t.materials),u=o(t.textures),c=o(t.images),h=o(t.shapes),d=o(t.skeletons),f=o(t.animations),m=o(t.nodes);a.length>0&&(s.geometries=a),l.length>0&&(s.materials=l),u.length>0&&(s.textures=u),c.length>0&&(s.images=c),h.length>0&&(s.shapes=h),d.length>0&&(s.skeletons=d),f.length>0&&(s.animations=f),m.length>0&&(s.nodes=m)}return s.object=i,s;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let s=0;s<t.children.length;s++){const i=t.children[s];this.add(i.clone())}return this}}Re.DEFAULT_UP=new O(0,1,0);Re.DEFAULT_MATRIX_AUTO_UPDATE=!0;Re.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Gn=new O,ks=new O,ed=new O,Os=new O,Hr=new O,$r=new O,V0=new O,nd=new O,sd=new O,id=new O;class gs{constructor(t=new O,e=new O,s=new O){this.a=t,this.b=e,this.c=s}static getNormal(t,e,s,i){i.subVectors(s,e),Gn.subVectors(t,e),i.cross(Gn);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(t,e,s,i,r){Gn.subVectors(i,e),ks.subVectors(s,e),ed.subVectors(t,e);const o=Gn.dot(Gn),a=Gn.dot(ks),l=Gn.dot(ed),u=ks.dot(ks),c=ks.dot(ed),h=o*u-a*a;if(h===0)return r.set(0,0,0),null;const d=1/h,f=(u*l-a*c)*d,m=(o*c-a*l)*d;return r.set(1-f-m,m,f)}static containsPoint(t,e,s,i){return this.getBarycoord(t,e,s,i,Os)===null?!1:Os.x>=0&&Os.y>=0&&Os.x+Os.y<=1}static getInterpolation(t,e,s,i,r,o,a,l){return this.getBarycoord(t,e,s,i,Os)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(r,Os.x),l.addScaledVector(o,Os.y),l.addScaledVector(a,Os.z),l)}static isFrontFacing(t,e,s,i){return Gn.subVectors(s,e),ks.subVectors(t,e),Gn.cross(ks).dot(i)<0}set(t,e,s){return this.a.copy(t),this.b.copy(e),this.c.copy(s),this}setFromPointsAndIndices(t,e,s,i){return this.a.copy(t[e]),this.b.copy(t[s]),this.c.copy(t[i]),this}setFromAttributeAndIndices(t,e,s,i){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,s),this.c.fromBufferAttribute(t,i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Gn.subVectors(this.c,this.b),ks.subVectors(this.a,this.b),Gn.cross(ks).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return gs.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return gs.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,s,i,r){return gs.getInterpolation(t,this.a,this.b,this.c,e,s,i,r)}containsPoint(t){return gs.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return gs.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const s=this.a,i=this.b,r=this.c;let o,a;Hr.subVectors(i,s),$r.subVectors(r,s),nd.subVectors(t,s);const l=Hr.dot(nd),u=$r.dot(nd);if(l<=0&&u<=0)return e.copy(s);sd.subVectors(t,i);const c=Hr.dot(sd),h=$r.dot(sd);if(c>=0&&h<=c)return e.copy(i);const d=l*h-c*u;if(d<=0&&l>=0&&c<=0)return o=l/(l-c),e.copy(s).addScaledVector(Hr,o);id.subVectors(t,r);const f=Hr.dot(id),m=$r.dot(id);if(m>=0&&f<=m)return e.copy(r);const p=f*u-l*m;if(p<=0&&u>=0&&m<=0)return a=u/(u-m),e.copy(s).addScaledVector($r,a);const _=c*m-f*h;if(_<=0&&h-c>=0&&f-m>=0)return V0.subVectors(r,i),a=(h-c)/(h-c+(f-m)),e.copy(i).addScaledVector(V0,a);const g=1/(_+p+d);return o=p*g,a=d*g,e.copy(s).addScaledVector(Hr,o).addScaledVector($r,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const p_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ri={h:0,s:0,l:0},uu={h:0,s:0,l:0};function rd(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*6*(2/3-e):n}class bt{constructor(t,e,s){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,s)}set(t,e,s){if(e===void 0&&s===void 0){const i=t;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(t,e,s);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=Is){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,Wn.toWorkingColorSpace(this,e),this}setRGB(t,e,s,i=Wn.workingColorSpace){return this.r=t,this.g=e,this.b=s,Wn.toWorkingColorSpace(this,i),this}setHSL(t,e,s,i=Wn.workingColorSpace){if(t=mm(t,1),e=Ce(e,0,1),s=Ce(s,0,1),e===0)this.r=this.g=this.b=s;else{const r=s<=.5?s*(1+e):s+e-s*e,o=2*s-r;this.r=rd(o,r,t+1/3),this.g=rd(o,r,t),this.b=rd(o,r,t-1/3)}return Wn.toWorkingColorSpace(this,i),this}setStyle(t,e=Is){function s(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(t)){let r;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return s(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,e);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return s(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,e);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return s(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(t)){const r=i[1],o=r.length;if(o===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,e);if(o===6)return this.setHex(parseInt(r,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=Is){const s=p_[t.toLowerCase()];return s!==void 0?this.setHex(s,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=wo(t.r),this.g=wo(t.g),this.b=wo(t.b),this}copyLinearToSRGB(t){return this.r=Gh(t.r),this.g=Gh(t.g),this.b=Gh(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Is){return Wn.fromWorkingColorSpace(Se.copy(this),t),Math.round(Ce(Se.r*255,0,255))*65536+Math.round(Ce(Se.g*255,0,255))*256+Math.round(Ce(Se.b*255,0,255))}getHexString(t=Is){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Wn.workingColorSpace){Wn.fromWorkingColorSpace(Se.copy(this),e);const s=Se.r,i=Se.g,r=Se.b,o=Math.max(s,i,r),a=Math.min(s,i,r);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const h=o-a;switch(u=c<=.5?h/(o+a):h/(2-o-a),o){case s:l=(i-r)/h+(i<r?6:0);break;case i:l=(r-s)/h+2;break;case r:l=(s-i)/h+4;break}l/=6}return t.h=l,t.s=u,t.l=c,t}getRGB(t,e=Wn.workingColorSpace){return Wn.fromWorkingColorSpace(Se.copy(this),e),t.r=Se.r,t.g=Se.g,t.b=Se.b,t}getStyle(t=Is){Wn.fromWorkingColorSpace(Se.copy(this),t);const e=Se.r,s=Se.g,i=Se.b;return t!==Is?`color(${t} ${e.toFixed(3)} ${s.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(s*255)},${Math.round(i*255)})`}offsetHSL(t,e,s){return this.getHSL(ri),this.setHSL(ri.h+t,ri.s+e,ri.l+s)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,s){return this.r=t.r+(e.r-t.r)*s,this.g=t.g+(e.g-t.g)*s,this.b=t.b+(e.b-t.b)*s,this}lerpHSL(t,e){this.getHSL(ri),t.getHSL(uu);const s=Ba(ri.h,uu.h,e),i=Ba(ri.s,uu.s,e),r=Ba(ri.l,uu.l,e);return this.setHSL(s,i,r),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,s=this.g,i=this.b,r=t.elements;return this.r=r[0]*e+r[3]*s+r[6]*i,this.g=r[1]*e+r[4]*s+r[7]*i,this.b=r[2]*e+r[5]*s+r[8]*i,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Se=new bt;bt.NAMES=p_;let j2=0;class as extends Rr{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:j2++}),this.uuid=Ws(),this.name="",this.type="Material",this.blending=h0,this.side=Pf,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=f0,this.blendDst=p0,this.blendEquation=d0,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new bt(0,0,0),this.blendAlpha=0,this.depthFunc=m0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=w0,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Vr,this.stencilZFail=Vr,this.stencilZPass=Vr,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const s=t[e];if(s===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const i=this[e];if(i===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(s):i&&i.isVector3&&s&&s.isVector3?i.copy(s):this[e]=s}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const s={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),this.roughness!==void 0&&(s.roughness=this.roughness),this.metalness!==void 0&&(s.metalness=this.metalness),this.sheen!==void 0&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(s.shininess=this.shininess),this.clearcoat!==void 0&&(s.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(s.dispersion=this.dispersion),this.iridescence!==void 0&&(s.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(s.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(s.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(s.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(s.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(s.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(s.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(t).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(t).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(t).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(t).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(t).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(s.combine=this.combine)),this.envMapRotation!==void 0&&(s.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(s.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(s.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(s.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(s.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(s.size=this.size),this.shadowSide!==null&&(s.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(s.sizeAttenuation=this.sizeAttenuation),this.blending!==h0&&(s.blending=this.blending),this.side!==Pf&&(s.side=this.side),this.vertexColors===!0&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),this.transparent===!0&&(s.transparent=!0),this.blendSrc!==f0&&(s.blendSrc=this.blendSrc),this.blendDst!==p0&&(s.blendDst=this.blendDst),this.blendEquation!==d0&&(s.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(s.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(s.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(s.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(s.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(s.blendAlpha=this.blendAlpha),this.depthFunc!==m0&&(s.depthFunc=this.depthFunc),this.depthTest===!1&&(s.depthTest=this.depthTest),this.depthWrite===!1&&(s.depthWrite=this.depthWrite),this.colorWrite===!1&&(s.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(s.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==w0&&(s.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(s.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(s.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Vr&&(s.stencilFail=this.stencilFail),this.stencilZFail!==Vr&&(s.stencilZFail=this.stencilZFail),this.stencilZPass!==Vr&&(s.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(s.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(s.rotation=this.rotation),this.polygonOffset===!0&&(s.polygonOffset=!0),this.polygonOffsetFactor!==0&&(s.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(s.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(s.linewidth=this.linewidth),this.dashSize!==void 0&&(s.dashSize=this.dashSize),this.gapSize!==void 0&&(s.gapSize=this.gapSize),this.scale!==void 0&&(s.scale=this.scale),this.dithering===!0&&(s.dithering=!0),this.alphaTest>0&&(s.alphaTest=this.alphaTest),this.alphaHash===!0&&(s.alphaHash=!0),this.alphaToCoverage===!0&&(s.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(s.premultipliedAlpha=!0),this.forceSinglePass===!0&&(s.forceSinglePass=!0),this.wireframe===!0&&(s.wireframe=!0),this.wireframeLinewidth>1&&(s.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(s.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(s.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(s.flatShading=!0),this.visible===!1&&(s.visible=!1),this.toneMapped===!1&&(s.toneMapped=!1),this.fog===!1&&(s.fog=!1),Object.keys(this.userData).length>0&&(s.userData=this.userData);function i(r){const o=[];for(const a in r){const l=r[a];delete l.metadata,o.push(l)}return o}if(e){const r=i(t.textures),o=i(t.images);r.length>0&&(s.textures=r),o.length>0&&(s.images=o)}return s}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let s=null;if(e!==null){const i=e.length;s=new Array(i);for(let r=0;r!==i;++r)s[r]=e[r].clone()}return this.clippingPlanes=s,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}class m_ extends as{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new bt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ui,this.combine=pm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const Xt=new O,cu=new nt;class Ci{constructor(t,e,s=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=s,this.usage=pc,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=l_,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}get updateRange(){return d_("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,s){t*=this.itemSize,s*=e.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[s+i];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,s=this.count;e<s;e++)cu.fromBufferAttribute(this,e),cu.applyMatrix3(t),this.setXY(e,cu.x,cu.y);else if(this.itemSize===3)for(let e=0,s=this.count;e<s;e++)Xt.fromBufferAttribute(this,e),Xt.applyMatrix3(t),this.setXYZ(e,Xt.x,Xt.y,Xt.z);return this}applyMatrix4(t){for(let e=0,s=this.count;e<s;e++)Xt.fromBufferAttribute(this,e),Xt.applyMatrix4(t),this.setXYZ(e,Xt.x,Xt.y,Xt.z);return this}applyNormalMatrix(t){for(let e=0,s=this.count;e<s;e++)Xt.fromBufferAttribute(this,e),Xt.applyNormalMatrix(t),this.setXYZ(e,Xt.x,Xt.y,Xt.z);return this}transformDirection(t){for(let e=0,s=this.count;e<s;e++)Xt.fromBufferAttribute(this,e),Xt.transformDirection(t),this.setXYZ(e,Xt.x,Xt.y,Xt.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let s=this.array[t*this.itemSize+e];return this.normalized&&(s=Qn(s,this.array)),s}setComponent(t,e,s){return this.normalized&&(s=dt(s,this.array)),this.array[t*this.itemSize+e]=s,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=Qn(e,this.array)),e}setX(t,e){return this.normalized&&(e=dt(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=Qn(e,this.array)),e}setY(t,e){return this.normalized&&(e=dt(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=Qn(e,this.array)),e}setZ(t,e){return this.normalized&&(e=dt(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=Qn(e,this.array)),e}setW(t,e){return this.normalized&&(e=dt(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,s){return t*=this.itemSize,this.normalized&&(e=dt(e,this.array),s=dt(s,this.array)),this.array[t+0]=e,this.array[t+1]=s,this}setXYZ(t,e,s,i){return t*=this.itemSize,this.normalized&&(e=dt(e,this.array),s=dt(s,this.array),i=dt(i,this.array)),this.array[t+0]=e,this.array[t+1]=s,this.array[t+2]=i,this}setXYZW(t,e,s,i,r){return t*=this.itemSize,this.normalized&&(e=dt(e,this.array),s=dt(s,this.array),i=dt(i,this.array),r=dt(r,this.array)),this.array[t+0]=e,this.array[t+1]=s,this.array[t+2]=i,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==pc&&(t.usage=this.usage),t}}class W2 extends Ci{constructor(t,e,s){super(new Uint16Array(t),e,s)}}class H2 extends Ci{constructor(t,e,s){super(new Uint32Array(t),e,s)}}class bf extends Ci{constructor(t,e,s){super(new Float32Array(t),e,s)}}let $2=0;const Sn=new re,od=new Re,Gr=new O,on=new Rl,ya=new Rl,oe=new O;class Qc extends Rr{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:$2++}),this.uuid=Ws(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(C2(t)?H2:W2)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,s=0){this.groups.push({start:t,count:e,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const s=this.attributes.normal;if(s!==void 0){const r=new As().getNormalMatrix(t);s.applyNormalMatrix(r),s.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(t),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return Sn.makeRotationFromQuaternion(t),this.applyMatrix4(Sn),this}rotateX(t){return Sn.makeRotationX(t),this.applyMatrix4(Sn),this}rotateY(t){return Sn.makeRotationY(t),this.applyMatrix4(Sn),this}rotateZ(t){return Sn.makeRotationZ(t),this.applyMatrix4(Sn),this}translate(t,e,s){return Sn.makeTranslation(t,e,s),this.applyMatrix4(Sn),this}scale(t,e,s){return Sn.makeScale(t,e,s),this.applyMatrix4(Sn),this}lookAt(t){return od.lookAt(t),od.updateMatrix(),this.applyMatrix4(od.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Gr).negate(),this.translate(Gr.x,Gr.y,Gr.z),this}setFromPoints(t){const e=[];for(let s=0,i=t.length;s<i;s++){const r=t[s];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new bf(e,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Rl);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new O(-1/0,-1/0,-1/0),new O(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let s=0,i=e.length;s<i;s++){const r=e[s];on.setFromBufferAttribute(r),this.morphTargetsRelative?(oe.addVectors(this.boundingBox.min,on.min),this.boundingBox.expandByPoint(oe),oe.addVectors(this.boundingBox.max,on.max),this.boundingBox.expandByPoint(oe)):(this.boundingBox.expandByPoint(on.min),this.boundingBox.expandByPoint(on.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new gm);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new O,1/0);return}if(t){const s=this.boundingSphere.center;if(on.setFromBufferAttribute(t),e)for(let r=0,o=e.length;r<o;r++){const a=e[r];ya.setFromBufferAttribute(a),this.morphTargetsRelative?(oe.addVectors(on.min,ya.min),on.expandByPoint(oe),oe.addVectors(on.max,ya.max),on.expandByPoint(oe)):(on.expandByPoint(ya.min),on.expandByPoint(ya.max))}on.getCenter(s);let i=0;for(let r=0,o=t.count;r<o;r++)oe.fromBufferAttribute(t,r),i=Math.max(i,s.distanceToSquared(oe));if(e)for(let r=0,o=e.length;r<o;r++){const a=e[r],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)oe.fromBufferAttribute(a,u),l&&(Gr.fromBufferAttribute(t,u),oe.add(Gr)),i=Math.max(i,s.distanceToSquared(oe))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const s=e.position,i=e.normal,r=e.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ci(new Float32Array(4*s.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let C=0;C<s.count;C++)a[C]=new O,l[C]=new O;const u=new O,c=new O,h=new O,d=new nt,f=new nt,m=new nt,p=new O,_=new O;function g(C,k,b){u.fromBufferAttribute(s,C),c.fromBufferAttribute(s,k),h.fromBufferAttribute(s,b),d.fromBufferAttribute(r,C),f.fromBufferAttribute(r,k),m.fromBufferAttribute(r,b),c.sub(u),h.sub(u),f.sub(d),m.sub(d);const G=1/(f.x*m.y-m.x*f.y);isFinite(G)&&(p.copy(c).multiplyScalar(m.y).addScaledVector(h,-f.y).multiplyScalar(G),_.copy(h).multiplyScalar(f.x).addScaledVector(c,-m.x).multiplyScalar(G),a[C].add(p),a[k].add(p),a[b].add(p),l[C].add(_),l[k].add(_),l[b].add(_))}let y=this.groups;y.length===0&&(y=[{start:0,count:t.count}]);for(let C=0,k=y.length;C<k;++C){const b=y[C],G=b.start,K=b.count;for(let Y=G,ct=G+K;Y<ct;Y+=3)g(t.getX(Y+0),t.getX(Y+1),t.getX(Y+2))}const x=new O,v=new O,w=new O,S=new O;function M(C){w.fromBufferAttribute(i,C),S.copy(w);const k=a[C];x.copy(k),x.sub(w.multiplyScalar(w.dot(k))).normalize(),v.crossVectors(S,k);const G=v.dot(l[C])<0?-1:1;o.setXYZW(C,x.x,x.y,x.z,G)}for(let C=0,k=y.length;C<k;++C){const b=y[C],G=b.start,K=b.count;for(let Y=G,ct=G+K;Y<ct;Y+=3)M(t.getX(Y+0)),M(t.getX(Y+1)),M(t.getX(Y+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let s=this.getAttribute("normal");if(s===void 0)s=new Ci(new Float32Array(e.count*3),3),this.setAttribute("normal",s);else for(let d=0,f=s.count;d<f;d++)s.setXYZ(d,0,0,0);const i=new O,r=new O,o=new O,a=new O,l=new O,u=new O,c=new O,h=new O;if(t)for(let d=0,f=t.count;d<f;d+=3){const m=t.getX(d+0),p=t.getX(d+1),_=t.getX(d+2);i.fromBufferAttribute(e,m),r.fromBufferAttribute(e,p),o.fromBufferAttribute(e,_),c.subVectors(o,r),h.subVectors(i,r),c.cross(h),a.fromBufferAttribute(s,m),l.fromBufferAttribute(s,p),u.fromBufferAttribute(s,_),a.add(c),l.add(c),u.add(c),s.setXYZ(m,a.x,a.y,a.z),s.setXYZ(p,l.x,l.y,l.z),s.setXYZ(_,u.x,u.y,u.z)}else for(let d=0,f=e.count;d<f;d+=3)i.fromBufferAttribute(e,d+0),r.fromBufferAttribute(e,d+1),o.fromBufferAttribute(e,d+2),c.subVectors(o,r),h.subVectors(i,r),c.cross(h),s.setXYZ(d+0,c.x,c.y,c.z),s.setXYZ(d+1,c.x,c.y,c.z),s.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),s.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,s=t.count;e<s;e++)oe.fromBufferAttribute(t,e),oe.normalize(),t.setXYZ(e,oe.x,oe.y,oe.z)}toNonIndexed(){function t(a,l){const u=a.array,c=a.itemSize,h=a.normalized,d=new u.constructor(l.length*c);let f=0,m=0;for(let p=0,_=l.length;p<_;p++){a.isInterleavedBufferAttribute?f=l[p]*a.data.stride+a.offset:f=l[p]*c;for(let g=0;g<c;g++)d[m++]=u[f++]}return new Ci(d,c,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Qc,s=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=t(l,s);e.setAttribute(a,u)}const r=this.morphAttributes;for(const a in r){const l=[],u=r[a];for(let c=0,h=u.length;c<h;c++){const d=u[c],f=t(d,s);l.push(f)}e.morphAttributes[a]=l}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];e.addGroup(u.start,u.count,u.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(t[u]=l[u]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const s=this.attributes;for(const l in s){const u=s[l];t.data.attributes[l]=u.toJSON(t.data)}const i={};let r=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let h=0,d=u.length;h<d;h++){const f=u[h];c.push(f.toJSON(t.data))}c.length>0&&(i[l]=c,r=!0)}r&&(t.data.morphAttributes=i,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(t.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const s=t.index;s!==null&&this.setIndex(s.clone(e));const i=t.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(e))}const r=t.morphAttributes;for(const u in r){const c=[],h=r[u];for(let d=0,f=h.length;d<f;d++)c.push(h[d].clone(e));this.morphAttributes[u]=c}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let u=0,c=o.length;u<c;u++){const h=o[u];this.addGroup(h.start,h.count,h.materialIndex)}const a=t.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=t.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const F0=new re,qi=new I2,hu=new gm,b0=new O,qr=new O,Xr=new O,Yr=new O,ad=new O,du=new O,fu=new nt,pu=new nt,mu=new nt,D0=new O,B0=new O,U0=new O,gu=new O,yu=new O;class G2 extends Re{constructor(t=new Qc,e=new m_){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,s=Object.keys(e);if(s.length>0){const i=e[s[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}getVertexPosition(t,e){const s=this.geometry,i=s.attributes.position,r=s.morphAttributes.position,o=s.morphTargetsRelative;e.fromBufferAttribute(i,t);const a=this.morphTargetInfluences;if(r&&a){du.set(0,0,0);for(let l=0,u=r.length;l<u;l++){const c=a[l],h=r[l];c!==0&&(ad.fromBufferAttribute(h,t),o?du.addScaledVector(ad,c):du.addScaledVector(ad.sub(e),c))}e.add(du)}return e}raycast(t,e){const s=this.geometry,i=this.material,r=this.matrixWorld;i!==void 0&&(s.boundingSphere===null&&s.computeBoundingSphere(),hu.copy(s.boundingSphere),hu.applyMatrix4(r),qi.copy(t.ray).recast(t.near),!(hu.containsPoint(qi.origin)===!1&&(qi.intersectSphere(hu,b0)===null||qi.origin.distanceToSquared(b0)>(t.far-t.near)**2))&&(F0.copy(r).invert(),qi.copy(t.ray).applyMatrix4(F0),!(s.boundingBox!==null&&qi.intersectsBox(s.boundingBox)===!1)&&this._computeIntersections(t,e,qi)))}_computeIntersections(t,e,s){let i;const r=this.geometry,o=this.material,a=r.index,l=r.attributes.position,u=r.attributes.uv,c=r.attributes.uv1,h=r.attributes.normal,d=r.groups,f=r.drawRange;if(a!==null)if(Array.isArray(o))for(let m=0,p=d.length;m<p;m++){const _=d[m],g=o[_.materialIndex],y=Math.max(_.start,f.start),x=Math.min(a.count,Math.min(_.start+_.count,f.start+f.count));for(let v=y,w=x;v<w;v+=3){const S=a.getX(v),M=a.getX(v+1),C=a.getX(v+2);i=xu(this,g,t,s,u,c,h,S,M,C),i&&(i.faceIndex=Math.floor(v/3),i.face.materialIndex=_.materialIndex,e.push(i))}}else{const m=Math.max(0,f.start),p=Math.min(a.count,f.start+f.count);for(let _=m,g=p;_<g;_+=3){const y=a.getX(_),x=a.getX(_+1),v=a.getX(_+2);i=xu(this,o,t,s,u,c,h,y,x,v),i&&(i.faceIndex=Math.floor(_/3),e.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let m=0,p=d.length;m<p;m++){const _=d[m],g=o[_.materialIndex],y=Math.max(_.start,f.start),x=Math.min(l.count,Math.min(_.start+_.count,f.start+f.count));for(let v=y,w=x;v<w;v+=3){const S=v,M=v+1,C=v+2;i=xu(this,g,t,s,u,c,h,S,M,C),i&&(i.faceIndex=Math.floor(v/3),i.face.materialIndex=_.materialIndex,e.push(i))}}else{const m=Math.max(0,f.start),p=Math.min(l.count,f.start+f.count);for(let _=m,g=p;_<g;_+=3){const y=_,x=_+1,v=_+2;i=xu(this,o,t,s,u,c,h,y,x,v),i&&(i.faceIndex=Math.floor(_/3),e.push(i))}}}}function q2(n,t,e,s,i,r,o,a){let l;if(t.side===i_?l=s.intersectTriangle(o,r,i,!0,a):l=s.intersectTriangle(i,r,o,t.side===Pf,a),l===null)return null;yu.copy(a),yu.applyMatrix4(n.matrixWorld);const u=e.ray.origin.distanceTo(yu);return u<e.near||u>e.far?null:{distance:u,point:yu.clone(),object:n}}function xu(n,t,e,s,i,r,o,a,l,u){n.getVertexPosition(a,qr),n.getVertexPosition(l,Xr),n.getVertexPosition(u,Yr);const c=q2(n,t,e,s,qr,Xr,Yr,gu);if(c){i&&(fu.fromBufferAttribute(i,a),pu.fromBufferAttribute(i,l),mu.fromBufferAttribute(i,u),c.uv=gs.getInterpolation(gu,qr,Xr,Yr,fu,pu,mu,new nt)),r&&(fu.fromBufferAttribute(r,a),pu.fromBufferAttribute(r,l),mu.fromBufferAttribute(r,u),c.uv1=gs.getInterpolation(gu,qr,Xr,Yr,fu,pu,mu,new nt)),o&&(D0.fromBufferAttribute(o,a),B0.fromBufferAttribute(o,l),U0.fromBufferAttribute(o,u),c.normal=gs.getInterpolation(gu,qr,Xr,Yr,D0,B0,U0,new O),c.normal.dot(s.direction)>0&&c.normal.multiplyScalar(-1));const h={a,b:l,c:u,normal:new O,materialIndex:0};gs.getNormal(qr,Xr,Yr,h.normal),c.face=h}return c}function X2(n){const t={};for(const e in n){t[e]={};for(const s in n[e]){const i=n[e][s];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][s]=null):t[e][s]=i.clone():Array.isArray(i)?t[e][s]=i.slice():t[e][s]=i}}return t}function Y2(n){const t=[];for(let e=0;e<n.length;e++)t.push(n[e].clone());return t}var Z2=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Q2=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class J2 extends as{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Z2,this.fragmentShader=Q2,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=X2(t.uniforms),this.uniformsGroups=Y2(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?e.uniforms[i]={type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?e.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?e.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?e.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?e.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?e.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?e.uniforms[i]={type:"m4",value:o.toArray()}:e.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const s={};for(const i in this.extensions)this.extensions[i]===!0&&(s[i]=!0);return Object.keys(s).length>0&&(e.extensions=s),e}}class g_ extends Re{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new re,this.projectionMatrix=new re,this.projectionMatrixInverse=new re,this.coordinateSystem=Us}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const oi=new O,j0=new nt,W0=new nt;class y_ extends g_{constructor(t=50,e=1,s=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=s,this.far=i,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=cl*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(Da*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return cl*2*Math.atan(Math.tan(Da*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,s){oi.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(oi.x,oi.y).multiplyScalar(-t/oi.z),oi.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),s.set(oi.x,oi.y).multiplyScalar(-t/oi.z)}getViewSize(t,e){return this.getViewBounds(t,j0,W0),e.subVectors(W0,j0)}setViewOffset(t,e,s,i,r,o){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=s,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(Da*.5*this.fov)/this.zoom,s=2*e,i=this.aspect*s,r=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;r+=o.offsetX*i/l,e-=o.offsetY*s/u,i*=o.width/l,s*=o.height/u}const a=this.filmOffset;a!==0&&(r+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-s,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const ld=new O,K2=new O,tA=new As;class er{constructor(t=new O(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,s,i){return this.normal.set(t,e,s),this.constant=i,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,s){const i=ld.subVectors(s,e).cross(K2.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const s=t.delta(ld),i=this.normal.dot(s);if(i===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:e.copy(t.start).addScaledVector(s,r)}intersectsLine(t){const e=this.distanceToPoint(t.start),s=this.distanceToPoint(t.end);return e<0&&s>0||s<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const s=e||tA.getNormalMatrix(t),i=this.coplanarPoint(ld).applyMatrix4(t),r=this.normal.applyMatrix3(s).normalize();return this.constant=-i.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Xi=new gm,_u=new O;class eA{constructor(t=new er,e=new er,s=new er,i=new er,r=new er,o=new er){this.planes=[t,e,s,i,r,o]}set(t,e,s,i,r,o){const a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(s),a[3].copy(i),a[4].copy(r),a[5].copy(o),this}copy(t){const e=this.planes;for(let s=0;s<6;s++)e[s].copy(t.planes[s]);return this}setFromProjectionMatrix(t,e=Us){const s=this.planes,i=t.elements,r=i[0],o=i[1],a=i[2],l=i[3],u=i[4],c=i[5],h=i[6],d=i[7],f=i[8],m=i[9],p=i[10],_=i[11],g=i[12],y=i[13],x=i[14],v=i[15];if(s[0].setComponents(l-r,d-u,_-f,v-g).normalize(),s[1].setComponents(l+r,d+u,_+f,v+g).normalize(),s[2].setComponents(l+o,d+c,_+m,v+y).normalize(),s[3].setComponents(l-o,d-c,_-m,v-y).normalize(),s[4].setComponents(l-a,d-h,_-p,v-x).normalize(),e===Us)s[5].setComponents(l+a,d+h,_+p,v+x).normalize();else if(e===ul)s[5].setComponents(a,h,p,x).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),Xi.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),Xi.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(Xi)}intersectsSprite(t){return Xi.center.set(0,0,0),Xi.radius=.7071067811865476,Xi.applyMatrix4(t.matrixWorld),this.intersectsSphere(Xi)}intersectsSphere(t){const e=this.planes,s=t.center,i=-t.radius;for(let r=0;r<6;r++)if(e[r].distanceToPoint(s)<i)return!1;return!0}intersectsBox(t){const e=this.planes;for(let s=0;s<6;s++){const i=e[s];if(_u.x=i.normal.x>0?t.max.x:t.min.x,_u.y=i.normal.y>0?t.max.y:t.min.y,_u.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(_u)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let s=0;s<6;s++)if(e[s].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class x_ extends g_{constructor(t=-1,e=1,s=1,i=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=s,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,s,i,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=s,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),s=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=s-t,o=s+t,a=i+e,l=i-e;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=u*this.view.offsetX,o=r+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(r,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}class Jc extends ts{constructor(t,e,s,i,r,o,a,l,u,c){if(c=c!==void 0?c:Hh,c!==Hh&&c!==x0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");s===void 0&&c===Hh&&(s=s2),s===void 0&&c===x0&&(s=r2),super(null,i,r,o,a,l,c,s,u),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=a!==void 0?a:Oi,this.minFilter=l!==void 0?l:Oi,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return this.compareFunction!==null&&(e.compareFunction=this.compareFunction),e}}const nA=new Jc(1,1);nA.compareFunction=c2;class __{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=pc,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Ws()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}get updateRange(){return d_("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,s){t*=this.stride,s*=e.stride;for(let i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[s+i];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ws()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),s=new this.constructor(e,this.stride);return s.setUsage(this.usage),s}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ws()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Pe=new O;class ym{constructor(t,e,s,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=s,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,s=this.data.count;e<s;e++)Pe.fromBufferAttribute(this,e),Pe.applyMatrix4(t),this.setXYZ(e,Pe.x,Pe.y,Pe.z);return this}applyNormalMatrix(t){for(let e=0,s=this.count;e<s;e++)Pe.fromBufferAttribute(this,e),Pe.applyNormalMatrix(t),this.setXYZ(e,Pe.x,Pe.y,Pe.z);return this}transformDirection(t){for(let e=0,s=this.count;e<s;e++)Pe.fromBufferAttribute(this,e),Pe.transformDirection(t),this.setXYZ(e,Pe.x,Pe.y,Pe.z);return this}getComponent(t,e){let s=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(s=Qn(s,this.array)),s}setComponent(t,e,s){return this.normalized&&(s=dt(s,this.array)),this.data.array[t*this.data.stride+this.offset+e]=s,this}setX(t,e){return this.normalized&&(e=dt(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=dt(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=dt(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=dt(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=Qn(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=Qn(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=Qn(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=Qn(e,this.array)),e}setXY(t,e,s){return t=t*this.data.stride+this.offset,this.normalized&&(e=dt(e,this.array),s=dt(s,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=s,this}setXYZ(t,e,s,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=dt(e,this.array),s=dt(s,this.array),i=dt(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=s,this.data.array[t+2]=i,this}setXYZW(t,e,s,i,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=dt(e,this.array),s=dt(s,this.array),i=dt(i,this.array),r=dt(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=s,this.data.array[t+2]=i,this.data.array[t+3]=r,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let s=0;s<this.count;s++){const i=s*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[i+r])}return new Ci(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new ym(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let s=0;s<this.count;s++){const i=s*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class sA extends as{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new bt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}class iA extends Ci{constructor(t,e,s,i=1){super(t,e,s),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}class v_ extends as{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new bt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}class N_ extends as{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new bt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}class w_ extends ts{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=Oi,this.minFilter=Oi,this.generateMipmaps=!1,this.needsUpdate=!0}}class rA extends as{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new bt(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class T_ extends as{constructor(t){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new bt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Do,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ui,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class oA extends T_{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new nt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ce(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new bt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new bt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new bt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class aA extends as{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new bt(16777215),this.specular=new bt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Do,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ui,this.combine=pm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class lA extends as{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Do,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class uA extends as{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new bt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Do,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ui,this.combine=pm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class M_ extends v_{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}class kl extends Re{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new bt(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),e}}class cA extends kl{constructor(t,e,s){super(t,s),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Re.DEFAULT_UP),this.updateMatrix(),this.groundColor=new bt(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const ud=new re,H0=new O,$0=new O;class xm{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new nt(512,512),this.map=null,this.mapPass=null,this.matrix=new re,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new eA,this._frameExtents=new nt(1,1),this._viewportCount=1,this._viewports=[new te(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,s=this.matrix;H0.setFromMatrixPosition(t.matrixWorld),e.position.copy(H0),$0.setFromMatrixPosition(t.target.matrixWorld),e.lookAt($0),e.updateMatrixWorld(),ud.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ud),s.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),s.multiply(ud)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class hA extends xm{constructor(){super(new y_(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,s=cl*2*t.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;(s!==e.fov||i!==e.aspect||r!==e.far)&&(e.fov=s,e.aspect=i,e.far=r,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class S_ extends kl{constructor(t,e,s=0,i=Math.PI/3,r=0,o=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Re.DEFAULT_UP),this.updateMatrix(),this.target=new Re,this.distance=s,this.angle=i,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new hA}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const G0=new re,xa=new O,cd=new O;class dA extends xm{constructor(){super(new y_(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new nt(4,2),this._viewportCount=6,this._viewports=[new te(2,1,1,1),new te(0,1,1,1),new te(3,1,1,1),new te(1,1,1,1),new te(3,0,1,1),new te(1,0,1,1)],this._cubeDirections=[new O(1,0,0),new O(-1,0,0),new O(0,0,1),new O(0,0,-1),new O(0,1,0),new O(0,-1,0)],this._cubeUps=[new O(0,1,0),new O(0,1,0),new O(0,1,0),new O(0,1,0),new O(0,0,1),new O(0,0,-1)]}updateMatrices(t,e=0){const s=this.camera,i=this.matrix,r=t.distance||s.far;r!==s.far&&(s.far=r,s.updateProjectionMatrix()),xa.setFromMatrixPosition(t.matrixWorld),s.position.copy(xa),cd.copy(s.position),cd.add(this._cubeDirections[e]),s.up.copy(this._cubeUps[e]),s.lookAt(cd),s.updateMatrixWorld(),i.makeTranslation(-xa.x,-xa.y,-xa.z),G0.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),this._frustum.setFromProjectionMatrix(G0)}}class fA extends kl{constructor(t,e,s=0,i=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=s,this.decay=i,this.shadow=new dA}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class pA extends xm{constructor(){super(new x_(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class mA extends kl{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Re.DEFAULT_UP),this.updateMatrix(),this.target=new Re,this.shadow=new pA}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class gA extends kl{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class yA extends __{constructor(t,e,s=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=s}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:s_}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=s_);function Ps(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function A_(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var gn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Bo={duration:.5,overwrite:!1,delay:0},_m,ke,Rt,On=1e8,wt=1/On,Df=Math.PI*2,xA=Df/4,_A=0,C_=Math.sqrt,vA=Math.cos,NA=Math.sin,de=function(t){return typeof t=="string"},Wt=function(t){return typeof t=="function"},Ys=function(t){return typeof t=="number"},vm=function(t){return typeof t>"u"},Ts=function(t){return typeof t=="object"},Qe=function(t){return t!==!1},Nm=function(){return typeof window<"u"},vu=function(t){return Wt(t)||de(t)},E_=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Oe=Array.isArray,Bf=/(?:-?\.?\d|\.)+/gi,z_=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,uo=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,hd=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,R_=/[+-]=-?[.\d]+/,k_=/[^,'"\[\]\s]+/gi,wA=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Lt,ds,Uf,wm,_n={},mc={},O_,L_=function(t){return(mc=Tr(t,_n))&&nn},Tm=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},hl=function(t,e){return!e&&console.warn(t)},I_=function(t,e){return t&&(_n[t]=e)&&mc&&(mc[t]=e)||_n},dl=function(){return 0},TA={suppressEvents:!0,isStart:!0,kill:!1},Fu={suppressEvents:!0,kill:!1},MA={suppressEvents:!0},Mm={},Ei=[],jf={},P_,un={},dd={},q0=30,bu=[],Sm="",Am=function(t){var e=t[0],s,i;if(Ts(e)||Wt(e)||(t=[t]),!(s=(e._gsap||{}).harness)){for(i=bu.length;i--&&!bu[i].targetTest(e););s=bu[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new rv(t[i],s)))||t.splice(i,1);return t},fr=function(t){return t._gsap||Am(Ln(t))[0]._gsap},V_=function(t,e,s){return(s=t[e])&&Wt(s)?t[e]():vm(s)&&t.getAttribute&&t.getAttribute(e)||s},Je=function(t,e){return(t=t.split(",")).forEach(e)||t},$t=function(t){return Math.round(t*1e5)/1e5||0},ue=function(t){return Math.round(t*1e7)/1e7||0},To=function(t,e){var s=e.charAt(0),i=parseFloat(e.substr(2));return t=parseFloat(t),s==="+"?t+i:s==="-"?t-i:s==="*"?t*i:t/i},SA=function(t,e){for(var s=e.length,i=0;t.indexOf(e[i])<0&&++i<s;);return i<s},gc=function(){var t=Ei.length,e=Ei.slice(0),s,i;for(jf={},Ei.length=0,s=0;s<t;s++)i=e[s],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},F_=function(t,e,s,i){Ei.length&&!ke&&gc(),t.render(e,s,ke&&e<0&&(t._initted||t._startAt)),Ei.length&&!ke&&gc()},b_=function(t){var e=parseFloat(t);return(e||e===0)&&(t+"").match(k_).length<2?e:de(t)?t.trim():t},D_=function(t){return t},bn=function(t,e){for(var s in e)s in t||(t[s]=e[s]);return t},AA=function(t){return function(e,s){for(var i in s)i in e||i==="duration"&&t||i==="ease"||(e[i]=s[i])}},Tr=function(t,e){for(var s in e)t[s]=e[s];return t},X0=function n(t,e){for(var s in e)s!=="__proto__"&&s!=="constructor"&&s!=="prototype"&&(t[s]=Ts(e[s])?n(t[s]||(t[s]={}),e[s]):e[s]);return t},yc=function(t,e){var s={},i;for(i in t)i in e||(s[i]=t[i]);return s},Ua=function(t){var e=t.parent||Lt,s=t.keyframes?AA(Oe(t.keyframes)):bn;if(Qe(t.inherit))for(;e;)s(t,e.vars.defaults),e=e.parent||e._dp;return t},CA=function(t,e){for(var s=t.length,i=s===e.length;i&&s--&&t[s]===e[s];);return s<0},B_=function(t,e,s,i,r){var o=t[i],a;if(r)for(a=e[r];o&&o[r]>a;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=t[s],t[s]=e),e._next?e._next._prev=e:t[i]=e,e._prev=o,e.parent=e._dp=t,e},Kc=function(t,e,s,i){s===void 0&&(s="_first"),i===void 0&&(i="_last");var r=e._prev,o=e._next;r?r._next=o:t[s]===e&&(t[s]=o),o?o._prev=r:t[i]===e&&(t[i]=r),e._next=e._prev=e.parent=null},Li=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},pr=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var s=t;s;)s._dirty=1,s=s.parent;return t},EA=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Wf=function(t,e,s,i){return t._startAt&&(ke?t._startAt.revert(Fu):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,i))},zA=function n(t){return!t||t._ts&&n(t.parent)},Y0=function(t){return t._repeat?Uo(t._tTime,t=t.duration()+t._rDelay)*t:0},Uo=function(t,e){var s=Math.floor(t/=e);return t&&s===t?s-1:s},xc=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},th=function(t){return t._end=ue(t._start+(t._tDur/Math.abs(t._ts||t._rts||wt)||0))},eh=function(t,e){var s=t._dp;return s&&s.smoothChildTiming&&t._ts&&(t._start=ue(s._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),th(t),s._dirty||pr(s,t)),t},U_=function(t,e){var s;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(s=xc(t.rawTime(),e),(!e._dur||Ol(0,e.totalDuration(),s)-e._tTime>wt)&&e.render(s,!0)),pr(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(s=t;s._dp;)s.rawTime()>=0&&s.totalTime(s._tTime),s=s._dp;t._zTime=-wt}},ys=function(t,e,s,i){return e.parent&&Li(e),e._start=ue((Ys(s)?s:s||t!==Lt?An(t,s,e):t._time)+e._delay),e._end=ue(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),B_(t,e,"_first","_last",t._sort?"_start":0),Hf(e)||(t._recent=e),i||U_(t,e),t._ts<0&&eh(t,t._tTime),t},j_=function(t,e){return(_n.ScrollTrigger||Tm("scrollTrigger",e))&&_n.ScrollTrigger.create(e,t)},W_=function(t,e,s,i,r){if(Em(t,e,r),!t._initted)return 1;if(!s&&t._pt&&!ke&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&P_!==cn.frame)return Ei.push(t),t._lazy=[r,i],1},RA=function n(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||n(e))},Hf=function(t){var e=t.data;return e==="isFromStart"||e==="isStart"},kA=function(t,e,s,i){var r=t.ratio,o=e<0||!e&&(!t._start&&RA(t)&&!(!t._initted&&Hf(t))||(t._ts<0||t._dp._ts<0)&&!Hf(t))?0:1,a=t._rDelay,l=0,u,c,h;if(a&&t._repeat&&(l=Ol(0,t._tDur,e),c=Uo(l,a),t._yoyo&&c&1&&(o=1-o),c!==Uo(t._tTime,a)&&(r=1-o,t.vars.repeatRefresh&&t._initted&&t.invalidate())),o!==r||ke||i||t._zTime===wt||!e&&t._zTime){if(!t._initted&&W_(t,e,i,s,l))return;for(h=t._zTime,t._zTime=e||(s?wt:0),s||(s=e&&!h),t.ratio=o,t._from&&(o=1-o),t._time=0,t._tTime=l,u=t._pt;u;)u.r(o,u.d),u=u._next;e<0&&Wf(t,e,s,!0),t._onUpdate&&!s&&dn(t,"onUpdate"),l&&t._repeat&&!s&&t.parent&&dn(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===o&&(o&&Li(t,1),!s&&!ke&&(dn(t,o?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)},OA=function(t,e,s){var i;if(s>e)for(i=t._first;i&&i._start<=s;){if(i.data==="isPause"&&i._start>e)return i;i=i._next}else for(i=t._last;i&&i._start>=s;){if(i.data==="isPause"&&i._start<e)return i;i=i._prev}},jo=function(t,e,s,i){var r=t._repeat,o=ue(e)||0,a=t._tTime/t._tDur;return a&&!i&&(t._time*=o/t._dur),t._dur=o,t._tDur=r?r<0?1e10:ue(o*(r+1)+t._rDelay*r):o,a>0&&!i&&eh(t,t._tTime=t._tDur*a),t.parent&&th(t),s||pr(t.parent,t),t},Z0=function(t){return t instanceof Fe?pr(t):jo(t,t._dur)},LA={_start:0,endTime:dl,totalDuration:dl},An=function n(t,e,s){var i=t.labels,r=t._recent||LA,o=t.duration()>=On?r.endTime(!1):t._dur,a,l,u;return de(e)&&(isNaN(e)||e in i)?(l=e.charAt(0),u=e.substr(-1)==="%",a=e.indexOf("="),l==="<"||l===">"?(a>=0&&(e=e.replace(/=/,"")),(l==="<"?r._start:r.endTime(r._repeat>=0))+(parseFloat(e.substr(1))||0)*(u?(a<0?r:s).totalDuration()/100:1)):a<0?(e in i||(i[e]=o),i[e]):(l=parseFloat(e.charAt(a-1)+e.substr(a+1)),u&&s&&(l=l/100*(Oe(s)?s[0]:s).totalDuration()),a>1?n(t,e.substr(0,a-1),s)+l:o+l)):e==null?o:+e},ja=function(t,e,s){var i=Ys(e[1]),r=(i?2:1)+(t<2?0:1),o=e[r],a,l;if(i&&(o.duration=e[1]),o.parent=s,t){for(a=o,l=s;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Qe(l.vars.inherit)&&l.parent;o.immediateRender=Qe(a.immediateRender),t<2?o.runBackwards=1:o.startAt=e[r-1]}return new Yt(e[0],o,e[r+1])},ji=function(t,e){return t||t===0?e(t):e},Ol=function(t,e,s){return s<t?t:s>e?e:s},ze=function(t,e){return!de(t)||!(e=wA.exec(t))?"":e[1]},IA=function(t,e,s){return ji(s,function(i){return Ol(t,e,i)})},$f=[].slice,H_=function(t,e){return t&&Ts(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&Ts(t[0]))&&!t.nodeType&&t!==ds},PA=function(t,e,s){return s===void 0&&(s=[]),t.forEach(function(i){var r;return de(i)&&!e||H_(i,1)?(r=s).push.apply(r,Ln(i)):s.push(i)})||s},Ln=function(t,e,s){return Rt&&!e&&Rt.selector?Rt.selector(t):de(t)&&!s&&(Uf||!Wo())?$f.call((e||wm).querySelectorAll(t),0):Oe(t)?PA(t,s):H_(t)?$f.call(t,0):t?[t]:[]},Gf=function(t){return t=Ln(t)[0]||hl("Invalid scope")||{},function(e){var s=t.current||t.nativeElement||t;return Ln(e,s.querySelectorAll?s:s===t?hl("Invalid scope")||wm.createElement("div"):t)}},$_=function(t){return t.sort(function(){return .5-Math.random()})},G_=function(t){if(Wt(t))return t;var e=Ts(t)?t:{each:t},s=mr(e.ease),i=e.from||0,r=parseFloat(e.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,u=e.axis,c=i,h=i;return de(i)?c=h={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(c=i[0],h=i[1]),function(d,f,m){var p=(m||e).length,_=o[p],g,y,x,v,w,S,M,C,k;if(!_){if(k=e.grid==="auto"?0:(e.grid||[1,On])[1],!k){for(M=-On;M<(M=m[k++].getBoundingClientRect().left)&&k<p;);k<p&&k--}for(_=o[p]=[],g=l?Math.min(k,p)*c-.5:i%k,y=k===On?0:l?p*h/k-.5:i/k|0,M=0,C=On,S=0;S<p;S++)x=S%k-g,v=y-(S/k|0),_[S]=w=u?Math.abs(u==="y"?v:x):C_(x*x+v*v),w>M&&(M=w),w<C&&(C=w);i==="random"&&$_(_),_.max=M-C,_.min=C,_.v=p=(parseFloat(e.amount)||parseFloat(e.each)*(k>p?p-1:u?u==="y"?p/k:k:Math.max(k,p/k))||0)*(i==="edges"?-1:1),_.b=p<0?r-p:r,_.u=ze(e.amount||e.each)||0,s=s&&p<0?nv(s):s}return p=(_[d]-_.min)/_.max||0,ue(_.b+(s?s(p):p)*_.v)+_.u}},qf=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(s){var i=ue(Math.round(parseFloat(s)/t)*t*e);return(i-i%1)/e+(Ys(s)?0:ze(s))}},q_=function(t,e){var s=Oe(t),i,r;return!s&&Ts(t)&&(i=s=t.radius||On,t.values?(t=Ln(t.values),(r=!Ys(t[0]))&&(i*=i)):t=qf(t.increment)),ji(e,s?Wt(t)?function(o){return r=t(o),Math.abs(r-o)<=i?r:o}:function(o){for(var a=parseFloat(r?o.x:o),l=parseFloat(r?o.y:0),u=On,c=0,h=t.length,d,f;h--;)r?(d=t[h].x-a,f=t[h].y-l,d=d*d+f*f):d=Math.abs(t[h]-a),d<u&&(u=d,c=h);return c=!i||u<=i?t[c]:o,r||c===o||Ys(o)?c:c+ze(o)}:qf(t))},X_=function(t,e,s,i){return ji(Oe(t)?!e:s===!0?!!(s=0):!i,function(){return Oe(t)?t[~~(Math.random()*t.length)]:(s=s||1e-5)&&(i=s<1?Math.pow(10,(s+"").length-2):1)&&Math.floor(Math.round((t-s/2+Math.random()*(e-t+s*.99))/s)*s*i)/i})},VA=function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return function(i){return e.reduce(function(r,o){return o(r)},i)}},FA=function(t,e){return function(s){return t(parseFloat(s))+(e||ze(s))}},bA=function(t,e,s){return Z_(t,e,0,1,s)},Y_=function(t,e,s){return ji(s,function(i){return t[~~e(i)]})},DA=function n(t,e,s){var i=e-t;return Oe(t)?Y_(t,n(0,t.length),e):ji(s,function(r){return(i+(r-t)%i)%i+t})},BA=function n(t,e,s){var i=e-t,r=i*2;return Oe(t)?Y_(t,n(0,t.length-1),e):ji(s,function(o){return o=(r+(o-t)%r)%r||0,t+(o>i?r-o:o)})},fl=function(t){for(var e=0,s="",i,r,o,a;~(i=t.indexOf("random(",e));)o=t.indexOf(")",i),a=t.charAt(i+7)==="[",r=t.substr(i+7,o-i-7).match(a?k_:Bf),s+=t.substr(e,i-e)+X_(a?r:+r[0],a?0:+r[1],+r[2]||1e-5),e=o+1;return s+t.substr(e,t.length-e)},Z_=function(t,e,s,i,r){var o=e-t,a=i-s;return ji(r,function(l){return s+((l-t)/o*a||0)})},UA=function n(t,e,s,i){var r=isNaN(t+e)?0:function(f){return(1-f)*t+f*e};if(!r){var o=de(t),a={},l,u,c,h,d;if(s===!0&&(i=1)&&(s=null),o)t={p:t},e={p:e};else if(Oe(t)&&!Oe(e)){for(c=[],h=t.length,d=h-2,u=1;u<h;u++)c.push(n(t[u-1],t[u]));h--,r=function(m){m*=h;var p=Math.min(d,~~m);return c[p](m-p)},s=e}else i||(t=Tr(Oe(t)?[]:{},t));if(!c){for(l in e)Cm.call(a,t,l,"get",e[l]);r=function(m){return km(m,a)||(o?t.p:t)}}}return ji(s,r)},Q0=function(t,e,s){var i=t.labels,r=On,o,a,l;for(o in i)a=i[o]-e,a<0==!!s&&a&&r>(a=Math.abs(a))&&(l=o,r=a);return l},dn=function(t,e,s){var i=t.vars,r=i[e],o=Rt,a=t._ctx,l,u,c;if(r)return l=i[e+"Params"],u=i.callbackScope||t,s&&Ei.length&&gc(),a&&(Rt=a),c=l?r.apply(u,l):r.call(u),Rt=o,c},Ea=function(t){return Li(t),t.scrollTrigger&&t.scrollTrigger.kill(!!ke),t.progress()<1&&dn(t,"onInterrupt"),t},co,Q_=[],J_=function(t){if(t)if(t=!t.name&&t.default||t,Nm()||t.headless){var e=t.name,s=Wt(t),i=e&&!s&&t.init?function(){this._props=[]}:t,r={init:dl,render:km,add:Cm,kill:sC,modifier:nC,rawVars:0},o={targetTest:0,get:0,getSetter:Rm,aliases:{},register:0};if(Wo(),t!==i){if(un[e])return;bn(i,bn(yc(t,r),o)),Tr(i.prototype,Tr(r,yc(t,o))),un[i.prop=e]=i,t.targetTest&&(bu.push(i),Mm[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}I_(e,i),t.register&&t.register(nn,i,Ke)}else Q_.push(t)},gt=255,za={aqua:[0,gt,gt],lime:[0,gt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,gt],navy:[0,0,128],white:[gt,gt,gt],olive:[128,128,0],yellow:[gt,gt,0],orange:[gt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[gt,0,0],pink:[gt,192,203],cyan:[0,gt,gt],transparent:[gt,gt,gt,0]},fd=function(t,e,s){return t+=t<0?1:t>1?-1:0,(t*6<1?e+(s-e)*t*6:t<.5?s:t*3<2?e+(s-e)*(2/3-t)*6:e)*gt+.5|0},K_=function(t,e,s){var i=t?Ys(t)?[t>>16,t>>8&gt,t&gt]:0:za.black,r,o,a,l,u,c,h,d,f,m;if(!i){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),za[t])i=za[t];else if(t.charAt(0)==="#"){if(t.length<6&&(r=t.charAt(1),o=t.charAt(2),a=t.charAt(3),t="#"+r+r+o+o+a+a+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return i=parseInt(t.substr(1,6),16),[i>>16,i>>8&gt,i&gt,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),i=[t>>16,t>>8&gt,t&gt]}else if(t.substr(0,3)==="hsl"){if(i=m=t.match(Bf),!e)l=+i[0]%360/360,u=+i[1]/100,c=+i[2]/100,o=c<=.5?c*(u+1):c+u-c*u,r=c*2-o,i.length>3&&(i[3]*=1),i[0]=fd(l+1/3,r,o),i[1]=fd(l,r,o),i[2]=fd(l-1/3,r,o);else if(~t.indexOf("="))return i=t.match(z_),s&&i.length<4&&(i[3]=1),i}else i=t.match(Bf)||za.transparent;i=i.map(Number)}return e&&!m&&(r=i[0]/gt,o=i[1]/gt,a=i[2]/gt,h=Math.max(r,o,a),d=Math.min(r,o,a),c=(h+d)/2,h===d?l=u=0:(f=h-d,u=c>.5?f/(2-h-d):f/(h+d),l=h===r?(o-a)/f+(o<a?6:0):h===o?(a-r)/f+2:(r-o)/f+4,l*=60),i[0]=~~(l+.5),i[1]=~~(u*100+.5),i[2]=~~(c*100+.5)),s&&i.length<4&&(i[3]=1),i},tv=function(t){var e=[],s=[],i=-1;return t.split(zi).forEach(function(r){var o=r.match(uo)||[];e.push.apply(e,o),s.push(i+=o.length+1)}),e.c=s,e},J0=function(t,e,s){var i="",r=(t+i).match(zi),o=e?"hsla(":"rgba(",a=0,l,u,c,h;if(!r)return t;if(r=r.map(function(d){return(d=K_(d,e,1))&&o+(e?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),s&&(c=tv(t),l=s.c,l.join(i)!==c.c.join(i)))for(u=t.replace(zi,"1").split(uo),h=u.length-1;a<h;a++)i+=u[a]+(~l.indexOf(a)?r.shift()||o+"0,0,0,0)":(c.length?c:r.length?r:s).shift());if(!u)for(u=t.split(zi),h=u.length-1;a<h;a++)i+=u[a]+r[a];return i+u[h]},zi=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in za)n+="|"+t+"\\b";return new RegExp(n+")","gi")}(),jA=/hsl[a]?\(/,ev=function(t){var e=t.join(" "),s;if(zi.lastIndex=0,zi.test(e))return s=jA.test(e),t[1]=J0(t[1],s),t[0]=J0(t[0],s,tv(t[1])),!0},pl,cn=function(){var n=Date.now,t=500,e=33,s=n(),i=s,r=1e3/240,o=r,a=[],l,u,c,h,d,f,m=function p(_){var g=n()-i,y=_===!0,x,v,w,S;if((g>t||g<0)&&(s+=g-e),i+=g,w=i-s,x=w-o,(x>0||y)&&(S=++h.frame,d=w-h.time*1e3,h.time=w=w/1e3,o+=x+(x>=r?4:r-x),v=1),y||(l=u(p)),v)for(f=0;f<a.length;f++)a[f](w,d,S,_)};return h={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(_){return d/(1e3/(_||60))},wake:function(){O_&&(!Uf&&Nm()&&(ds=Uf=window,wm=ds.document||{},_n.gsap=nn,(ds.gsapVersions||(ds.gsapVersions=[])).push(nn.version),L_(mc||ds.GreenSockGlobals||!ds.gsap&&ds||{}),Q_.forEach(J_)),c=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&h.sleep(),u=c||function(_){return setTimeout(_,o-h.time*1e3+1|0)},pl=1,m(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(l),pl=0,u=dl},lagSmoothing:function(_,g){t=_||1/0,e=Math.min(g||33,t)},fps:function(_){r=1e3/(_||240),o=h.time*1e3+r},add:function(_,g,y){var x=g?function(v,w,S,M){_(v,w,S,M),h.remove(x)}:_;return h.remove(_),a[y?"unshift":"push"](x),Wo(),x},remove:function(_,g){~(g=a.indexOf(_))&&a.splice(g,1)&&f>=g&&f--},_listeners:a},h}(),Wo=function(){return!pl&&cn.wake()},it={},WA=/^[\d.\-M][\d.\-,\s]/,HA=/["']/g,$A=function(t){for(var e={},s=t.substr(1,t.length-3).split(":"),i=s[0],r=1,o=s.length,a,l,u;r<o;r++)l=s[r],a=r!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),e[i]=isNaN(u)?u.replace(HA,"").trim():+u,i=l.substr(a+1).trim();return e},GA=function(t){var e=t.indexOf("(")+1,s=t.indexOf(")"),i=t.indexOf("(",e);return t.substring(e,~i&&i<s?t.indexOf(")",s+1):s)},qA=function(t){var e=(t+"").split("("),s=it[e[0]];return s&&e.length>1&&s.config?s.config.apply(null,~t.indexOf("{")?[$A(e[1])]:GA(t).split(",").map(b_)):it._CE&&WA.test(t)?it._CE("",t):s},nv=function(t){return function(e){return 1-t(1-e)}},sv=function n(t,e){for(var s=t._first,i;s;)s instanceof Fe?n(s,e):s.vars.yoyoEase&&(!s._yoyo||!s._repeat)&&s._yoyo!==e&&(s.timeline?n(s.timeline,e):(i=s._ease,s._ease=s._yEase,s._yEase=i,s._yoyo=e)),s=s._next},mr=function(t,e){return t&&(Wt(t)?t:it[t]||qA(t))||e},kr=function(t,e,s,i){s===void 0&&(s=function(l){return 1-e(1-l)}),i===void 0&&(i=function(l){return l<.5?e(l*2)/2:1-e((1-l)*2)/2});var r={easeIn:e,easeOut:s,easeInOut:i},o;return Je(t,function(a){it[a]=_n[a]=r,it[o=a.toLowerCase()]=s;for(var l in r)it[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=it[a+"."+l]=r[l]}),r},iv=function(t){return function(e){return e<.5?(1-t(1-e*2))/2:.5+t((e-.5)*2)/2}},pd=function n(t,e,s){var i=e>=1?e:1,r=(s||(t?.3:.45))/(e<1?e:1),o=r/Df*(Math.asin(1/i)||0),a=function(c){return c===1?1:i*Math.pow(2,-10*c)*NA((c-o)*r)+1},l=t==="out"?a:t==="in"?function(u){return 1-a(1-u)}:iv(a);return r=Df/r,l.config=function(u,c){return n(t,u,c)},l},md=function n(t,e){e===void 0&&(e=1.70158);var s=function(o){return o?--o*o*((e+1)*o+e)+1:0},i=t==="out"?s:t==="in"?function(r){return 1-s(1-r)}:iv(s);return i.config=function(r){return n(t,r)},i};Je("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,t){var e=t<5?t+1:t;kr(n+",Power"+(e-1),t?function(s){return Math.pow(s,e)}:function(s){return s},function(s){return 1-Math.pow(1-s,e)},function(s){return s<.5?Math.pow(s*2,e)/2:1-Math.pow((1-s)*2,e)/2})});it.Linear.easeNone=it.none=it.Linear.easeIn;kr("Elastic",pd("in"),pd("out"),pd());(function(n,t){var e=1/t,s=2*e,i=2.5*e,r=function(a){return a<e?n*a*a:a<s?n*Math.pow(a-1.5/t,2)+.75:a<i?n*(a-=2.25/t)*a+.9375:n*Math.pow(a-2.625/t,2)+.984375};kr("Bounce",function(o){return 1-r(1-o)},r)})(7.5625,2.75);kr("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});kr("Circ",function(n){return-(C_(1-n*n)-1)});kr("Sine",function(n){return n===1?1:-vA(n*xA)+1});kr("Back",md("in"),md("out"),md());it.SteppedEase=it.steps=_n.SteppedEase={config:function(t,e){t===void 0&&(t=1);var s=1/t,i=t+(e?0:1),r=e?1:0,o=1-wt;return function(a){return((i*Ol(0,o,a)|0)+r)*s}}};Bo.ease=it["quad.out"];Je("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return Sm+=n+","+n+"Params,"});var rv=function(t,e){this.id=_A++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:V_,this.set=e?e.getSetter:Rm},ml=function(){function n(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,jo(this,+e.duration,1,1),this.data=e.data,Rt&&(this._ctx=Rt,Rt.data.push(this)),pl||cn.wake()}var t=n.prototype;return t.delay=function(s){return s||s===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+s-this._delay),this._delay=s,this):this._delay},t.duration=function(s){return arguments.length?this.totalDuration(this._repeat>0?s+(s+this._rDelay)*this._repeat:s):this.totalDuration()&&this._dur},t.totalDuration=function(s){return arguments.length?(this._dirty=0,jo(this,this._repeat<0?s:(s-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(s,i){if(Wo(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(eh(this,s),!r._dp||r.parent||U_(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&s<this._tDur||this._ts<0&&s>0||!this._tDur&&!s)&&ys(this._dp,this,this._start-this._delay)}return(this._tTime!==s||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===wt||!s&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=s),F_(this,s,i)),this},t.time=function(s,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),s+Y0(this))%(this._dur+this._rDelay)||(s?this._dur:0),i):this._time},t.totalProgress=function(s,i){return arguments.length?this.totalTime(this.totalDuration()*s,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},t.progress=function(s,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-s:s)+Y0(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(s,i){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(s-1)*r,i):this._repeat?Uo(this._tTime,r)+1:1},t.timeScale=function(s,i){if(!arguments.length)return this._rts===-wt?0:this._rts;if(this._rts===s)return this;var r=this.parent&&this._ts?xc(this.parent._time,this):this._tTime;return this._rts=+s||0,this._ts=this._ps||s===-wt?0:this._rts,this.totalTime(Ol(-Math.abs(this._delay),this._tDur,r),i!==!1),th(this),EA(this)},t.paused=function(s){return arguments.length?(this._ps!==s&&(this._ps=s,s?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Wo(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==wt&&(this._tTime-=wt)))),this):this._ps},t.startTime=function(s){if(arguments.length){this._start=s;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&ys(i,this,s-this._delay),this}return this._start},t.endTime=function(s){return this._start+(Qe(s)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(s){var i=this.parent||this._dp;return i?s&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?xc(i.rawTime(s),this):this._tTime:this._tTime},t.revert=function(s){s===void 0&&(s=MA);var i=ke;return ke=s,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(s),this.totalTime(-.01,s.suppressEvents)),this.data!=="nested"&&s.kill!==!1&&this.kill(),ke=i,this},t.globalTime=function(s){for(var i=this,r=arguments.length?s:i.rawTime();i;)r=i._start+r/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(s):r},t.repeat=function(s){return arguments.length?(this._repeat=s===1/0?-2:s,Z0(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(s){if(arguments.length){var i=this._time;return this._rDelay=s,Z0(this),i?this.time(i):this}return this._rDelay},t.yoyo=function(s){return arguments.length?(this._yoyo=s,this):this._yoyo},t.seek=function(s,i){return this.totalTime(An(this,s),Qe(i))},t.restart=function(s,i){return this.play().totalTime(s?-this._delay:0,Qe(i))},t.play=function(s,i){return s!=null&&this.seek(s,i),this.reversed(!1).paused(!1)},t.reverse=function(s,i){return s!=null&&this.seek(s||this.totalDuration(),i),this.reversed(!0).paused(!1)},t.pause=function(s,i){return s!=null&&this.seek(s,i),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(s){return arguments.length?(!!s!==this.reversed()&&this.timeScale(-this._rts||(s?-wt:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-wt,this},t.isActive=function(){var s=this.parent||this._dp,i=this._start,r;return!!(!s||this._ts&&this._initted&&s.isActive()&&(r=s.rawTime(!0))>=i&&r<this.endTime(!0)-wt)},t.eventCallback=function(s,i,r){var o=this.vars;return arguments.length>1?(i?(o[s]=i,r&&(o[s+"Params"]=r),s==="onUpdate"&&(this._onUpdate=i)):delete o[s],this):o[s]},t.then=function(s){var i=this;return new Promise(function(r){var o=Wt(s)?s:D_,a=function(){var u=i.then;i.then=null,Wt(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=u),r(o),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},t.kill=function(){Ea(this)},n}();bn(ml.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-wt,_prom:0,_ps:!1,_rts:1});var Fe=function(n){A_(t,n);function t(s,i){var r;return s===void 0&&(s={}),r=n.call(this,s)||this,r.labels={},r.smoothChildTiming=!!s.smoothChildTiming,r.autoRemoveChildren=!!s.autoRemoveChildren,r._sort=Qe(s.sortChildren),Lt&&ys(s.parent||Lt,Ps(r),i),s.reversed&&r.reverse(),s.paused&&r.paused(!0),s.scrollTrigger&&j_(Ps(r),s.scrollTrigger),r}var e=t.prototype;return e.to=function(i,r,o){return ja(0,arguments,this),this},e.from=function(i,r,o){return ja(1,arguments,this),this},e.fromTo=function(i,r,o,a){return ja(2,arguments,this),this},e.set=function(i,r,o){return r.duration=0,r.parent=this,Ua(r).repeatDelay||(r.repeat=0),r.immediateRender=!!r.immediateRender,new Yt(i,r,An(this,o),1),this},e.call=function(i,r,o){return ys(this,Yt.delayedCall(0,i,r),o)},e.staggerTo=function(i,r,o,a,l,u,c){return o.duration=r,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=c,o.parent=this,new Yt(i,o,An(this,l)),this},e.staggerFrom=function(i,r,o,a,l,u,c){return o.runBackwards=1,Ua(o).immediateRender=Qe(o.immediateRender),this.staggerTo(i,r,o,a,l,u,c)},e.staggerFromTo=function(i,r,o,a,l,u,c,h){return a.startAt=o,Ua(a).immediateRender=Qe(a.immediateRender),this.staggerTo(i,r,a,l,u,c,h)},e.render=function(i,r,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,c=i<=0?0:ue(i),h=this._zTime<0!=i<0&&(this._initted||!u),d,f,m,p,_,g,y,x,v,w,S,M;if(this!==Lt&&c>l&&i>=0&&(c=l),c!==this._tTime||o||h){if(a!==this._time&&u&&(c+=this._time-a,i+=this._time-a),d=c,v=this._start,x=this._ts,g=!x,h&&(u||(a=this._zTime),(i||!r)&&(this._zTime=i)),this._repeat){if(S=this._yoyo,_=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(_*100+i,r,o);if(d=ue(c%_),c===l?(p=this._repeat,d=u):(p=~~(c/_),p&&p===c/_&&(d=u,p--),d>u&&(d=u)),w=Uo(this._tTime,_),!a&&this._tTime&&w!==p&&this._tTime-w*_-this._dur<=0&&(w=p),S&&p&1&&(d=u-d,M=1),p!==w&&!this._lock){var C=S&&w&1,k=C===(S&&p&1);if(p<w&&(C=!C),a=C?0:c%u?u:c,this._lock=1,this.render(a||(M?0:ue(p*_)),r,!u)._lock=0,this._tTime=c,!r&&this.parent&&dn(this,"onRepeat"),this.vars.repeatRefresh&&!M&&(this.invalidate()._lock=1),a&&a!==this._time||g!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,k&&(this._lock=2,a=C?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!M&&this.invalidate()),this._lock=0,!this._ts&&!g)return this;sv(this,M)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(y=OA(this,ue(a),ue(d)),y&&(c-=d-(d=y._start))),this._tTime=c,this._time=d,this._act=!x,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&d&&!r&&!p&&(dn(this,"onStart"),this._tTime!==c))return this;if(d>=a&&i>=0)for(f=this._first;f;){if(m=f._next,(f._act||d>=f._start)&&f._ts&&y!==f){if(f.parent!==this)return this.render(i,r,o);if(f.render(f._ts>0?(d-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(d-f._start)*f._ts,r,o),d!==this._time||!this._ts&&!g){y=0,m&&(c+=this._zTime=-wt);break}}f=m}else{f=this._last;for(var b=i<0?i:d;f;){if(m=f._prev,(f._act||b<=f._end)&&f._ts&&y!==f){if(f.parent!==this)return this.render(i,r,o);if(f.render(f._ts>0?(b-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(b-f._start)*f._ts,r,o||ke&&(f._initted||f._startAt)),d!==this._time||!this._ts&&!g){y=0,m&&(c+=this._zTime=b?-wt:wt);break}}f=m}}if(y&&!r&&(this.pause(),y.render(d>=a?0:-wt)._zTime=d>=a?1:-1,this._ts))return this._start=v,th(this),this.render(i,r,o);this._onUpdate&&!r&&dn(this,"onUpdate",!0),(c===l&&this._tTime>=this.totalDuration()||!c&&a)&&(v===this._start||Math.abs(x)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(c===l&&this._ts>0||!c&&this._ts<0)&&Li(this,1),!r&&!(i<0&&!a)&&(c||a||!l)&&(dn(this,c===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(i,r){var o=this;if(Ys(r)||(r=An(this,r,i)),!(i instanceof ml)){if(Oe(i))return i.forEach(function(a){return o.add(a,r)}),this;if(de(i))return this.addLabel(i,r);if(Wt(i))i=Yt.delayedCall(0,i);else return this}return this!==i?ys(this,i,r):this},e.getChildren=function(i,r,o,a){i===void 0&&(i=!0),r===void 0&&(r=!0),o===void 0&&(o=!0),a===void 0&&(a=-On);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof Yt?r&&l.push(u):(o&&l.push(u),i&&l.push.apply(l,u.getChildren(!0,r,o)))),u=u._next;return l},e.getById=function(i){for(var r=this.getChildren(1,1,1),o=r.length;o--;)if(r[o].vars.id===i)return r[o]},e.remove=function(i){return de(i)?this.removeLabel(i):Wt(i)?this.killTweensOf(i):(Kc(this,i),i===this._recent&&(this._recent=this._last),pr(this))},e.totalTime=function(i,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ue(cn.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,r),this._forcing=0,this):this._tTime},e.addLabel=function(i,r){return this.labels[i]=An(this,r),this},e.removeLabel=function(i){return delete this.labels[i],this},e.addPause=function(i,r,o){var a=Yt.delayedCall(0,r||dl,o);return a.data="isPause",this._hasPause=1,ys(this,a,An(this,i))},e.removePause=function(i){var r=this._first;for(i=An(this,i);r;)r._start===i&&r.data==="isPause"&&Li(r),r=r._next},e.killTweensOf=function(i,r,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)pi!==a[l]&&a[l].kill(i,r);return this},e.getTweensOf=function(i,r){for(var o=[],a=Ln(i),l=this._first,u=Ys(r),c;l;)l instanceof Yt?SA(l._targets,a)&&(u?(!pi||l._initted&&l._ts)&&l.globalTime(0)<=r&&l.globalTime(l.totalDuration())>r:!r||l.isActive())&&o.push(l):(c=l.getTweensOf(a,r)).length&&o.push.apply(o,c),l=l._next;return o},e.tweenTo=function(i,r){r=r||{};var o=this,a=An(o,i),l=r,u=l.startAt,c=l.onStart,h=l.onStartParams,d=l.immediateRender,f,m=Yt.to(o,bn({ease:r.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:r.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||wt,onStart:function(){if(o.pause(),!f){var _=r.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());m._dur!==_&&jo(m,_,0,1).render(m._time,!0,!0),f=1}c&&c.apply(m,h||[])}},r));return d?m.render(0):m},e.tweenFromTo=function(i,r,o){return this.tweenTo(r,bn({startAt:{time:An(this,i)}},o))},e.recent=function(){return this._recent},e.nextLabel=function(i){return i===void 0&&(i=this._time),Q0(this,An(this,i))},e.previousLabel=function(i){return i===void 0&&(i=this._time),Q0(this,An(this,i),1)},e.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+wt)},e.shiftChildren=function(i,r,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,u;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(r)for(u in l)l[u]>=o&&(l[u]+=i);return pr(this)},e.invalidate=function(i){var r=this._first;for(this._lock=0;r;)r.invalidate(i),r=r._next;return n.prototype.invalidate.call(this,i)},e.clear=function(i){i===void 0&&(i=!0);for(var r=this._first,o;r;)o=r._next,this.remove(r),r=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),pr(this)},e.totalDuration=function(i){var r=0,o=this,a=o._last,l=On,u,c,h;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(h=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),c=a._start,c>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,ys(o,a,c-a._delay,1)._lock=0):l=c,c<0&&a._ts&&(r-=c,(!h&&!o._dp||h&&h.smoothChildTiming)&&(o._start+=c/o._ts,o._time-=c,o._tTime-=c),o.shiftChildren(-c,!1,-1/0),l=0),a._end>r&&a._ts&&(r=a._end),a=u;jo(o,o===Lt&&o._time>r?o._time:r,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(i){if(Lt._ts&&(F_(Lt,xc(i,Lt)),P_=cn.frame),cn.frame>=q0){q0+=gn.autoSleep||120;var r=Lt._first;if((!r||!r._ts)&&gn.autoSleep&&cn._listeners.length<2){for(;r&&!r._ts;)r=r._next;r||cn.sleep()}}},t}(ml);bn(Fe.prototype,{_lock:0,_hasPause:0,_forcing:0});var XA=function(t,e,s,i,r,o,a){var l=new Ke(this._pt,t,e,0,1,hv,null,r),u=0,c=0,h,d,f,m,p,_,g,y;for(l.b=s,l.e=i,s+="",i+="",(g=~i.indexOf("random("))&&(i=fl(i)),o&&(y=[s,i],o(y,t,e),s=y[0],i=y[1]),d=s.match(hd)||[];h=hd.exec(i);)m=h[0],p=i.substring(u,h.index),f?f=(f+1)%5:p.substr(-5)==="rgba("&&(f=1),m!==d[c++]&&(_=parseFloat(d[c-1])||0,l._pt={_next:l._pt,p:p||c===1?p:",",s:_,c:m.charAt(1)==="="?To(_,m)-_:parseFloat(m)-_,m:f&&f<4?Math.round:0},u=hd.lastIndex);return l.c=u<i.length?i.substring(u,i.length):"",l.fp=a,(R_.test(i)||g)&&(l.e=0),this._pt=l,l},Cm=function(t,e,s,i,r,o,a,l,u,c){Wt(i)&&(i=i(r||0,t,o));var h=t[e],d=s!=="get"?s:Wt(h)?u?t[e.indexOf("set")||!Wt(t["get"+e.substr(3)])?e:"get"+e.substr(3)](u):t[e]():h,f=Wt(h)?u?KA:uv:zm,m;if(de(i)&&(~i.indexOf("random(")&&(i=fl(i)),i.charAt(1)==="="&&(m=To(d,i)+(ze(d)||0),(m||m===0)&&(i=m))),!c||d!==i||Xf)return!isNaN(d*i)&&i!==""?(m=new Ke(this._pt,t,e,+d||0,i-(d||0),typeof h=="boolean"?eC:cv,0,f),u&&(m.fp=u),a&&m.modifier(a,this,t),this._pt=m):(!h&&!(e in t)&&Tm(e,i),XA.call(this,t,e,d,i,f,l||gn.stringFilter,u))},YA=function(t,e,s,i,r){if(Wt(t)&&(t=Wa(t,r,e,s,i)),!Ts(t)||t.style&&t.nodeType||Oe(t)||E_(t))return de(t)?Wa(t,r,e,s,i):t;var o={},a;for(a in t)o[a]=Wa(t[a],r,e,s,i);return o},ov=function(t,e,s,i,r,o){var a,l,u,c;if(un[t]&&(a=new un[t]).init(r,a.rawVars?e[t]:YA(e[t],i,r,o,s),s,i,o)!==!1&&(s._pt=l=new Ke(s._pt,r,t,0,1,a.render,a,0,a.priority),s!==co))for(u=s._ptLookup[s._targets.indexOf(r)],c=a._props.length;c--;)u[a._props[c]]=l;return a},pi,Xf,Em=function n(t,e,s){var i=t.vars,r=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,u=i.onUpdate,c=i.runBackwards,h=i.yoyoEase,d=i.keyframes,f=i.autoRevert,m=t._dur,p=t._startAt,_=t._targets,g=t.parent,y=g&&g.data==="nested"?g.vars.targets:_,x=t._overwrite==="auto"&&!_m,v=t.timeline,w,S,M,C,k,b,G,K,Y,ct,St,ht,mt;if(v&&(!d||!r)&&(r="none"),t._ease=mr(r,Bo.ease),t._yEase=h?nv(mr(h===!0?r:h,Bo.ease)):0,h&&t._yoyo&&!t._repeat&&(h=t._yEase,t._yEase=t._ease,t._ease=h),t._from=!v&&!!i.runBackwards,!v||d&&!i.stagger){if(K=_[0]?fr(_[0]).harness:0,ht=K&&i[K.prop],w=yc(i,Mm),p&&(p._zTime<0&&p.progress(1),e<0&&c&&a&&!f?p.render(-1,!0):p.revert(c&&m?Fu:TA),p._lazy=0),o){if(Li(t._startAt=Yt.set(_,bn({data:"isStart",overwrite:!1,parent:g,immediateRender:!0,lazy:!p&&Qe(l),startAt:null,delay:0,onUpdate:u&&function(){return dn(t,"onUpdate")},stagger:0},o))),t._startAt._dp=0,t._startAt._sat=t,e<0&&(ke||!a&&!f)&&t._startAt.revert(Fu),a&&m&&e<=0&&s<=0){e&&(t._zTime=e);return}}else if(c&&m&&!p){if(e&&(a=!1),M=bn({overwrite:!1,data:"isFromStart",lazy:a&&!p&&Qe(l),immediateRender:a,stagger:0,parent:g},w),ht&&(M[K.prop]=ht),Li(t._startAt=Yt.set(_,M)),t._startAt._dp=0,t._startAt._sat=t,e<0&&(ke?t._startAt.revert(Fu):t._startAt.render(-1,!0)),t._zTime=e,!a)n(t._startAt,wt,wt);else if(!e)return}for(t._pt=t._ptCache=0,l=m&&Qe(l)||l&&!m,S=0;S<_.length;S++){if(k=_[S],G=k._gsap||Am(_)[S]._gsap,t._ptLookup[S]=ct={},jf[G.id]&&Ei.length&&gc(),St=y===_?S:y.indexOf(k),K&&(Y=new K).init(k,ht||w,t,St,y)!==!1&&(t._pt=C=new Ke(t._pt,k,Y.name,0,1,Y.render,Y,0,Y.priority),Y._props.forEach(function(D){ct[D]=C}),Y.priority&&(b=1)),!K||ht)for(M in w)un[M]&&(Y=ov(M,w,t,St,k,y))?Y.priority&&(b=1):ct[M]=C=Cm.call(t,k,M,"get",w[M],St,y,0,i.stringFilter);t._op&&t._op[S]&&t.kill(k,t._op[S]),x&&t._pt&&(pi=t,Lt.killTweensOf(k,ct,t.globalTime(e)),mt=!t.parent,pi=0),t._pt&&l&&(jf[G.id]=1)}b&&dv(t),t._onInit&&t._onInit(t)}t._onUpdate=u,t._initted=(!t._op||t._pt)&&!mt,d&&e<=0&&v.render(On,!0,!0)},ZA=function(t,e,s,i,r,o,a,l){var u=(t._pt&&t._ptCache||(t._ptCache={}))[e],c,h,d,f;if(!u)for(u=t._ptCache[e]=[],d=t._ptLookup,f=t._targets.length;f--;){if(c=d[f][e],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==e&&c.fp!==e;)c=c._next;if(!c)return Xf=1,t.vars[e]="+=0",Em(t,a),Xf=0,l?hl(e+" not eligible for reset"):1;u.push(c)}for(f=u.length;f--;)h=u[f],c=h._pt||h,c.s=(i||i===0)&&!r?i:c.s+(i||0)+o*c.c,c.c=s-c.s,h.e&&(h.e=$t(s)+ze(h.e)),h.b&&(h.b=c.s+ze(h.b))},QA=function(t,e){var s=t[0]?fr(t[0]).harness:0,i=s&&s.aliases,r,o,a,l;if(!i)return e;r=Tr({},e);for(o in i)if(o in r)for(l=i[o].split(","),a=l.length;a--;)r[l[a]]=r[o];return r},JA=function(t,e,s,i){var r=e.ease||i||"power1.inOut",o,a;if(Oe(e))a=s[t]||(s[t]=[]),e.forEach(function(l,u){return a.push({t:u/(e.length-1)*100,v:l,e:r})});else for(o in e)a=s[o]||(s[o]=[]),o==="ease"||a.push({t:parseFloat(t),v:e[o],e:r})},Wa=function(t,e,s,i,r){return Wt(t)?t.call(e,s,i,r):de(t)&&~t.indexOf("random(")?fl(t):t},av=Sm+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",lv={};Je(av+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return lv[n]=1});var Yt=function(n){A_(t,n);function t(s,i,r,o){var a;typeof i=="number"&&(r.duration=i,i=r,r=null),a=n.call(this,o?i:Ua(i))||this;var l=a.vars,u=l.duration,c=l.delay,h=l.immediateRender,d=l.stagger,f=l.overwrite,m=l.keyframes,p=l.defaults,_=l.scrollTrigger,g=l.yoyoEase,y=i.parent||Lt,x=(Oe(s)||E_(s)?Ys(s[0]):"length"in i)?[s]:Ln(s),v,w,S,M,C,k,b,G;if(a._targets=x.length?Am(x):hl("GSAP target "+s+" not found. https://gsap.com",!gn.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=f,m||d||vu(u)||vu(c)){if(i=a.vars,v=a.timeline=new Fe({data:"nested",defaults:p||{},targets:y&&y.data==="nested"?y.vars.targets:x}),v.kill(),v.parent=v._dp=Ps(a),v._start=0,d||vu(u)||vu(c)){if(M=x.length,b=d&&G_(d),Ts(d))for(C in d)~av.indexOf(C)&&(G||(G={}),G[C]=d[C]);for(w=0;w<M;w++)S=yc(i,lv),S.stagger=0,g&&(S.yoyoEase=g),G&&Tr(S,G),k=x[w],S.duration=+Wa(u,Ps(a),w,k,x),S.delay=(+Wa(c,Ps(a),w,k,x)||0)-a._delay,!d&&M===1&&S.delay&&(a._delay=c=S.delay,a._start+=c,S.delay=0),v.to(k,S,b?b(w,k,x):0),v._ease=it.none;v.duration()?u=c=0:a.timeline=0}else if(m){Ua(bn(v.vars.defaults,{ease:"none"})),v._ease=mr(m.ease||i.ease||"none");var K=0,Y,ct,St;if(Oe(m))m.forEach(function(ht){return v.to(x,ht,">")}),v.duration();else{S={};for(C in m)C==="ease"||C==="easeEach"||JA(C,m[C],S,m.easeEach);for(C in S)for(Y=S[C].sort(function(ht,mt){return ht.t-mt.t}),K=0,w=0;w<Y.length;w++)ct=Y[w],St={ease:ct.e,duration:(ct.t-(w?Y[w-1].t:0))/100*u},St[C]=ct.v,v.to(x,St,K),K+=St.duration;v.duration()<u&&v.to({},{duration:u-v.duration()})}}u||a.duration(u=v.duration())}else a.timeline=0;return f===!0&&!_m&&(pi=Ps(a),Lt.killTweensOf(x),pi=0),ys(y,Ps(a),r),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(h||!u&&!m&&a._start===ue(y._time)&&Qe(h)&&zA(Ps(a))&&y.data!=="nested")&&(a._tTime=-wt,a.render(Math.max(0,-c)||0)),_&&j_(Ps(a),_),a}var e=t.prototype;return e.render=function(i,r,o){var a=this._time,l=this._tDur,u=this._dur,c=i<0,h=i>l-wt&&!c?l:i<wt?0:i,d,f,m,p,_,g,y,x,v;if(!u)kA(this,i,r,o);else if(h!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c){if(d=h,x=this.timeline,this._repeat){if(p=u+this._rDelay,this._repeat<-1&&c)return this.totalTime(p*100+i,r,o);if(d=ue(h%p),h===l?(m=this._repeat,d=u):(m=~~(h/p),m&&m===ue(h/p)&&(d=u,m--),d>u&&(d=u)),g=this._yoyo&&m&1,g&&(v=this._yEase,d=u-d),_=Uo(this._tTime,p),d===a&&!o&&this._initted&&m===_)return this._tTime=h,this;m!==_&&(x&&this._yEase&&sv(x,g),this.vars.repeatRefresh&&!g&&!this._lock&&this._time!==p&&this._initted&&(this._lock=o=1,this.render(ue(p*m),!0).invalidate()._lock=0))}if(!this._initted){if(W_(this,c?i:d,o,r,h))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&m!==_))return this;if(u!==this._dur)return this.render(i,r,o)}if(this._tTime=h,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=y=(v||this._ease)(d/u),this._from&&(this.ratio=y=1-y),d&&!a&&!r&&!m&&(dn(this,"onStart"),this._tTime!==h))return this;for(f=this._pt;f;)f.r(y,f.d),f=f._next;x&&x.render(i<0?i:x._dur*x._ease(d/this._dur),r,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!r&&(c&&Wf(this,i,r,o),dn(this,"onUpdate")),this._repeat&&m!==_&&this.vars.onRepeat&&!r&&this.parent&&dn(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(c&&!this._onUpdate&&Wf(this,i,!0,!0),(i||!u)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&Li(this,1),!r&&!(c&&!a)&&(h||a||g)&&(dn(this,h===l?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom()))}return this},e.targets=function(){return this._targets},e.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},e.resetTo=function(i,r,o,a,l){pl||cn.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||Em(this,u),c=this._ease(u/this._dur),ZA(this,i,r,o,a,c,u,l)?this.resetTo(i,r,o,a,1):(eh(this,0),this.parent||B_(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},e.kill=function(i,r){if(r===void 0&&(r="all"),!i&&(!r||r==="all"))return this._lazy=this._pt=0,this.parent?Ea(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,r,pi&&pi.vars.overwrite!==!0)._first||Ea(this),this.parent&&o!==this.timeline.totalDuration()&&jo(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?Ln(i):a,u=this._ptLookup,c=this._pt,h,d,f,m,p,_,g;if((!r||r==="all")&&CA(a,l))return r==="all"&&(this._pt=0),Ea(this);for(h=this._op=this._op||[],r!=="all"&&(de(r)&&(p={},Je(r,function(y){return p[y]=1}),r=p),r=QA(a,r)),g=a.length;g--;)if(~l.indexOf(a[g])){d=u[g],r==="all"?(h[g]=r,m=d,f={}):(f=h[g]=h[g]||{},m=r);for(p in m)_=d&&d[p],_&&((!("kill"in _.d)||_.d.kill(p)===!0)&&Kc(this,_,"_pt"),delete d[p]),f!=="all"&&(f[p]=1)}return this._initted&&!this._pt&&c&&Ea(this),this},t.to=function(i,r){return new t(i,r,arguments[2])},t.from=function(i,r){return ja(1,arguments)},t.delayedCall=function(i,r,o,a){return new t(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:r,onReverseComplete:r,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},t.fromTo=function(i,r,o){return ja(2,arguments)},t.set=function(i,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new t(i,r)},t.killTweensOf=function(i,r,o){return Lt.killTweensOf(i,r,o)},t}(ml);bn(Yt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Je("staggerTo,staggerFrom,staggerFromTo",function(n){Yt[n]=function(){var t=new Fe,e=$f.call(arguments,0);return e.splice(n==="staggerFromTo"?5:4,0,0),t[n].apply(t,e)}});var zm=function(t,e,s){return t[e]=s},uv=function(t,e,s){return t[e](s)},KA=function(t,e,s,i){return t[e](i.fp,s)},tC=function(t,e,s){return t.setAttribute(e,s)},Rm=function(t,e){return Wt(t[e])?uv:vm(t[e])&&t.setAttribute?tC:zm},cv=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e6)/1e6,e)},eC=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},hv=function(t,e){var s=e._pt,i="";if(!t&&e.b)i=e.b;else if(t===1&&e.e)i=e.e;else{for(;s;)i=s.p+(s.m?s.m(s.s+s.c*t):Math.round((s.s+s.c*t)*1e4)/1e4)+i,s=s._next;i+=e.c}e.set(e.t,e.p,i,e)},km=function(t,e){for(var s=e._pt;s;)s.r(t,s.d),s=s._next},nC=function(t,e,s,i){for(var r=this._pt,o;r;)o=r._next,r.p===i&&r.modifier(t,e,s),r=o},sC=function(t){for(var e=this._pt,s,i;e;)i=e._next,e.p===t&&!e.op||e.op===t?Kc(this,e,"_pt"):e.dep||(s=1),e=i;return!s},iC=function(t,e,s,i){i.mSet(t,e,i.m.call(i.tween,s,i.mt),i)},dv=function(t){for(var e=t._pt,s,i,r,o;e;){for(s=e._next,i=r;i&&i.pr>e.pr;)i=i._next;(e._prev=i?i._prev:o)?e._prev._next=e:r=e,(e._next=i)?i._prev=e:o=e,e=s}t._pt=r},Ke=function(){function n(e,s,i,r,o,a,l,u,c){this.t=s,this.s=r,this.c=o,this.p=i,this.r=a||cv,this.d=l||this,this.set=u||zm,this.pr=c||0,this._next=e,e&&(e._prev=this)}var t=n.prototype;return t.modifier=function(s,i,r){this.mSet=this.mSet||this.set,this.set=iC,this.m=s,this.mt=r,this.tween=i},n}();Je(Sm+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return Mm[n]=1});_n.TweenMax=_n.TweenLite=Yt;_n.TimelineLite=_n.TimelineMax=Fe;Lt=new Fe({sortChildren:!1,defaults:Bo,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});gn.stringFilter=ev;var gr=[],Du={},rC=[],K0=0,oC=0,gd=function(t){return(Du[t]||rC).map(function(e){return e()})},Yf=function(){var t=Date.now(),e=[];t-K0>2&&(gd("matchMediaInit"),gr.forEach(function(s){var i=s.queries,r=s.conditions,o,a,l,u;for(a in i)o=ds.matchMedia(i[a]).matches,o&&(l=1),o!==r[a]&&(r[a]=o,u=1);u&&(s.revert(),l&&e.push(s))}),gd("matchMediaRevert"),e.forEach(function(s){return s.onMatch(s,function(i){return s.add(null,i)})}),K0=t,gd("matchMedia"))},fv=function(){function n(e,s){this.selector=s&&Gf(s),this.data=[],this._r=[],this.isReverted=!1,this.id=oC++,e&&this.add(e)}var t=n.prototype;return t.add=function(s,i,r){Wt(s)&&(r=i,i=s,s=Wt);var o=this,a=function(){var u=Rt,c=o.selector,h;return u&&u!==o&&u.data.push(o),r&&(o.selector=Gf(r)),Rt=o,h=i.apply(o,arguments),Wt(h)&&o._r.push(h),Rt=u,o.selector=c,o.isReverted=!1,h};return o.last=a,s===Wt?a(o,function(l){return o.add(null,l)}):s?o[s]=a:a},t.ignore=function(s){var i=Rt;Rt=null,s(this),Rt=i},t.getTweens=function(){var s=[];return this.data.forEach(function(i){return i instanceof n?s.push.apply(s,i.getTweens()):i instanceof Yt&&!(i.parent&&i.parent.data==="nested")&&s.push(i)}),s},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(s,i){var r=this;if(s?function(){for(var a=r.getTweens(),l=r.data.length,u;l--;)u=r.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(c){return a.splice(a.indexOf(c),1)}));for(a.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,h){return h.g-c.g||-1/0}).forEach(function(c){return c.t.revert(s)}),l=r.data.length;l--;)u=r.data[l],u instanceof Fe?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof Yt)&&u.revert&&u.revert(s);r._r.forEach(function(c){return c(s,r)}),r.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=gr.length;o--;)gr[o].id===this.id&&gr.splice(o,1)},t.revert=function(s){this.kill(s||{})},n}(),aC=function(){function n(e){this.contexts=[],this.scope=e,Rt&&Rt.data.push(this)}var t=n.prototype;return t.add=function(s,i,r){Ts(s)||(s={matches:s});var o=new fv(0,r||this.scope),a=o.conditions={},l,u,c;Rt&&!o.selector&&(o.selector=Rt.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=s;for(u in s)u==="all"?c=1:(l=ds.matchMedia(s[u]),l&&(gr.indexOf(o)<0&&gr.push(o),(a[u]=l.matches)&&(c=1),l.addListener?l.addListener(Yf):l.addEventListener("change",Yf)));return c&&i(o,function(h){return o.add(null,h)}),this},t.revert=function(s){this.kill(s||{})},t.kill=function(s){this.contexts.forEach(function(i){return i.kill(s,!0)})},n}(),_c={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];e.forEach(function(i){return J_(i)})},timeline:function(t){return new Fe(t)},getTweensOf:function(t,e){return Lt.getTweensOf(t,e)},getProperty:function(t,e,s,i){de(t)&&(t=Ln(t)[0]);var r=fr(t||{}).get,o=s?D_:b_;return s==="native"&&(s=""),t&&(e?o((un[e]&&un[e].get||r)(t,e,s,i)):function(a,l,u){return o((un[a]&&un[a].get||r)(t,a,l,u))})},quickSetter:function(t,e,s){if(t=Ln(t),t.length>1){var i=t.map(function(c){return nn.quickSetter(c,e,s)}),r=i.length;return function(c){for(var h=r;h--;)i[h](c)}}t=t[0]||{};var o=un[e],a=fr(t),l=a.harness&&(a.harness.aliases||{})[e]||e,u=o?function(c){var h=new o;co._pt=0,h.init(t,s?c+s:c,co,0,[t]),h.render(1,h),co._pt&&km(1,co)}:a.set(t,l);return o?u:function(c){return u(t,l,s?c+s:c,a,1)}},quickTo:function(t,e,s){var i,r=nn.to(t,Tr((i={},i[e]="+=0.1",i.paused=!0,i),s||{})),o=function(l,u,c){return r.resetTo(e,l,u,c)};return o.tween=r,o},isTweening:function(t){return Lt.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=mr(t.ease,Bo.ease)),X0(Bo,t||{})},config:function(t){return X0(gn,t||{})},registerEffect:function(t){var e=t.name,s=t.effect,i=t.plugins,r=t.defaults,o=t.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!un[a]&&!_n[a]&&hl(e+" effect requires "+a+" plugin.")}),dd[e]=function(a,l,u){return s(Ln(a),bn(l||{},r),u)},o&&(Fe.prototype[e]=function(a,l,u){return this.add(dd[e](a,Ts(l)?l:(u=l)&&{},this),u)})},registerEase:function(t,e){it[t]=mr(e)},parseEase:function(t,e){return arguments.length?mr(t,e):it},getById:function(t){return Lt.getById(t)},exportRoot:function(t,e){t===void 0&&(t={});var s=new Fe(t),i,r;for(s.smoothChildTiming=Qe(t.smoothChildTiming),Lt.remove(s),s._dp=0,s._time=s._tTime=Lt._time,i=Lt._first;i;)r=i._next,(e||!(!i._dur&&i instanceof Yt&&i.vars.onComplete===i._targets[0]))&&ys(s,i,i._start-i._delay),i=r;return ys(Lt,s,0),s},context:function(t,e){return t?new fv(t,e):Rt},matchMedia:function(t){return new aC(t)},matchMediaRefresh:function(){return gr.forEach(function(t){var e=t.conditions,s,i;for(i in e)e[i]&&(e[i]=!1,s=1);s&&t.revert()})||Yf()},addEventListener:function(t,e){var s=Du[t]||(Du[t]=[]);~s.indexOf(e)||s.push(e)},removeEventListener:function(t,e){var s=Du[t],i=s&&s.indexOf(e);i>=0&&s.splice(i,1)},utils:{wrap:DA,wrapYoyo:BA,distribute:G_,random:X_,snap:q_,normalize:bA,getUnit:ze,clamp:IA,splitColor:K_,toArray:Ln,selector:Gf,mapRange:Z_,pipe:VA,unitize:FA,interpolate:UA,shuffle:$_},install:L_,effects:dd,ticker:cn,updateRoot:Fe.updateRoot,plugins:un,globalTimeline:Lt,core:{PropTween:Ke,globals:I_,Tween:Yt,Timeline:Fe,Animation:ml,getCache:fr,_removeLinkedListItem:Kc,reverting:function(){return ke},context:function(t){return t&&Rt&&(Rt.data.push(t),t._ctx=Rt),Rt},suppressOverwrites:function(t){return _m=t}}};Je("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return _c[n]=Yt[n]});cn.add(Fe.updateRoot);co=_c.to({},{duration:0});var lC=function(t,e){for(var s=t._pt;s&&s.p!==e&&s.op!==e&&s.fp!==e;)s=s._next;return s},uC=function(t,e){var s=t._targets,i,r,o;for(i in e)for(r=s.length;r--;)o=t._ptLookup[r][i],o&&(o=o.d)&&(o._pt&&(o=lC(o,i)),o&&o.modifier&&o.modifier(e[i],t,s[r],i))},yd=function(t,e){return{name:t,rawVars:1,init:function(i,r,o){o._onInit=function(a){var l,u;if(de(r)&&(l={},Je(r,function(c){return l[c]=1}),r=l),e){l={};for(u in r)l[u]=e(r[u]);r=l}uC(a,r)}}}},nn=_c.registerPlugin({name:"attr",init:function(t,e,s,i,r){var o,a,l;this.tween=s;for(o in e)l=t.getAttribute(o)||"",a=this.add(t,"setAttribute",(l||0)+"",e[o],i,r,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(t,e){for(var s=e._pt;s;)ke?s.set(s.t,s.p,s.b,s):s.r(t,s.d),s=s._next}},{name:"endArray",init:function(t,e){for(var s=e.length;s--;)this.add(t,s,t[s]||0,e[s],0,0,0,0,0,1)}},yd("roundProps",qf),yd("modifiers"),yd("snap",q_))||_c;Yt.version=Fe.version=nn.version="3.12.5";O_=1;Nm()&&Wo();it.Power0;it.Power1;it.Power2;it.Power3;it.Power4;it.Linear;it.Quad;it.Cubic;it.Quart;it.Quint;it.Strong;it.Elastic;it.Back;it.SteppedEase;it.Bounce;it.Sine;it.Expo;it.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ty,mi,Mo,Om,ur,ey,Lm,cC=function(){return typeof window<"u"},Zs={},nr=180/Math.PI,So=Math.PI/180,Zr=Math.atan2,ny=1e8,Im=/([A-Z])/g,hC=/(left|right|width|margin|padding|x)/i,dC=/[\s,\(]\S/,xs={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Zf=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},fC=function(t,e){return e.set(e.t,e.p,t===1?e.e:Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},pC=function(t,e){return e.set(e.t,e.p,t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},mC=function(t,e){var s=e.s+e.c*t;e.set(e.t,e.p,~~(s+(s<0?-.5:.5))+e.u,e)},pv=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},mv=function(t,e){return e.set(e.t,e.p,t!==1?e.b:e.e,e)},gC=function(t,e,s){return t.style[e]=s},yC=function(t,e,s){return t.style.setProperty(e,s)},xC=function(t,e,s){return t._gsap[e]=s},_C=function(t,e,s){return t._gsap.scaleX=t._gsap.scaleY=s},vC=function(t,e,s,i,r){var o=t._gsap;o.scaleX=o.scaleY=s,o.renderTransform(r,o)},NC=function(t,e,s,i,r){var o=t._gsap;o[e]=s,o.renderTransform(r,o)},Vt="transform",tn=Vt+"Origin",wC=function n(t,e){var s=this,i=this.target,r=i.style,o=i._gsap;if(t in Zs&&r){if(this.tfm=this.tfm||{},t!=="transform")t=xs[t]||t,~t.indexOf(",")?t.split(",").forEach(function(a){return s.tfm[a]=Fs(i,a)}):this.tfm[t]=o.x?o[t]:Fs(i,t),t===tn&&(this.tfm.zOrigin=o.zOrigin);else return xs.transform.split(",").forEach(function(a){return n.call(s,a,e)});if(this.props.indexOf(Vt)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(tn,e,"")),t=Vt}(r||e)&&this.props.push(t,e,r[t])},gv=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},TC=function(){var t=this.props,e=this.target,s=e.style,i=e._gsap,r,o;for(r=0;r<t.length;r+=3)t[r+1]?e[t[r]]=t[r+2]:t[r+2]?s[t[r]]=t[r+2]:s.removeProperty(t[r].substr(0,2)==="--"?t[r]:t[r].replace(Im,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),e.setAttribute("data-svg-origin",this.svgo||"")),r=Lm(),(!r||!r.isStart)&&!s[Vt]&&(gv(s),i.zOrigin&&s[tn]&&(s[tn]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},yv=function(t,e){var s={target:t,props:[],revert:TC,save:wC};return t._gsap||nn.core.getCache(t),e&&e.split(",").forEach(function(i){return s.save(i)}),s},xv,Qf=function(t,e){var s=mi.createElementNS?mi.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):mi.createElement(t);return s&&s.style?s:mi.createElement(t)},ws=function n(t,e,s){var i=getComputedStyle(t);return i[e]||i.getPropertyValue(e.replace(Im,"-$1").toLowerCase())||i.getPropertyValue(e)||!s&&n(t,Ho(e)||e,1)||""},sy="O,Moz,ms,Ms,Webkit".split(","),Ho=function(t,e,s){var i=e||ur,r=i.style,o=5;if(t in r&&!s)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(sy[o]+t in r););return o<0?null:(o===3?"ms":o>=0?sy[o]:"")+t},Jf=function(){cC()&&window.document&&(ty=window,mi=ty.document,Mo=mi.documentElement,ur=Qf("div")||{style:{}},Qf("div"),Vt=Ho(Vt),tn=Vt+"Origin",ur.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",xv=!!Ho("perspective"),Lm=nn.core.reverting,Om=1)},xd=function n(t){var e=Qf("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=this.parentNode,i=this.nextSibling,r=this.style.cssText,o;if(Mo.appendChild(e),e.appendChild(this),this.style.display="block",t)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return s&&(i?s.insertBefore(this,i):s.appendChild(this)),Mo.removeChild(e),this.style.cssText=r,o},iy=function(t,e){for(var s=e.length;s--;)if(t.hasAttribute(e[s]))return t.getAttribute(e[s])},_v=function(t){var e;try{e=t.getBBox()}catch{e=xd.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===xd||(e=xd.call(t,!0)),e&&!e.width&&!e.x&&!e.y?{x:+iy(t,["x","cx","x1"])||0,y:+iy(t,["y","cy","y1"])||0,width:0,height:0}:e},vv=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&_v(t))},Mr=function(t,e){if(e){var s=t.style,i;e in Zs&&e!==tn&&(e=Vt),s.removeProperty?(i=e.substr(0,2),(i==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),s.removeProperty(i==="--"?e:e.replace(Im,"-$1").toLowerCase())):s.removeAttribute(e)}},gi=function(t,e,s,i,r,o){var a=new Ke(t._pt,e,s,0,1,o?mv:pv);return t._pt=a,a.b=i,a.e=r,t._props.push(s),a},ry={deg:1,rad:1,turn:1},MC={grid:1,flex:1},Ii=function n(t,e,s,i){var r=parseFloat(s)||0,o=(s+"").trim().substr((r+"").length)||"px",a=ur.style,l=hC.test(e),u=t.tagName.toLowerCase()==="svg",c=(u?"client":"offset")+(l?"Width":"Height"),h=100,d=i==="px",f=i==="%",m,p,_,g;if(i===o||!r||ry[i]||ry[o])return r;if(o!=="px"&&!d&&(r=n(t,e,s,"px")),g=t.getCTM&&vv(t),(f||o==="%")&&(Zs[e]||~e.indexOf("adius")))return m=g?t.getBBox()[l?"width":"height"]:t[c],$t(f?r/m*h:r/100*m);if(a[l?"width":"height"]=h+(d?o:i),p=~e.indexOf("adius")||i==="em"&&t.appendChild&&!u?t:t.parentNode,g&&(p=(t.ownerSVGElement||{}).parentNode),(!p||p===mi||!p.appendChild)&&(p=mi.body),_=p._gsap,_&&f&&_.width&&l&&_.time===cn.time&&!_.uncache)return $t(r/_.width*h);if(f&&(e==="height"||e==="width")){var y=t.style[e];t.style[e]=h+i,m=t[c],y?t.style[e]=y:Mr(t,e)}else(f||o==="%")&&!MC[ws(p,"display")]&&(a.position=ws(t,"position")),p===t&&(a.position="static"),p.appendChild(ur),m=ur[c],p.removeChild(ur),a.position="absolute";return l&&f&&(_=fr(p),_.time=cn.time,_.width=p[c]),$t(d?m*r/h:m&&r?h/m*r:0)},Fs=function(t,e,s,i){var r;return Om||Jf(),e in xs&&e!=="transform"&&(e=xs[e],~e.indexOf(",")&&(e=e.split(",")[0])),Zs[e]&&e!=="transform"?(r=yl(t,i),r=e!=="transformOrigin"?r[e]:r.svg?r.origin:Nc(ws(t,tn))+" "+r.zOrigin+"px"):(r=t.style[e],(!r||r==="auto"||i||~(r+"").indexOf("calc("))&&(r=vc[e]&&vc[e](t,e,s)||ws(t,e)||V_(t,e)||(e==="opacity"?1:0))),s&&!~(r+"").trim().indexOf(" ")?Ii(t,e,r,s)+s:r},SC=function(t,e,s,i){if(!s||s==="none"){var r=Ho(e,t,1),o=r&&ws(t,r,1);o&&o!==s?(e=r,s=o):e==="borderColor"&&(s=ws(t,"borderTopColor"))}var a=new Ke(this._pt,t.style,e,0,1,hv),l=0,u=0,c,h,d,f,m,p,_,g,y,x,v,w;if(a.b=s,a.e=i,s+="",i+="",i==="auto"&&(p=t.style[e],t.style[e]=i,i=ws(t,e)||i,p?t.style[e]=p:Mr(t,e)),c=[s,i],ev(c),s=c[0],i=c[1],d=s.match(uo)||[],w=i.match(uo)||[],w.length){for(;h=uo.exec(i);)_=h[0],y=i.substring(l,h.index),m?m=(m+1)%5:(y.substr(-5)==="rgba("||y.substr(-5)==="hsla(")&&(m=1),_!==(p=d[u++]||"")&&(f=parseFloat(p)||0,v=p.substr((f+"").length),_.charAt(1)==="="&&(_=To(f,_)+v),g=parseFloat(_),x=_.substr((g+"").length),l=uo.lastIndex-x.length,x||(x=x||gn.units[e]||v,l===i.length&&(i+=x,a.e+=x)),v!==x&&(f=Ii(t,e,p,x)||0),a._pt={_next:a._pt,p:y||u===1?y:",",s:f,c:g-f,m:m&&m<4||e==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=e==="display"&&i==="none"?mv:pv;return R_.test(i)&&(a.e=0),this._pt=a,a},oy={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},AC=function(t){var e=t.split(" "),s=e[0],i=e[1]||"50%";return(s==="top"||s==="bottom"||i==="left"||i==="right")&&(t=s,s=i,i=t),e[0]=oy[s]||s,e[1]=oy[i]||i,e.join(" ")},CC=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var s=e.t,i=s.style,r=e.u,o=s._gsap,a,l,u;if(r==="all"||r===!0)i.cssText="",l=1;else for(r=r.split(","),u=r.length;--u>-1;)a=r[u],Zs[a]&&(l=1,a=a==="transformOrigin"?tn:Vt),Mr(s,a);l&&(Mr(s,Vt),o&&(o.svg&&s.removeAttribute("transform"),yl(s,1),o.uncache=1,gv(i)))}},vc={clearProps:function(t,e,s,i,r){if(r.data!=="isFromStart"){var o=t._pt=new Ke(t._pt,e,s,0,0,CC);return o.u=i,o.pr=-10,o.tween=r,t._props.push(s),1}}},gl=[1,0,0,1,0,0],Nv={},wv=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},ay=function(t){var e=ws(t,Vt);return wv(e)?gl:e.substr(7).match(z_).map($t)},Pm=function(t,e){var s=t._gsap||fr(t),i=t.style,r=ay(t),o,a,l,u;return s.svg&&t.getAttribute("transform")?(l=t.transform.baseVal.consolidate().matrix,r=[l.a,l.b,l.c,l.d,l.e,l.f],r.join(",")==="1,0,0,1,0,0"?gl:r):(r===gl&&!t.offsetParent&&t!==Mo&&!s.svg&&(l=i.display,i.display="block",o=t.parentNode,(!o||!t.offsetParent)&&(u=1,a=t.nextElementSibling,Mo.appendChild(t)),r=ay(t),l?i.display=l:Mr(t,"display"),u&&(a?o.insertBefore(t,a):o?o.appendChild(t):Mo.removeChild(t))),e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r)},Kf=function(t,e,s,i,r,o){var a=t._gsap,l=r||Pm(t,!0),u=a.xOrigin||0,c=a.yOrigin||0,h=a.xOffset||0,d=a.yOffset||0,f=l[0],m=l[1],p=l[2],_=l[3],g=l[4],y=l[5],x=e.split(" "),v=parseFloat(x[0])||0,w=parseFloat(x[1])||0,S,M,C,k;s?l!==gl&&(M=f*_-m*p)&&(C=v*(_/M)+w*(-p/M)+(p*y-_*g)/M,k=v*(-m/M)+w*(f/M)-(f*y-m*g)/M,v=C,w=k):(S=_v(t),v=S.x+(~x[0].indexOf("%")?v/100*S.width:v),w=S.y+(~(x[1]||x[0]).indexOf("%")?w/100*S.height:w)),i||i!==!1&&a.smooth?(g=v-u,y=w-c,a.xOffset=h+(g*f+y*p)-g,a.yOffset=d+(g*m+y*_)-y):a.xOffset=a.yOffset=0,a.xOrigin=v,a.yOrigin=w,a.smooth=!!i,a.origin=e,a.originIsAbsolute=!!s,t.style[tn]="0px 0px",o&&(gi(o,a,"xOrigin",u,v),gi(o,a,"yOrigin",c,w),gi(o,a,"xOffset",h,a.xOffset),gi(o,a,"yOffset",d,a.yOffset)),t.setAttribute("data-svg-origin",v+" "+w)},yl=function(t,e){var s=t._gsap||new rv(t);if("x"in s&&!e&&!s.uncache)return s;var i=t.style,r=s.scaleX<0,o="px",a="deg",l=getComputedStyle(t),u=ws(t,tn)||"0",c,h,d,f,m,p,_,g,y,x,v,w,S,M,C,k,b,G,K,Y,ct,St,ht,mt,D,X,Z,ot,Nt,Wi,fe,Un;return c=h=d=p=_=g=y=x=v=0,f=m=1,s.svg=!!(t.getCTM&&vv(t)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[Vt]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Vt]!=="none"?l[Vt]:"")),i.scale=i.rotate=i.translate="none"),M=Pm(t,s.svg),s.svg&&(s.uncache?(D=t.getBBox(),u=s.xOrigin-D.x+"px "+(s.yOrigin-D.y)+"px",mt=""):mt=!e&&t.getAttribute("data-svg-origin"),Kf(t,mt||u,!!mt||s.originIsAbsolute,s.smooth!==!1,M)),w=s.xOrigin||0,S=s.yOrigin||0,M!==gl&&(G=M[0],K=M[1],Y=M[2],ct=M[3],c=St=M[4],h=ht=M[5],M.length===6?(f=Math.sqrt(G*G+K*K),m=Math.sqrt(ct*ct+Y*Y),p=G||K?Zr(K,G)*nr:0,y=Y||ct?Zr(Y,ct)*nr+p:0,y&&(m*=Math.abs(Math.cos(y*So))),s.svg&&(c-=w-(w*G+S*Y),h-=S-(w*K+S*ct))):(Un=M[6],Wi=M[7],Z=M[8],ot=M[9],Nt=M[10],fe=M[11],c=M[12],h=M[13],d=M[14],C=Zr(Un,Nt),_=C*nr,C&&(k=Math.cos(-C),b=Math.sin(-C),mt=St*k+Z*b,D=ht*k+ot*b,X=Un*k+Nt*b,Z=St*-b+Z*k,ot=ht*-b+ot*k,Nt=Un*-b+Nt*k,fe=Wi*-b+fe*k,St=mt,ht=D,Un=X),C=Zr(-Y,Nt),g=C*nr,C&&(k=Math.cos(-C),b=Math.sin(-C),mt=G*k-Z*b,D=K*k-ot*b,X=Y*k-Nt*b,fe=ct*b+fe*k,G=mt,K=D,Y=X),C=Zr(K,G),p=C*nr,C&&(k=Math.cos(C),b=Math.sin(C),mt=G*k+K*b,D=St*k+ht*b,K=K*k-G*b,ht=ht*k-St*b,G=mt,St=D),_&&Math.abs(_)+Math.abs(p)>359.9&&(_=p=0,g=180-g),f=$t(Math.sqrt(G*G+K*K+Y*Y)),m=$t(Math.sqrt(ht*ht+Un*Un)),C=Zr(St,ht),y=Math.abs(C)>2e-4?C*nr:0,v=fe?1/(fe<0?-fe:fe):0),s.svg&&(mt=t.getAttribute("transform"),s.forceCSS=t.setAttribute("transform","")||!wv(ws(t,Vt)),mt&&t.setAttribute("transform",mt))),Math.abs(y)>90&&Math.abs(y)<270&&(r?(f*=-1,y+=p<=0?180:-180,p+=p<=0?180:-180):(m*=-1,y+=y<=0?180:-180)),e=e||s.uncache,s.x=c-((s.xPercent=c&&(!e&&s.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-c)?-50:0)))?t.offsetWidth*s.xPercent/100:0)+o,s.y=h-((s.yPercent=h&&(!e&&s.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-h)?-50:0)))?t.offsetHeight*s.yPercent/100:0)+o,s.z=d+o,s.scaleX=$t(f),s.scaleY=$t(m),s.rotation=$t(p)+a,s.rotationX=$t(_)+a,s.rotationY=$t(g)+a,s.skewX=y+a,s.skewY=x+a,s.transformPerspective=v+o,(s.zOrigin=parseFloat(u.split(" ")[2])||!e&&s.zOrigin||0)&&(i[tn]=Nc(u)),s.xOffset=s.yOffset=0,s.force3D=gn.force3D,s.renderTransform=s.svg?zC:xv?Tv:EC,s.uncache=0,s},Nc=function(t){return(t=t.split(" "))[0]+" "+t[1]},_d=function(t,e,s){var i=ze(e);return $t(parseFloat(e)+parseFloat(Ii(t,"x",s+"px",i)))+i},EC=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Tv(t,e)},Yi="0deg",_a="0px",Zi=") ",Tv=function(t,e){var s=e||this,i=s.xPercent,r=s.yPercent,o=s.x,a=s.y,l=s.z,u=s.rotation,c=s.rotationY,h=s.rotationX,d=s.skewX,f=s.skewY,m=s.scaleX,p=s.scaleY,_=s.transformPerspective,g=s.force3D,y=s.target,x=s.zOrigin,v="",w=g==="auto"&&t&&t!==1||g===!0;if(x&&(h!==Yi||c!==Yi)){var S=parseFloat(c)*So,M=Math.sin(S),C=Math.cos(S),k;S=parseFloat(h)*So,k=Math.cos(S),o=_d(y,o,M*k*-x),a=_d(y,a,-Math.sin(S)*-x),l=_d(y,l,C*k*-x+x)}_!==_a&&(v+="perspective("+_+Zi),(i||r)&&(v+="translate("+i+"%, "+r+"%) "),(w||o!==_a||a!==_a||l!==_a)&&(v+=l!==_a||w?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Zi),u!==Yi&&(v+="rotate("+u+Zi),c!==Yi&&(v+="rotateY("+c+Zi),h!==Yi&&(v+="rotateX("+h+Zi),(d!==Yi||f!==Yi)&&(v+="skew("+d+", "+f+Zi),(m!==1||p!==1)&&(v+="scale("+m+", "+p+Zi),y.style[Vt]=v||"translate(0, 0)"},zC=function(t,e){var s=e||this,i=s.xPercent,r=s.yPercent,o=s.x,a=s.y,l=s.rotation,u=s.skewX,c=s.skewY,h=s.scaleX,d=s.scaleY,f=s.target,m=s.xOrigin,p=s.yOrigin,_=s.xOffset,g=s.yOffset,y=s.forceCSS,x=parseFloat(o),v=parseFloat(a),w,S,M,C,k;l=parseFloat(l),u=parseFloat(u),c=parseFloat(c),c&&(c=parseFloat(c),u+=c,l+=c),l||u?(l*=So,u*=So,w=Math.cos(l)*h,S=Math.sin(l)*h,M=Math.sin(l-u)*-d,C=Math.cos(l-u)*d,u&&(c*=So,k=Math.tan(u-c),k=Math.sqrt(1+k*k),M*=k,C*=k,c&&(k=Math.tan(c),k=Math.sqrt(1+k*k),w*=k,S*=k)),w=$t(w),S=$t(S),M=$t(M),C=$t(C)):(w=h,C=d,S=M=0),(x&&!~(o+"").indexOf("px")||v&&!~(a+"").indexOf("px"))&&(x=Ii(f,"x",o,"px"),v=Ii(f,"y",a,"px")),(m||p||_||g)&&(x=$t(x+m-(m*w+p*M)+_),v=$t(v+p-(m*S+p*C)+g)),(i||r)&&(k=f.getBBox(),x=$t(x+i/100*k.width),v=$t(v+r/100*k.height)),k="matrix("+w+","+S+","+M+","+C+","+x+","+v+")",f.setAttribute("transform",k),y&&(f.style[Vt]=k)},RC=function(t,e,s,i,r){var o=360,a=de(r),l=parseFloat(r)*(a&&~r.indexOf("rad")?nr:1),u=l-i,c=i+u+"deg",h,d;return a&&(h=r.split("_")[1],h==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),h==="cw"&&u<0?u=(u+o*ny)%o-~~(u/o)*o:h==="ccw"&&u>0&&(u=(u-o*ny)%o-~~(u/o)*o)),t._pt=d=new Ke(t._pt,e,s,i,u,fC),d.e=c,d.u="deg",t._props.push(s),d},ly=function(t,e){for(var s in e)t[s]=e[s];return t},kC=function(t,e,s){var i=ly({},s._gsap),r="perspective,force3D,transformOrigin,svgOrigin",o=s.style,a,l,u,c,h,d,f,m;i.svg?(u=s.getAttribute("transform"),s.setAttribute("transform",""),o[Vt]=e,a=yl(s,1),Mr(s,Vt),s.setAttribute("transform",u)):(u=getComputedStyle(s)[Vt],o[Vt]=e,a=yl(s,1),o[Vt]=u);for(l in Zs)u=i[l],c=a[l],u!==c&&r.indexOf(l)<0&&(f=ze(u),m=ze(c),h=f!==m?Ii(s,l,u,m):parseFloat(u),d=parseFloat(c),t._pt=new Ke(t._pt,a,l,h,d-h,Zf),t._pt.u=m||0,t._props.push(l));ly(a,i)};Je("padding,margin,Width,Radius",function(n,t){var e="Top",s="Right",i="Bottom",r="Left",o=(t<3?[e,s,i,r]:[e+r,e+s,i+s,i+r]).map(function(a){return t<2?n+a:"border"+a+n});vc[t>1?"border"+n:n]=function(a,l,u,c,h){var d,f;if(arguments.length<4)return d=o.map(function(m){return Fs(a,m,u)}),f=d.join(" "),f.split(d[0]).length===5?d[0]:f;d=(c+"").split(" "),f={},o.forEach(function(m,p){return f[m]=d[p]=d[p]||d[(p-1)/2|0]}),a.init(l,f,h)}});var Mv={name:"css",register:Jf,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,s,i,r){var o=this._props,a=t.style,l=s.vars.startAt,u,c,h,d,f,m,p,_,g,y,x,v,w,S,M,C;Om||Jf(),this.styles=this.styles||yv(t),C=this.styles.props,this.tween=s;for(p in e)if(p!=="autoRound"&&(c=e[p],!(un[p]&&ov(p,e,s,i,t,r)))){if(f=typeof c,m=vc[p],f==="function"&&(c=c.call(s,i,t,r),f=typeof c),f==="string"&&~c.indexOf("random(")&&(c=fl(c)),m)m(this,t,p,c,s)&&(M=1);else if(p.substr(0,2)==="--")u=(getComputedStyle(t).getPropertyValue(p)+"").trim(),c+="",zi.lastIndex=0,zi.test(u)||(_=ze(u),g=ze(c)),g?_!==g&&(u=Ii(t,p,u,g)+g):_&&(c+=_),this.add(a,"setProperty",u,c,i,r,0,0,p),o.push(p),C.push(p,0,a[p]);else if(f!=="undefined"){if(l&&p in l?(u=typeof l[p]=="function"?l[p].call(s,i,t,r):l[p],de(u)&&~u.indexOf("random(")&&(u=fl(u)),ze(u+"")||u==="auto"||(u+=gn.units[p]||ze(Fs(t,p))||""),(u+"").charAt(1)==="="&&(u=Fs(t,p))):u=Fs(t,p),d=parseFloat(u),y=f==="string"&&c.charAt(1)==="="&&c.substr(0,2),y&&(c=c.substr(2)),h=parseFloat(c),p in xs&&(p==="autoAlpha"&&(d===1&&Fs(t,"visibility")==="hidden"&&h&&(d=0),C.push("visibility",0,a.visibility),gi(this,a,"visibility",d?"inherit":"hidden",h?"inherit":"hidden",!h)),p!=="scale"&&p!=="transform"&&(p=xs[p],~p.indexOf(",")&&(p=p.split(",")[0]))),x=p in Zs,x){if(this.styles.save(p),v||(w=t._gsap,w.renderTransform&&!e.parseTransform||yl(t,e.parseTransform),S=e.smoothOrigin!==!1&&w.smooth,v=this._pt=new Ke(this._pt,a,Vt,0,1,w.renderTransform,w,0,-1),v.dep=1),p==="scale")this._pt=new Ke(this._pt,w,"scaleY",w.scaleY,(y?To(w.scaleY,y+h):h)-w.scaleY||0,Zf),this._pt.u=0,o.push("scaleY",p),p+="X";else if(p==="transformOrigin"){C.push(tn,0,a[tn]),c=AC(c),w.svg?Kf(t,c,0,S,0,this):(g=parseFloat(c.split(" ")[2])||0,g!==w.zOrigin&&gi(this,w,"zOrigin",w.zOrigin,g),gi(this,a,p,Nc(u),Nc(c)));continue}else if(p==="svgOrigin"){Kf(t,c,1,S,0,this);continue}else if(p in Nv){RC(this,w,p,d,y?To(d,y+c):c);continue}else if(p==="smoothOrigin"){gi(this,w,"smooth",w.smooth,c);continue}else if(p==="force3D"){w[p]=c;continue}else if(p==="transform"){kC(this,c,t);continue}}else p in a||(p=Ho(p)||p);if(x||(h||h===0)&&(d||d===0)&&!dC.test(c)&&p in a)_=(u+"").substr((d+"").length),h||(h=0),g=ze(c)||(p in gn.units?gn.units[p]:_),_!==g&&(d=Ii(t,p,u,g)),this._pt=new Ke(this._pt,x?w:a,p,d,(y?To(d,y+h):h)-d,!x&&(g==="px"||p==="zIndex")&&e.autoRound!==!1?mC:Zf),this._pt.u=g||0,_!==g&&g!=="%"&&(this._pt.b=u,this._pt.r=pC);else if(p in a)SC.call(this,t,p,u,y?y+c:c);else if(p in t)this.add(t,p,u||t[p],y?y+c:c,i,r);else if(p!=="parseTransform"){Tm(p,c);continue}x||(p in a?C.push(p,0,a[p]):C.push(p,1,u||t[p])),o.push(p)}}M&&dv(this)},render:function(t,e){if(e.tween._time||!Lm())for(var s=e._pt;s;)s.r(t,s.d),s=s._next;else e.styles.revert()},get:Fs,aliases:xs,getSetter:function(t,e,s){var i=xs[e];return i&&i.indexOf(",")<0&&(e=i),e in Zs&&e!==tn&&(t._gsap.x||Fs(t,"x"))?s&&ey===s?e==="scale"?_C:xC:(ey=s||{})&&(e==="scale"?vC:NC):t.style&&!vm(t.style[e])?gC:~e.indexOf("-")?yC:Rm(t,e)},core:{_removeProperty:Mr,_getMatrix:Pm}};nn.utils.checkPrefix=Ho;nn.core.getStyleSaver=yv;(function(n,t,e,s){var i=Je(n+","+t+","+e,function(r){Zs[r]=1});Je(t,function(r){gn.units[r]="deg",Nv[r]=1}),xs[i[13]]=n+","+t,Je(s,function(r){var o=r.split(":");xs[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Je("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){gn.units[n]="px"});nn.registerPlugin(Mv);var ir=nn.registerPlugin(Mv)||nn;ir.core.Tween;/*!
 * @gsap/react 2.1.1
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/let uy=typeof window<"u"?In.useLayoutEffect:In.useEffect,cy=n=>n&&!Array.isArray(n)&&typeof n=="object",Nu=[],OC={},Sv=ir;const Vm=(n,t=Nu)=>{let e=OC;cy(n)?(e=n,n=null,t="dependencies"in e?e.dependencies:Nu):cy(t)&&(e=t,t="dependencies"in e?e.dependencies:Nu),n&&typeof n!="function"&&console.warn("First parameter must be a function or config object");const{scope:s,revertOnUpdate:i}=e,r=In.useRef(!1),o=In.useRef(Sv.context(()=>{},s)),a=In.useRef(u=>o.current.add(null,u)),l=t&&t.length&&!i;return uy(()=>{if(n&&o.current.add(n,s),!l||!r.current)return()=>o.current.revert()},t),l&&uy(()=>(r.current=!0,()=>o.current.revert()),Nu),{context:o.current,contextSafe:a.current}};Vm.register=n=>{Sv=n};Vm.headless=!0;const hy={VERTEX:"vertex",FRAGMENT:"fragment"},xt={NONE:"none",FRAME:"frame",RENDER:"render",OBJECT:"object"},nh=["x","y","z","w"];function Av(n,t=!1){let e="{";n.isNode===!0&&(e+=n.id);for(const{property:s,childNode:i}of wc(n))e+=","+s.slice(0,-4)+":"+i.getCacheKey(t);return e+="}",e}function*wc(n,t=!1){for(const e in n){if(e.startsWith("_")===!0)continue;const s=n[e];if(Array.isArray(s)===!0)for(let i=0;i<s.length;i++){const r=s[i];r&&(r.isNode===!0||t&&typeof r.toJSON=="function")&&(yield{property:e,index:i,childNode:r})}else if(s&&s.isNode===!0)yield{property:e,childNode:s};else if(typeof s=="object")for(const i in s){const r=s[i];r&&(r.isNode===!0||t&&typeof r.toJSON=="function")&&(yield{property:e,index:i,childNode:r})}}}function yi(n){if(n==null)return null;const t=typeof n;return n.isNode===!0?"node":t==="number"?"float":t==="boolean"?"bool":t==="string"?"string":t==="function"?"shader":n.isVector2===!0?"vec2":n.isVector3===!0?"vec3":n.isVector4===!0?"vec4":n.isMatrix3===!0?"mat3":n.isMatrix4===!0?"mat4":n.isColor===!0?"color":n instanceof ArrayBuffer?"ArrayBuffer":null}function Cv(n,...t){const e=n?n.slice(-4):void 0;return t.length===1&&(e==="vec2"?t=[t[0],t[0]]:e==="vec3"?t=[t[0],t[0],t[0]]:e==="vec4"&&(t=[t[0],t[0],t[0],t[0]])),n==="color"?new bt(...t):e==="vec2"?new nt(...t):e==="vec3"?new O(...t):e==="vec4"?new te(...t):e==="mat3"?new As(...t):e==="mat4"?new re(...t):n==="bool"?t[0]||!1:n==="float"||n==="int"||n==="uint"?t[0]||0:n==="string"?t[0]||"":n==="ArrayBuffer"?zv(t[0]):null}function Ev(n){let t="";const e=new Uint8Array(n);for(let s=0;s<e.length;s++)t+=String.fromCharCode(e[s]);return btoa(t)}function zv(n){return Uint8Array.from(atob(n),t=>t.charCodeAt(0)).buffer}const dy=new Map;let LC=0;class $ extends Rr{constructor(t=null){super(),this.nodeType=t,this.updateType=xt.NONE,this.updateBeforeType=xt.NONE,this.uuid=h_.generateUUID(),this.version=0,this._cacheKey=null,this._cacheKeyVersion=0,this.isNode=!0,Object.defineProperty(this,"id",{value:LC++})}set needsUpdate(t){t===!0&&this.version++}get type(){return this.constructor.type}onUpdate(t,e){return this.updateType=e,this.update=t.bind(this.getSelf()),this}onFrameUpdate(t){return this.onUpdate(t,xt.FRAME)}onRenderUpdate(t){return this.onUpdate(t,xt.RENDER)}onObjectUpdate(t){return this.onUpdate(t,xt.OBJECT)}onReference(t){return this.updateReference=t.bind(this.getSelf()),this}getSelf(){return this.self||this}updateReference(){return this}isGlobal(){return!1}*getChildren(){for(const{childNode:t}of wc(this))yield t}dispose(){this.dispatchEvent({type:"dispose"})}traverse(t){t(this);for(const e of this.getChildren())e.traverse(t)}getCacheKey(t=!1){return t=t||this.version!==this._cacheKeyVersion,(t===!0||this._cacheKey===null)&&(this._cacheKey=Av(this,t),this._cacheKeyVersion=this.version),this._cacheKey}getHash(){return this.uuid}getUpdateType(){return this.updateType}getUpdateBeforeType(){return this.updateBeforeType}getNodeType(t){const e=t.getNodeProperties(this);return e.outputNode?e.outputNode.getNodeType(t):this.nodeType}getShared(t){const e=this.getHash(t);return t.getNodeFromHash(e)||this}setup(t){const e=t.getNodeProperties(this);for(const s of this.getChildren())e["_node"+s.id]=s;return null}construct(t){return console.warn("THREE.Node: construct() is deprecated. Use setup() instead."),this.setup(t)}increaseUsage(t){const e=t.getDataFromNode(this);return e.usageCount=e.usageCount===void 0?1:e.usageCount+1,e.usageCount}analyze(t){if(this.increaseUsage(t)===1){const s=t.getNodeProperties(this);for(const i of Object.values(s))i&&i.isNode===!0&&i.build(t)}}generate(t,e){const{outputNode:s}=t.getNodeProperties(this);if(s&&s.isNode===!0)return s.build(t,e)}updateBefore(){console.warn("Abstract function.")}update(){console.warn("Abstract function.")}build(t,e=null){const s=this.getShared(t);if(this!==s)return s.build(t,e);t.addNode(this),t.addChain(this);let i=null;const r=t.getBuildStage();if(r==="setup"){this.updateReference(t);const o=t.getNodeProperties(this);if(o.initialized!==!0||t.context.tempRead===!1){const a=t.stack.nodes.length;o.initialized=!0,o.outputNode=this.setup(t),o.outputNode!==null&&t.stack.nodes.length!==a&&(o.outputNode=t.stack);for(const l of Object.values(o))l&&l.isNode===!0&&l.build(t)}}else if(r==="analyze")this.analyze(t);else if(r==="generate")if(this.generate.length===1){const a=this.getNodeType(t),l=t.getDataFromNode(this);i=l.snippet,i===void 0&&(i=this.generate(t)||"",l.snippet=i),i=t.format(i,a,e)}else i=this.generate(t,e)||"";return t.removeChain(this),i}getSerializeChildren(){return wc(this)}serialize(t){const e=this.getSerializeChildren(),s={};for(const{property:i,index:r,childNode:o}of e)r!==void 0?(s[i]===void 0&&(s[i]=Number.isInteger(r)?[]:{}),s[i][r]=o.toJSON(t.meta).uuid):s[i]=o.toJSON(t.meta).uuid;Object.keys(s).length>0&&(t.inputNodes=s)}deserialize(t){if(t.inputNodes!==void 0){const e=t.meta.nodes;for(const s in t.inputNodes)if(Array.isArray(t.inputNodes[s])){const i=[];for(const r of t.inputNodes[s])i.push(e[r]);this[s]=i}else if(typeof t.inputNodes[s]=="object"){const i={};for(const r in t.inputNodes[s]){const o=t.inputNodes[s][r];i[r]=e[o]}this[s]=i}else{const i=t.inputNodes[s];this[s]=e[i]}}}toJSON(t){const{uuid:e,type:s}=this,i=t===void 0||typeof t=="string";i&&(t={textures:{},images:{},nodes:{}});let r=t.nodes[e];r===void 0&&(r={uuid:e,type:s,meta:t,metadata:{version:4.6,type:"Node",generator:"Node.toJSON"}},i!==!0&&(t.nodes[r.uuid]=r),this.serialize(r),delete r.meta);function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}if(i){const a=o(t.textures),l=o(t.images),u=o(t.nodes);a.length>0&&(r.textures=a),l.length>0&&(r.images=l),u.length>0&&(r.nodes=u)}return r}}function P(n,t){if(typeof t!="function"||!n)throw new Error(`Node class ${n} is not a class`);if(dy.has(n)){console.warn(`Redefinition of node class ${n}`);return}dy.set(n,t),t.type=n}class vt extends ${constructor(t){super(t),this.isTempNode=!0}hasDependencies(t){return t.getDataFromNode(this).usageCount>1}build(t,e){if(t.getBuildStage()==="generate"){const i=t.getVectorType(this.getNodeType(t,e)),r=t.getDataFromNode(this);if(t.context.tempRead!==!1&&r.propertyName!==void 0)return t.format(r.propertyName,i,e);if(t.context.tempWrite!==!1&&i!=="void"&&e!=="void"&&this.hasDependencies(t)){const o=super.build(t,i),a=t.getVarFromNode(this,null,i),l=t.getPropertyName(a);return t.addLineFlowCode(`${l} = ${o}`),r.snippet=o,r.propertyName=l,t.format(r.propertyName,i,e)}}return super.build(t,e)}}P("TempNode",vt);class Jo extends ${constructor(t,e){super(),this.node=t,this.indexNode=e,this.isArrayElementNode=!0}getNodeType(t){return this.node.getNodeType(t)}generate(t){const e=this.node.build(t),s=this.indexNode.build(t,"uint");return`${e}[ ${s} ]`}}P("ArrayElementNode",Jo);class Fm extends ${constructor(t,e){super(),this.node=t,this.convertTo=e}getNodeType(t){const e=this.node.getNodeType(t);let s=null;for(const i of this.convertTo.split("|"))(s===null||t.getTypeLength(e)===t.getTypeLength(i))&&(s=i);return s}serialize(t){super.serialize(t),t.convertTo=this.convertTo}deserialize(t){super.deserialize(t),this.convertTo=t.convertTo}generate(t,e){const s=this.node,i=this.getNodeType(t),r=s.build(t,i);return t.format(r,i,e)}}P("ConvertNode",Fm);class Rv extends vt{constructor(t=[],e=null){super(e),this.nodes=t}getNodeType(t){return this.nodeType!==null?t.getVectorType(this.nodeType):t.getTypeFromLength(this.nodes.reduce((e,s)=>e+t.getTypeLength(s.getNodeType(t)),0))}generate(t,e){const s=this.getNodeType(t),i=this.nodes,r=t.getComponentType(s),o=[];for(const l of i){let u=l.build(t);const c=t.getComponentType(l.getNodeType(t));c!==r&&(u=t.format(u,c,r)),o.push(u)}const a=`${t.getType(s)}( ${o.join(", ")} )`;return t.format(a,s,e)}}P("JoinNode",Rv);const IC=nh.join("");class tp extends ${constructor(t,e="x"){super(),this.node=t,this.components=e,this.isSplitNode=!0}getVectorLength(){let t=this.components.length;for(const e of this.components)t=Math.max(nh.indexOf(e)+1,t);return t}getComponentType(t){return t.getComponentType(this.node.getNodeType(t))}getNodeType(t){return t.getTypeFromLength(this.components.length,this.getComponentType(t))}generate(t,e){const s=this.node,i=t.getTypeLength(s.getNodeType(t));let r=null;if(i>1){let o=null;this.getVectorLength()>=i&&(o=t.getTypeFromLength(this.getVectorLength(),this.getComponentType(t)));const l=s.build(t,o);this.components.length===i&&this.components===IC.slice(0,this.components.length)?r=t.format(l,o,e):r=t.format(`${l}.${this.components}`,this.getNodeType(t),e)}else r=s.build(t,e);return r}serialize(t){super.serialize(t),t.components=this.components}deserialize(t){super.deserialize(t),this.components=t.components}}P("SplitNode",tp);class kv extends vt{constructor(t,e,s){super(),this.sourceNode=t,this.components=e,this.targetNode=s}getNodeType(t){return this.sourceNode.getNodeType(t)}generate(t){const{sourceNode:e,components:s,targetNode:i}=this,r=this.getNodeType(t),o=t.getTypeFromLength(s.length),a=i.build(t,o),l=e.build(t,r),u=t.getTypeLength(r),c=[];for(let h=0;h<u;h++){const d=nh[h];d===s[0]?(c.push(a),h+=s.length-1):c.push(l+"."+d)}return`${t.getType(r)}( ${c.join(", ")} )`}}P("SetNode",kv);class sh extends ${constructor(t,e=null){super(e),this.isInputNode=!0,this.value=t,this.precision=null}getNodeType(){return this.nodeType===null?yi(this.value):this.nodeType}getInputType(t){return this.getNodeType(t)}setPrecision(t){return this.precision=t,this}serialize(t){super.serialize(t),t.value=this.value,this.value&&this.value.toArray&&(t.value=this.value.toArray()),t.valueType=yi(this.value),t.nodeType=this.nodeType,t.valueType==="ArrayBuffer"&&(t.value=Ev(t.value)),t.precision=this.precision}deserialize(t){super.deserialize(t),this.nodeType=t.nodeType,this.value=Array.isArray(t.value)?Cv(t.valueType,...t.value):t.value,this.precision=t.precision||null,this.value&&this.value.fromArray&&(this.value=this.value.fromArray(t.value))}generate(){console.warn("Abstract function.")}}P("InputNode",sh);class Dn extends sh{constructor(t,e=null){super(t,e),this.isConstNode=!0}generateConst(t){return t.generateConst(this.getNodeType(t),this.value)}generate(t,e){const s=this.getNodeType(t);return t.format(this.generateConst(t),s,e)}}P("ConstNode",Dn);let $o=null;const ho=new Map;function z(n,t){if(ho.has(n)){console.warn(`Redefinition of node element ${n}`);return}if(typeof t!="function")throw new Error(`Node element ${n} is not a function`);ho.set(n,t)}const fy=n=>n.replace(/r|s/g,"x").replace(/g|t/g,"y").replace(/b|p/g,"z").replace(/a|q/g,"w"),Ov={setup(n,t){const e=t.shift();return n(oh(e),...t)},get(n,t,e){if(typeof t=="string"&&n[t]===void 0){if(n.isStackNode!==!0&&t==="assign")return(...s)=>($o.assign(e,...s),e);if(ho.has(t)){const s=ho.get(t);return n.isStackNode?(...i)=>e.add(s(...i)):(...i)=>s(e,...i)}else{if(t==="self")return n;if(t.endsWith("Assign")&&ho.has(t.slice(0,t.length-6))){const s=ho.get(t.slice(0,t.length-6));return n.isStackNode?(...i)=>e.assign(i[0],s(...i)):(...i)=>e.assign(s(e,...i))}else{if(/^[xyzwrgbastpq]{1,4}$/.test(t)===!0)return t=fy(t),B(new tp(e,t));if(/^set[XYZWRGBASTPQ]{1,4}$/.test(t)===!0)return t=fy(t.slice(3).toLowerCase()),t=t.split("").sort().join(""),s=>B(new kv(n,t,s));if(t==="width"||t==="height"||t==="depth")return t==="width"?t="x":t==="height"?t="y":t==="depth"&&(t="z"),B(new tp(n,t));if(/^\d+$/.test(t)===!0)return B(new Jo(e,new Dn(Number(t),"uint")))}}}return Reflect.get(n,t,e)},set(n,t,e,s){return typeof t=="string"&&n[t]===void 0&&(/^[xyzwrgbastpq]{1,4}$/.test(t)===!0||t==="width"||t==="height"||t==="depth"||/^\d+$/.test(t)===!0)?(s[t].assign(e),!0):Reflect.set(n,t,e,s)}},vd=new WeakMap,py=new WeakMap,PC=function(n,t=null){const e=yi(n);if(e==="node"){let s=vd.get(n);return s===void 0&&(s=new Proxy(n,Ov),vd.set(n,s),vd.set(s,s)),s}else{if(t===null&&(e==="float"||e==="boolean")||e&&e!=="shader"&&e!=="string")return B(ep(n,t));if(e==="shader")return L(n)}return n},VC=function(n,t=null){for(const e in n)n[e]=B(n[e],t);return n},FC=function(n,t=null){const e=n.length;for(let s=0;s<e;s++)n[s]=B(n[s],t);return n},bC=function(n,t=null,e=null,s=null){const i=r=>B(s!==null?Object.assign(r,s):r);return t===null?(...r)=>i(new n(...Ao(r))):e!==null?(e=B(e),(...r)=>i(new n(t,...Ao(r),e))):(...r)=>i(new n(t,...Ao(r)))},DC=function(n,...t){return B(new n(...Ao(t)))};class BC extends ${constructor(t,e){super(),this.shaderNode=t,this.inputNodes=e}getNodeType(t){const{outputNode:e}=t.getNodeProperties(this);return e?e.getNodeType(t):super.getNodeType(t)}call(t){const{shaderNode:e,inputNodes:s}=this;if(e.layout){let o=py.get(t.constructor);o===void 0&&(o=new WeakMap,py.set(t.constructor,o));let a=o.get(e);return a===void 0&&(a=B(t.buildFunctionNode(e)),o.set(e,a)),t.currentFunctionNode!==null&&t.currentFunctionNode.includes.push(a),B(a.call(s))}const i=e.jsFunc,r=s!==null?i(s,t.stack,t):i(t.stack,t);return B(r)}setup(t){return t.addStack(),t.stack.outputNode=this.call(t),t.removeStack()}generate(t,e){const{outputNode:s}=t.getNodeProperties(this);return s===null?this.call(t).build(t,e):super.generate(t,e)}}class UC extends ${constructor(t){super(),this.jsFunc=t,this.layout=null}get isArrayInput(){return/^\((\s+)?\[/.test(this.jsFunc.toString())}setLayout(t){return this.layout=t,this}call(t=null){return oh(t),B(new BC(this,t))}setup(){return this.call()}}const jC=[!1,!0],WC=[0,1,2,3],HC=[-1,-2],Lv=[.5,1.5,1/3,1e-6,1e6,Math.PI,Math.PI*2,1/Math.PI,2/Math.PI,1/(Math.PI*2),Math.PI/2],bm=new Map;for(const n of jC)bm.set(n,new Dn(n));const Dm=new Map;for(const n of WC)Dm.set(n,new Dn(n,"uint"));const Bm=new Map([...Dm].map(n=>new Dn(n.value,"int")));for(const n of HC)Bm.set(n,new Dn(n,"int"));const ih=new Map([...Bm].map(n=>new Dn(n.value)));for(const n of Lv)ih.set(n,new Dn(n));for(const n of Lv)ih.set(-n,new Dn(-n));const rh={bool:bm,uint:Dm,ints:Bm,float:ih},my=new Map([...bm,...ih]),ep=(n,t)=>my.has(n)?my.get(n):n.isNode===!0?n:new Dn(n,t),$C=n=>{try{return n.getNodeType()}catch{return}},pt=function(n,t=null){return(...e)=>{if((e.length===0||!["bool","float","int","uint"].includes(n)&&e.every(i=>typeof i!="object"))&&(e=[Cv(n,...e)]),e.length===1&&t!==null&&t.has(e[0]))return B(t.get(e[0]));if(e.length===1){const i=ep(e[0],n);return $C(i)===n?B(i):B(new Fm(i,n))}const s=e.map(i=>ep(i));return B(new Rv(s,n))}},gy=n=>n&&n.value,GC=n=>n!=null?n.nodeType||n.convertTo||(typeof n=="string"?n:null):null;function Ha(n){return new Proxy(new UC(n),Ov)}const B=(n,t=null)=>PC(n,t),oh=(n,t=null)=>new VC(n,t),Ao=(n,t=null)=>new FC(n,t),R=(...n)=>new bC(...n),V=(...n)=>new DC(...n),L=n=>{const t=new Ha(n),e=(...s)=>{let i;return oh(s),s[0]&&s[0].isNode?i=[...s]:i=s[0],t.call(i)};return e.shaderNode=t,e.setLayout=s=>(t.setLayout(s),e),e};P("ShaderNode",Ha);const yy=n=>{$o=n},qC=()=>$o,tt=(...n)=>$o.if(...n);function XC(n){return $o&&$o.add(n),n}z("append",XC);const YC=new pt("color"),N=new pt("float",rh.float),T=new pt("int",rh.ints),U=new pt("uint",rh.uint),Sr=new pt("bool",rh.bool),H=new pt("vec2"),cr=new pt("ivec2"),ZC=new pt("uvec2"),QC=new pt("bvec2"),E=new pt("vec3"),JC=new pt("ivec3"),Ll=new pt("uvec3"),Iv=new pt("bvec3"),W=new pt("vec4"),KC=new pt("ivec4"),tE=new pt("uvec4"),eE=new pt("bvec4"),Um=new pt("mat2"),nE=new pt("imat2"),sE=new pt("umat2"),iE=new pt("bmat2"),is=new pt("mat3"),rE=new pt("imat3"),oE=new pt("umat3"),aE=new pt("bmat3"),Co=new pt("mat4"),lE=new pt("imat4"),uE=new pt("umat4"),cE=new pt("bmat4"),hE=(n="")=>B(new Dn(n,"string")),dE=n=>B(new Dn(n,"ArrayBuffer"));z("color",YC);z("float",N);z("int",T);z("uint",U);z("bool",Sr);z("vec2",H);z("ivec2",cr);z("uvec2",ZC);z("bvec2",QC);z("vec3",E);z("ivec3",JC);z("uvec3",Ll);z("bvec3",Iv);z("vec4",W);z("ivec4",KC);z("uvec4",tE);z("bvec4",eE);z("mat2",Um);z("imat2",nE);z("umat2",sE);z("bmat2",iE);z("mat3",is);z("imat3",rE);z("umat3",oE);z("bmat3",aE);z("mat4",Co);z("imat4",lE);z("umat4",uE);z("bmat4",cE);z("string",hE);z("arrayBuffer",dE);const fE=R(Jo),pE=(n,t)=>B(new Fm(B(n),t));z("element",fE);z("convert",pE);class Pv extends vt{constructor(t,e){super(),this.targetNode=t,this.sourceNode=e}hasDependencies(){return!1}getNodeType(t,e){return e!=="void"?this.targetNode.getNodeType(t):"void"}needsSplitAssign(t){const{targetNode:e}=this;if(t.isAvailable("swizzleAssign")===!1&&e.isSplitNode&&e.components.length>1){const s=t.getTypeLength(e.node.getNodeType(t));return nh.join("").slice(0,s)!==e.components}return!1}generate(t,e){const{targetNode:s,sourceNode:i}=this,r=this.needsSplitAssign(t),o=s.getNodeType(t),a=s.context({assign:!0}).build(t),l=i.build(t,o),u=i.getNodeType(t),c=t.getDataFromNode(this);let h;if(c.initialized===!0)e!=="void"&&(h=a);else if(r){const d=t.getVarFromNode(this,null,o),f=t.getPropertyName(d);t.addLineFlowCode(`${f} = ${l}`);const m=s.node.context({assign:!0}).build(t);for(let p=0;p<s.components.length;p++){const _=s.components[p];t.addLineFlowCode(`${m}.${_} = ${f}[ ${p} ]`)}e!=="void"&&(h=a)}else h=`${a} = ${l}`,(e==="void"||u==="void")&&(t.addLineFlowCode(h),e!=="void"&&(h=a));return c.initialized=!0,t.format(h,o,e)}}const mE=R(Pv);P("AssignNode",Pv);z("assign",mE);class Vv extends ${constructor(t,e=null){super(),this.node=t,this.name=e,this.isVaryingNode=!0}isGlobal(){return!0}getHash(t){return this.name||super.getHash(t)}getNodeType(t){return this.node.getNodeType(t)}generate(t){const{name:e,node:s}=this,i=this.getNodeType(t),r=t.getVaryingFromNode(this,e,i);r.needsInterpolation||(r.needsInterpolation=t.shaderStage==="fragment");const o=t.getPropertyName(r,hy.VERTEX);return t.flowNodeFromShaderStage(hy.VERTEX,s,i,o),t.getPropertyName(r)}}const Ut=R(Vv);z("varying",Ut);P("VaryingNode",Vv);class ah extends ${constructor(t,e=null){super(e),this._attributeName=t}isGlobal(){return!0}getHash(t){return this.getAttributeName(t)}getNodeType(t){let e=super.getNodeType(t);if(e===null){const s=this.getAttributeName(t);if(t.hasGeometryAttribute(s)){const i=t.geometry.getAttribute(s);e=t.getTypeFromAttribute(i)}else e="float"}return e}setAttributeName(t){return this._attributeName=t,this}getAttributeName(){return this._attributeName}generate(t){const e=this.getAttributeName(t),s=this.getNodeType(t);if(t.hasGeometryAttribute(e)===!0){const r=t.geometry.getAttribute(e),o=t.getTypeFromAttribute(r),a=t.getAttribute(e,o);return t.shaderStage==="vertex"?t.format(a.name,o,s):Ut(this).build(t,s)}else return console.warn(`AttributeNode: Vertex attribute "${e}" not found on geometry.`),t.generateConst(s)}}const Ee=(n,t)=>B(new ah(n,t));P("AttributeNode",ah);class Fv extends ${constructor(t,e){super(),this.isBypassNode=!0,this.outputNode=t,this.callNode=e}getNodeType(t){return this.outputNode.getNodeType(t)}generate(t){const e=this.callNode.build(t,"void");return e!==""&&t.addLineFlowCode(e),this.outputNode.build(t)}}const bv=R(Fv);z("bypass",bv);P("BypassNode",Fv);let gE=0;class yE{constructor(){this.id=gE++,this.nodesData=new WeakMap}getNodeData(t){return this.nodesData.get(t)}setNodeData(t,e){this.nodesData.set(t,e)}}class Dv extends ${constructor(t,e=new yE){super(),this.isCacheNode=!0,this.node=t,this.cache=e}getNodeType(t){return this.node.getNodeType(t)}build(t,...e){const s=t.getCache(),i=this.cache||t.globalCache;t.setCache(i);const r=this.node.build(t,...e);return t.setCache(s),r}}const Tc=R(Dv),xE=n=>Tc(n,null);z("cache",Tc);z("globalCache",xE);P("CacheNode",Dv);class jm extends ${constructor(t,e={}){super(),this.isContextNode=!0,this.node=t,this.context=e}getNodeType(t){return this.node.getNodeType(t)}setup(t){const e=t.getContext();t.setContext({...t.context,...this.context});const s=this.node.build(t);return t.setContext(e),s}generate(t,e){const s=t.getContext();t.setContext({...t.context,...this.context});const i=this.node.build(t,e);return t.setContext(s),i}}const Hs=R(jm),_E=(n,t)=>Hs(n,{label:t});z("context",Hs);z("label",_E);P("ContextNode",jm);class Ms extends ${constructor(t){super("uint"),this.scope=t,this.isInstanceIndexNode=!0}generate(t){const e=this.getNodeType(t),s=this.scope;let i;if(s===Ms.VERTEX)i=t.getVertexIndex();else if(s===Ms.INSTANCE)i=t.getInstanceIndex();else throw new Error("THREE.IndexNode: Unknown scope: "+s);let r;return t.shaderStage==="vertex"||t.shaderStage==="compute"?r=i:r=Ut(this).build(t,e),r}}Ms.VERTEX="vertex";Ms.INSTANCE="instance";const vE=V(Ms,Ms.VERTEX),Bv=V(Ms,Ms.INSTANCE);P("IndexNode",Ms);class Wm{start(){}finish(){}direct(){}indirectDiffuse(){}indirectSpecular(){}ambientOcclusion(){}}class Uv extends ${constructor(t,e=null){super(),this.node=t,this.name=e,this.isVarNode=!0}isGlobal(){return!0}getHash(t){return this.name||super.getHash(t)}getNodeType(t){return this.node.getNodeType(t)}generate(t){const{node:e,name:s}=this,i=t.getVarFromNode(this,s,t.getVectorType(this.getNodeType(t))),r=t.getPropertyName(i),o=e.build(t,i.type);return t.addLineFlowCode(`${r} = ${o}`),r}}const xl=R(Uv);z("temp",xl);z("toVar",(...n)=>xl(...n).append());P("VarNode",Uv);class ut extends ${constructor(t,e=null,s=!1){super(t),this.name=e,this.varying=s,this.isPropertyNode=!0}getHash(t){return this.name||super.getHash(t)}isGlobal(){return!0}generate(t){let e;return this.varying===!0?(e=t.getVaryingFromNode(this,this.name),e.needsInterpolation=!0):e=t.getVarFromNode(this,this.name),t.getPropertyName(e)}}const me=(n,t)=>B(new ut(n,t)),hs=(n,t)=>B(new ut(n,t,!0)),It=V(ut,"vec4","DiffuseColor"),xi=V(ut,"float","Roughness"),Mc=V(ut,"float","Metalness"),np=V(ut,"float","Clearcoat"),Sc=V(ut,"float","ClearcoatRoughness"),fo=V(ut,"vec3","Sheen"),Hm=V(ut,"float","SheenRoughness"),$m=V(ut,"float","Iridescence"),jv=V(ut,"float","IridescenceIOR"),Wv=V(ut,"float","IridescenceThickness"),sp=V(ut,"float","AlphaT"),sr=V(ut,"float","Anisotropy"),Bu=V(ut,"vec3","AnisotropyT"),Eo=V(ut,"vec3","AnisotropyB"),Yn=V(ut,"color","SpecularColor"),Ac=V(ut,"float","SpecularF90"),ip=V(ut,"float","Shininess"),NE=V(ut,"vec4","Output"),zo=V(ut,"float","dashSize"),Cc=V(ut,"float","gapSize");V(ut,"float","pointWidth");const Uu=V(ut,"float","IOR"),rp=V(ut,"float","Transmission"),Hv=V(ut,"float","Thickness"),$v=V(ut,"float","AttenuationDistance"),Gv=V(ut,"color","AttenuationColor");P("PropertyNode",ut);class wE extends ut{constructor(t,e=null){super(t,e),this.isParameterNode=!0}getHash(){return this.uuid}generate(){return this.name}}P("ParameterNode",wE);class Gm extends ${constructor(t="",e=[],s=""){super("code"),this.isCodeNode=!0,this.code=t,this.language=s,this.includes=e}isGlobal(){return!0}setIncludes(t){return this.includes=t,this}getIncludes(){return this.includes}generate(t){const e=this.getIncludes(t);for(const i of e)i.build(t);const s=t.getCodeFromNode(this,this.getNodeType(t));return s.code=this.code,s.code}serialize(t){super.serialize(t),t.code=this.code,t.language=this.language}deserialize(t){super.deserialize(t),this.code=t.code,this.language=t.language}}R(Gm);P("CodeNode",Gm);class TE extends Gm{constructor(t="",e=[],s=""){super(t,e,s),this.keywords={}}getNodeType(t){return this.getNodeFunction(t).type}getInputs(t){return this.getNodeFunction(t).inputs}getNodeFunction(t){const e=t.getDataFromNode(this);let s=e.nodeFunction;return s===void 0&&(s=t.parser.parseFunction(this.code),e.nodeFunction=s),s}generate(t,e){super.generate(t);const s=this.getNodeFunction(t),i=s.name,r=s.type,o=t.getCodeFromNode(this,r);i!==""&&(o.name=i);const a=t.getPropertyName(o);let l=this.getNodeFunction(t).getCode(a);const u=this.keywords,c=Object.keys(u);if(c.length>0)for(const h of c){const d=new RegExp(`\\b${h}\\b`,"g"),f=u[h].build(t,"property");l=l.replace(d,f)}return o.code=l+`
`,e==="property"?a:t.format(`${a}()`,r,e)}}P("FunctionNode",TE);class qm extends ${constructor(t,e=!1){super("string"),this.name=t,this.version=0,this.shared=e,this.isUniformGroup=!0}set needsUpdate(t){t===!0&&this.version++}}const ME=n=>new qm(n),qv=n=>new qm(n,!0);qv("frame");qv("render");const SE=ME("object");P("UniformGroupNode",qm);class Or extends sh{constructor(t,e=null){super(t,e),this.isUniformNode=!0,this.groupNode=SE}setGroup(t){return this.groupNode=t,this}getGroup(){return this.groupNode}getUniformHash(t){return this.getHash(t)}onUpdate(t,e){const s=this.getSelf();return t=t.bind(s),super.onUpdate(i=>{const r=t(i,s);r!==void 0&&(this.value=r)},e)}generate(t,e){const s=this.getNodeType(t),i=this.getUniformHash(t);let r=t.getNodeFromHash(i);r===void 0&&(t.setHashNode(this,i),r=this);const o=r.getInputType(t),a=t.getUniformFromNode(r,o,t.shaderStage,t.context.label),l=t.getPropertyName(a);return t.context.label!==void 0&&delete t.context.label,t.format(l,s,e)}}const _t=(n,t)=>{const e=GC(t||n),s=n&&n.isNode===!0?n.node&&n.node.value||n.value:n;return B(new Or(s,e))};P("UniformNode",Or);class Xv extends ah{constructor(t=0){super(null,"vec2"),this.isUVNode=!0,this.index=t}getAttributeName(){const t=this.index;return"uv"+(t>0?t:"")}serialize(t){super.serialize(t),t.index=this.index}deserialize(t){super.deserialize(t),this.index=t.index}}const Cs=(...n)=>B(new Xv(...n));P("UVNode",Xv);class Yv extends ${constructor(t,e=null){super("uvec2"),this.isTextureSizeNode=!0,this.textureNode=t,this.levelNode=e}generate(t,e){const s=this.textureNode.build(t,"property"),i=this.levelNode.build(t,"int");return t.format(`${t.getMethod("textureDimensions")}( ${s}, ${i} )`,this.getNodeType(t),e)}}const Xm=R(Yv);z("textureSize",Xm);P("TextureSizeNode",Yv);class kt extends vt{constructor(t,e,s,...i){if(super(),this.op=t,i.length>0){let r=s;for(let o=0;o<i.length;o++)r=new kt(t,r,i[o]);s=r}this.aNode=e,this.bNode=s}getNodeType(t,e){const s=this.op,i=this.aNode,r=this.bNode,o=i.getNodeType(t),a=typeof r<"u"?r.getNodeType(t):null;if(o==="void"||a==="void")return"void";if(s==="%")return o;if(s==="~"||s==="&"||s==="|"||s==="^"||s===">>"||s==="<<")return t.getIntegerType(o);if(s==="!"||s==="=="||s==="&&"||s==="||"||s==="^^")return"bool";if(s==="<"||s===">"||s==="<="||s===">="){const l=e?t.getTypeLength(e):Math.max(t.getTypeLength(o),t.getTypeLength(a));return l>1?`bvec${l}`:"bool"}else return o==="float"&&t.isMatrix(a)?a:t.isMatrix(o)&&t.isVector(a)?t.getVectorFromMatrix(o):t.isVector(o)&&t.isMatrix(a)?t.getVectorFromMatrix(a):t.getTypeLength(a)>t.getTypeLength(o)?a:o}generate(t,e){const s=this.op,i=this.aNode,r=this.bNode,o=this.getNodeType(t,e);let a=null,l=null;o!=="void"?(a=i.getNodeType(t),l=typeof r<"u"?r.getNodeType(t):null,s==="<"||s===">"||s==="<="||s===">="||s==="=="?t.isVector(a)?l=a:a=l="float":s===">>"||s==="<<"?(a=o,l=t.changeComponentType(l,"uint")):t.isMatrix(a)&&t.isVector(l)?l=t.getVectorFromMatrix(a):t.isVector(a)&&t.isMatrix(l)?a=t.getVectorFromMatrix(l):a=l=o):a=l=o;const u=i.build(t,a),c=typeof r<"u"?r.build(t,l):null,h=t.getTypeLength(e),d=t.getFunctionOperator(s);if(e!=="void")return s==="<"&&h>1?t.format(`${t.getMethod("lessThan")}( ${u}, ${c} )`,o,e):s==="<="&&h>1?t.format(`${t.getMethod("lessThanEqual")}( ${u}, ${c} )`,o,e):s===">"&&h>1?t.format(`${t.getMethod("greaterThan")}( ${u}, ${c} )`,o,e):s===">="&&h>1?t.format(`${t.getMethod("greaterThanEqual")}( ${u}, ${c} )`,o,e):s==="!"||s==="~"?t.format(`(${s}${u})`,a,e):d?t.format(`${d}( ${u}, ${c} )`,o,e):t.format(`( ${u} ${s} ${c} )`,o,e);if(a!=="void")return d?t.format(`${d}( ${u}, ${c} )`,o,e):t.format(`${u} ${s} ${c}`,o,e)}serialize(t){super.serialize(t),t.op=this.op}deserialize(t){super.deserialize(t),this.op=t.op}}const vn=R(kt,"+"),qt=R(kt,"-"),st=R(kt,"*"),Pi=R(kt,"/"),AE=R(kt,"%"),CE=R(kt,"=="),EE=R(kt,"!="),zE=R(kt,"<"),Zv=R(kt,">"),RE=R(kt,"<="),kE=R(kt,">="),OE=R(kt,"&&"),LE=R(kt,"||"),IE=R(kt,"!"),PE=R(kt,"^^"),VE=R(kt,"&"),FE=R(kt,"~"),bE=R(kt,"|"),DE=R(kt,"^"),BE=R(kt,"<<"),UE=R(kt,">>");z("add",vn);z("sub",qt);z("mul",st);z("div",Pi);z("remainder",AE);z("equal",CE);z("notEqual",EE);z("lessThan",zE);z("greaterThan",Zv);z("lessThanEqual",RE);z("greaterThanEqual",kE);z("and",OE);z("or",LE);z("not",IE);z("xor",PE);z("bitAnd",VE);z("bitNot",FE);z("bitOr",bE);z("bitXor",DE);z("shiftLeft",BE);z("shiftRight",UE);P("OperatorNode",kt);class A extends vt{constructor(t,e,s=null,i=null){super(),this.method=t,this.aNode=e,this.bNode=s,this.cNode=i}getInputType(t){const e=this.aNode.getNodeType(t),s=this.bNode?this.bNode.getNodeType(t):null,i=this.cNode?this.cNode.getNodeType(t):null,r=t.isMatrix(e)?0:t.getTypeLength(e),o=t.isMatrix(s)?0:t.getTypeLength(s),a=t.isMatrix(i)?0:t.getTypeLength(i);return r>o&&r>a?e:o>a?s:a>r?i:e}getNodeType(t){const e=this.method;return e===A.LENGTH||e===A.DISTANCE||e===A.DOT?"float":e===A.CROSS?"vec3":e===A.ALL?"bool":e===A.EQUALS?t.changeComponentType(this.aNode.getNodeType(t),"bool"):e===A.MOD?this.aNode.getNodeType(t):this.getInputType(t)}generate(t,e){const s=this.method,i=this.getNodeType(t),r=this.getInputType(t),o=this.aNode,a=this.bNode,l=this.cNode,u=t.renderer.isWebGLRenderer===!0;if(s===A.TRANSFORM_DIRECTION){let c=o,h=a;t.isMatrix(c.getNodeType(t))?h=W(E(h),0):c=W(E(c),0);const d=st(c,h).xyz;return De(d).build(t,e)}else{if(s===A.NEGATE)return t.format("( - "+o.build(t,r)+" )",i,e);if(s===A.ONE_MINUS)return qt(1,o).build(t,e);if(s===A.RECIPROCAL)return Pi(1,o).build(t,e);if(s===A.DIFFERENCE)return Zt(qt(o,a)).build(t,e);{const c=[];return s===A.CROSS||s===A.MOD?c.push(o.build(t,i),a.build(t,i)):s===A.STEP?c.push(o.build(t,t.getTypeLength(o.getNodeType(t))===1?"float":r),a.build(t,r)):u&&(s===A.MIN||s===A.MAX)||s===A.MOD?c.push(o.build(t,r),a.build(t,t.getTypeLength(a.getNodeType(t))===1?"float":r)):s===A.REFRACT?c.push(o.build(t,r),a.build(t,r),l.build(t,"float")):s===A.MIX?c.push(o.build(t,r),a.build(t,r),l.build(t,t.getTypeLength(l.getNodeType(t))===1?"float":r)):(c.push(o.build(t,r)),a!==null&&c.push(a.build(t,r)),l!==null&&c.push(l.build(t,r))),t.format(`${t.getMethod(s,i)}( ${c.join(", ")} )`,i,e)}}}serialize(t){super.serialize(t),t.method=this.method}deserialize(t){super.deserialize(t),this.method=t.method}}A.ALL="all";A.ANY="any";A.EQUALS="equals";A.RADIANS="radians";A.DEGREES="degrees";A.EXP="exp";A.EXP2="exp2";A.LOG="log";A.LOG2="log2";A.SQRT="sqrt";A.INVERSE_SQRT="inversesqrt";A.FLOOR="floor";A.CEIL="ceil";A.NORMALIZE="normalize";A.FRACT="fract";A.SIN="sin";A.COS="cos";A.TAN="tan";A.ASIN="asin";A.ACOS="acos";A.ATAN="atan";A.ABS="abs";A.SIGN="sign";A.LENGTH="length";A.NEGATE="negate";A.ONE_MINUS="oneMinus";A.DFDX="dFdx";A.DFDY="dFdy";A.ROUND="round";A.RECIPROCAL="reciprocal";A.TRUNC="trunc";A.FWIDTH="fwidth";A.BITCAST="bitcast";A.ATAN2="atan2";A.MIN="min";A.MAX="max";A.MOD="mod";A.STEP="step";A.REFLECT="reflect";A.DISTANCE="distance";A.DIFFERENCE="difference";A.DOT="dot";A.CROSS="cross";A.POW="pow";A.TRANSFORM_DIRECTION="transformDirection";A.MIX="mix";A.CLAMP="clamp";A.REFRACT="refract";A.SMOOTHSTEP="smoothstep";A.FACEFORWARD="faceforward";const Qv=N(1e-6);N(1e6);const xy=N(Math.PI);N(Math.PI*2);const Jv=R(A,A.ALL),jE=R(A,A.ANY),WE=R(A,A.EQUALS),HE=R(A,A.RADIANS),$E=R(A,A.DEGREES),Kv=R(A,A.EXP),op=R(A,A.EXP2),tN=R(A,A.LOG),lh=R(A,A.LOG2),Lr=R(A,A.SQRT),GE=R(A,A.INVERSE_SQRT),Ko=R(A,A.FLOOR),eN=R(A,A.CEIL),De=R(A,A.NORMALIZE),uh=R(A,A.FRACT),bs=R(A,A.SIN),ui=R(A,A.COS),qE=R(A,A.TAN),XE=R(A,A.ASIN),YE=R(A,A.ACOS),ZE=R(A,A.ATAN),Zt=R(A,A.ABS),Ym=R(A,A.SIGN),$a=R(A,A.LENGTH),QE=R(A,A.NEGATE),JE=R(A,A.ONE_MINUS),KE=R(A,A.DFDX),tz=R(A,A.DFDY),ez=R(A,A.ROUND),nz=R(A,A.RECIPROCAL),nN=R(A,A.TRUNC),sz=R(A,A.FWIDTH);R(A,A.BITCAST);const iz=R(A,A.ATAN2),Go=R(A,A.MIN),Nn=R(A,A.MAX),rz=R(A,A.MOD),oz=R(A,A.STEP),az=R(A,A.REFLECT),lz=R(A,A.DISTANCE),uz=R(A,A.DIFFERENCE),ta=R(A,A.DOT),sN=R(A,A.CROSS),_s=R(A,A.POW),iN=R(A,A.POW,2),cz=R(A,A.POW,3),hz=R(A,A.POW,4),dz=R(A,A.TRANSFORM_DIRECTION),fz=n=>st(Ym(n),_s(Zt(n),1/3)),pz=n=>ta(n,n),ve=R(A,A.MIX),qo=(n,t=0,e=1)=>B(new A(A.CLAMP,B(n),B(t),B(e))),mz=n=>qo(n),rN=R(A,A.REFRACT),Qs=R(A,A.SMOOTHSTEP),gz=R(A,A.FACEFORWARD),yz=(n,t,e)=>ve(t,e,n),xz=(n,t,e)=>Qs(t,e,n);z("all",Jv);z("any",jE);z("equals",WE);z("radians",HE);z("degrees",$E);z("exp",Kv);z("exp2",op);z("log",tN);z("log2",lh);z("sqrt",Lr);z("inverseSqrt",GE);z("floor",Ko);z("ceil",eN);z("normalize",De);z("fract",uh);z("sin",bs);z("cos",ui);z("tan",qE);z("asin",XE);z("acos",YE);z("atan",ZE);z("abs",Zt);z("sign",Ym);z("length",$a);z("lengthSq",pz);z("negate",QE);z("oneMinus",JE);z("dFdx",KE);z("dFdy",tz);z("round",ez);z("reciprocal",nz);z("trunc",nN);z("fwidth",sz);z("atan2",iz);z("min",Go);z("max",Nn);z("mod",rz);z("step",oz);z("reflect",az);z("distance",lz);z("dot",ta);z("cross",sN);z("pow",_s);z("pow2",iN);z("pow3",cz);z("pow4",hz);z("transformDirection",dz);z("mix",yz);z("clamp",qo);z("refract",rN);z("smoothstep",xz);z("faceForward",gz);z("difference",uz);z("saturate",mz);z("cbrt",fz);P("MathNode",A);const _z=L(n=>{const{value:t}=n,{rgb:e}=t,s=e.mul(.9478672986).add(.0521327014).pow(2.4),i=e.mul(.0773993808),r=e.lessThanEqual(.04045),o=ve(s,i,r);return W(o,t.a)}),vz=L(n=>{const{value:t}=n,{rgb:e}=t,s=e.pow(.41666).mul(1.055).sub(.055),i=e.mul(12.92),r=e.lessThanEqual(.0031308),o=ve(s,i,r);return W(o,t.a)}),_y=n=>{let t=null;return n===Qo?t="Linear":n===Is&&(t="sRGB"),t},oN=(n,t)=>_y(n)+"To"+_y(t);class sn extends vt{constructor(t,e){super("vec4"),this.method=t,this.node=e}setup(){const{method:t,node:e}=this;return t===sn.LINEAR_TO_LINEAR?e:Nz[t]({value:e})}}sn.LINEAR_TO_LINEAR="LinearToLinear";sn.LINEAR_TO_sRGB="LinearTosRGB";sn.sRGB_TO_LINEAR="sRGBToLinear";const Nz={[sn.LINEAR_TO_sRGB]:vz,[sn.sRGB_TO_LINEAR]:_z},wz=(n,t)=>B(new sn(oN(Qo,t),B(n))),aN=(n,t)=>B(new sn(oN(t,Qo),B(n))),Tz=R(sn,sn.LINEAR_TO_sRGB),Mz=R(sn,sn.sRGB_TO_LINEAR);z("linearTosRGB",Tz);z("sRGBToLinear",Mz);z("linearToColorSpace",wz);z("colorSpaceToLinear",aN);P("ColorSpaceNode",sn);class lN extends ${constructor(t="",e="void"){super(e),this.snippet=t}generate(t,e){const s=this.getNodeType(t),i=this.snippet;if(s==="void")t.addLineFlowCode(i);else return t.format(`( ${i} )`,s,e)}}const ch=R(lN);P("ExpressionNode",lN);class uN extends Or{constructor(t){super(0),this.textureNode=t,this.updateType=xt.FRAME}get texture(){return this.textureNode.value}update(){const t=this.texture,e=t.images,s=e&&e.length>0?e[0]&&e[0].image||e[0]:t.image;if(s&&s.width!==void 0){const{width:i,height:r}=s;this.value=Math.log2(Math.max(i,r))}}}const Sz=R(uN);P("MaxMipLevelNode",uN);class ea extends Or{constructor(t,e=null,s=null){super(t),this.isTextureNode=!0,this.uvNode=e,this.levelNode=s,this.compareNode=null,this.depthNode=null,this.gradNode=null,this.sampler=!0,this.updateMatrix=!1,this.updateType=xt.NONE,this.referenceNode=null,this._value=t,this.setUpdateMatrix(e===null)}set value(t){this.referenceNode?this.referenceNode.value=t:this._value=t}get value(){return this.referenceNode?this.referenceNode.value:this._value}getUniformHash(){return this.value.uuid}getNodeType(){return this.value.isDepthTexture===!0?"float":"vec4"}getInputType(){return"texture"}getDefaultUV(){return Cs(this.value.channel)}updateReference(){return this.value}getTransformedUV(t){const e=this.value;return _t(e.matrix).mul(E(t,1)).xy}setUpdateMatrix(t){return this.updateMatrix=t,this.updateType=t?xt.FRAME:xt.NONE,this}setupUV(t,e){const s=this.value;return t.isFlipY()&&(s.isRenderTargetTexture===!0||s.isFramebufferTexture===!0||s.isDepthTexture===!0)&&(e=e.setY(e.y.oneMinus())),e}setup(t){const e=t.getNodeProperties(this);let s=this.uvNode;(s===null||t.context.forceUVContext===!0)&&t.context.getUV&&(s=t.context.getUV(this)),s||(s=this.getDefaultUV()),this.updateMatrix===!0&&(s=this.getTransformedUV(s)),s=this.setupUV(t,s);let i=this.levelNode;i===null&&t.context.getTextureLevel&&(i=t.context.getTextureLevel(this)),e.uvNode=s,e.levelNode=i,e.compareNode=this.compareNode,e.gradNode=this.gradNode,e.depthNode=this.depthNode}generateUV(t,e){return e.build(t,this.sampler===!0?"vec2":"ivec2")}generateSnippet(t,e,s,i,r,o,a){const l=this.value;let u;return i?u=t.generateTextureLevel(l,e,s,i,r):a?u=t.generateTextureGrad(l,e,s,a,r):o?u=t.generateTextureCompare(l,e,s,o,r):this.sampler===!1?u=t.generateTextureLoad(l,e,s,r):u=t.generateTexture(l,e,s,r),u}generate(t,e){const s=t.getNodeProperties(this),i=this.value;if(!i||i.isTexture!==!0)throw new Error("TextureNode: Need a three.js texture.");const r=super.generate(t,"property");if(e==="sampler")return r+"_sampler";if(t.isReference(e))return r;{const o=t.getDataFromNode(this);let a=o.propertyName;if(a===void 0){const{uvNode:c,levelNode:h,compareNode:d,depthNode:f,gradNode:m}=s,p=this.generateUV(t,c),_=h?h.build(t,"float"):null,g=f?f.build(t,"int"):null,y=d?d.build(t,"float"):null,x=m?[m[0].build(t,"vec2"),m[1].build(t,"vec2")]:null,v=t.getVarFromNode(this);a=t.getPropertyName(v);const w=this.generateSnippet(t,r,p,_,g,y,x);t.addLineFlowCode(`${a} = ${w}`),t.context.tempWrite!==!1&&(o.snippet=w,o.propertyName=a)}let l=a;const u=this.getNodeType(t);return t.needsColorSpaceToLinear(i)&&(l=aN(ch(l,u),i.colorSpace).setup(t).build(t,u)),t.format(l,u,e)}}setSampler(t){return this.sampler=t,this}getSampler(){return this.sampler}uv(t){const e=this.clone();return e.uvNode=t,e.referenceNode=this,B(e)}blur(t){const e=this.clone();return e.levelNode=t.mul(Sz(e)),e.referenceNode=this,B(e)}level(t){const e=this.clone();return e.levelNode=t,e.referenceNode=this,e}size(t){return Xm(this,t)}compare(t){const e=this.clone();return e.compareNode=B(t),e.referenceNode=this,B(e)}grad(t,e){const s=this.clone();return s.gradNode=[B(t),B(e)],s.referenceNode=this,B(s)}depth(t){const e=this.clone();return e.depthNode=B(t),e.referenceNode=this,B(e)}serialize(t){super.serialize(t),t.value=this.value.toJSON(t.meta).uuid}deserialize(t){super.deserialize(t),this.value=t.meta.textures[t.value]}update(){const t=this.value;t.matrixAutoUpdate===!0&&t.updateMatrix()}clone(){const t=new this.constructor(this.value,this.uvNode,this.levelNode);return t.sampler=this.sampler,t}}const yn=R(ea),rr=(...n)=>yn(...n).setSampler(!1);z("texture",yn);P("TextureNode",ea);class hh extends Or{constructor(t,e,s=0){super(t,e),this.isBufferNode=!0,this.bufferType=e,this.bufferCount=s}getInputType(){return"buffer"}}const Zm=(n,t,e)=>B(new hh(n,t,e));P("BufferNode",hh);class Az extends Jo{constructor(t,e){super(t,e),this.isArrayBufferElementNode=!0}getNodeType(t){return this.node.getElementType(t)}generate(t){const e=super.generate(t),s=this.getNodeType();return t.format(e,"vec4",s)}}class cN extends hh{constructor(t,e=null){super(null,"vec4"),this.array=t,this.elementType=e,this._elementType=null,this._elementLength=0,this.updateType=xt.RENDER,this.isArrayBufferNode=!0}getElementType(){return this.elementType||this._elementType}getElementLength(){return this._elementLength}update(){const{array:t,value:e}=this,s=this.getElementLength(),i=this.getElementType();if(s===1)for(let r=0;r<t.length;r++){const o=r*4;e[o]=t[r]}else if(i==="color")for(let r=0;r<t.length;r++){const o=r*4,a=t[r];e[o]=a.r,e[o+1]=a.g,e[o+2]=a.b||0}else for(let r=0;r<t.length;r++){const o=r*4,a=t[r];e[o]=a.x,e[o+1]=a.y,e[o+2]=a.z||0,e[o+3]=a.w||0}}setup(t){const e=this.array.length;return this._elementType=this.elementType===null?yi(this.array[0]):this.elementType,this._elementLength=t.getTypeLength(this._elementType),this.value=new Float32Array(e*4),this.bufferCount=e,super.setup(t)}element(t){return B(new Az(this,B(t)))}}const ap=(n,t)=>B(new cN(n,t));P("UniformsNode",cN);class Cz extends Jo{constructor(t,e){super(t,e),this.referenceNode=t,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(t){const e=super.generate(t),s=this.referenceNode.getNodeType(),i=this.getNodeType();return t.format(e,s,i)}}class na extends ${constructor(t,e,s=null,i=null){super(),this.property=t,this.uniformType=e,this.object=s,this.count=i,this.properties=t.split("."),this.reference=null,this.node=null,this.updateType=xt.OBJECT}element(t){return B(new Cz(this,B(t)))}setNodeType(t){let e=null;this.count!==null?e=Zm(null,t,this.count):Array.isArray(this.getValueFromReference())?e=ap(null,t):t==="texture"?e=yn(null):e=_t(null,t),this.node=e}getNodeType(t){return this.node.getNodeType(t)}getValueFromReference(t=this.reference){const{properties:e}=this;let s=t[e[0]];for(let i=1;i<e.length;i++)s=s[e[i]];return s}updateReference(t){return this.reference=this.object!==null?this.object:t.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const t=this.getValueFromReference();Array.isArray(t)?this.node.array=t:this.node.value=t}}const rs=(n,t,e)=>B(new na(n,t,e)),Ez=(n,t,e,s)=>B(new na(n,t,s,e));P("ReferenceNode",na);class hN extends na{constructor(t,e,s=null){super(t,e,s),this.material=s}updateReference(t){return this.reference=this.material!==null?this.material:t.material,this.reference}}const dN=(n,t,e)=>B(new hN(n,t,e));P("MaterialReferenceNode",hN);class Q extends ${constructor(t=Q.VIEW_MATRIX,e=null){super(),this.scope=t,this.object3d=e,this.updateType=xt.OBJECT,this._uniformNode=new Or(null)}getNodeType(){const t=this.scope;if(t===Q.WORLD_MATRIX||t===Q.VIEW_MATRIX)return"mat4";if(t===Q.NORMAL_MATRIX)return"mat3";if(t===Q.POSITION||t===Q.VIEW_POSITION||t===Q.DIRECTION||t===Q.SCALE)return"vec3"}update(t){const e=this.object3d,s=this._uniformNode,i=this.scope;if(i===Q.VIEW_MATRIX)s.value=e.modelViewMatrix;else if(i===Q.NORMAL_MATRIX)s.value=e.normalMatrix;else if(i===Q.WORLD_MATRIX)s.value=e.matrixWorld;else if(i===Q.POSITION)s.value=s.value||new O,s.value.setFromMatrixPosition(e.matrixWorld);else if(i===Q.SCALE)s.value=s.value||new O,s.value.setFromMatrixScale(e.matrixWorld);else if(i===Q.DIRECTION)s.value=s.value||new O,e.getWorldDirection(s.value);else if(i===Q.VIEW_POSITION){const r=t.camera;s.value=s.value||new O,s.value.setFromMatrixPosition(e.matrixWorld),s.value.applyMatrix4(r.matrixWorldInverse)}}generate(t){const e=this.scope;return e===Q.WORLD_MATRIX||e===Q.VIEW_MATRIX?this._uniformNode.nodeType="mat4":e===Q.NORMAL_MATRIX?this._uniformNode.nodeType="mat3":(e===Q.POSITION||e===Q.VIEW_POSITION||e===Q.DIRECTION||e===Q.SCALE)&&(this._uniformNode.nodeType="vec3"),this._uniformNode.build(t)}serialize(t){super.serialize(t),t.scope=this.scope}deserialize(t){super.deserialize(t),this.scope=t.scope}}Q.VIEW_MATRIX="viewMatrix";Q.NORMAL_MATRIX="normalMatrix";Q.WORLD_MATRIX="worldMatrix";Q.POSITION="position";Q.SCALE="scale";Q.VIEW_POSITION="viewPosition";Q.DIRECTION="direction";R(Q,Q.DIRECTION);R(Q,Q.VIEW_MATRIX);R(Q,Q.NORMAL_MATRIX);R(Q,Q.WORLD_MATRIX);const lp=R(Q,Q.POSITION);R(Q,Q.SCALE);const fN=R(Q,Q.VIEW_POSITION);P("Object3DNode",Q);class J extends Q{constructor(t=J.POSITION){super(t),this.updateType=xt.RENDER}getNodeType(t){const e=this.scope;return e===J.PROJECTION_MATRIX||e===J.PROJECTION_MATRIX_INVERSE?"mat4":e===J.NEAR||e===J.FAR||e===J.LOG_DEPTH?"float":super.getNodeType(t)}update(t){const e=t.camera,s=this._uniformNode,i=this.scope;i===J.VIEW_MATRIX?s.value=e.matrixWorldInverse:i===J.PROJECTION_MATRIX?s.value=e.projectionMatrix:i===J.PROJECTION_MATRIX_INVERSE?s.value=e.projectionMatrixInverse:i===J.NEAR?s.value=e.near:i===J.FAR?s.value=e.far:i===J.LOG_DEPTH?s.value=2/(Math.log(e.far+1)/Math.LN2):(this.object3d=e,super.update(t))}generate(t){const e=this.scope;return e===J.PROJECTION_MATRIX||e===J.PROJECTION_MATRIX_INVERSE?this._uniformNode.nodeType="mat4":(e===J.NEAR||e===J.FAR||e===J.LOG_DEPTH)&&(this._uniformNode.nodeType="float"),super.generate(t)}}J.PROJECTION_MATRIX="projectionMatrix";J.PROJECTION_MATRIX_INVERSE="projectionMatrixInverse";J.NEAR="near";J.FAR="far";J.LOG_DEPTH="logDepth";const fs=V(J,J.PROJECTION_MATRIX);V(J,J.PROJECTION_MATRIX_INVERSE);const Nd=V(J,J.NEAR),wd=V(J,J.FAR),zz=V(J,J.LOG_DEPTH),Ks=V(J,J.VIEW_MATRIX);V(J,J.NORMAL_MATRIX);V(J,J.WORLD_MATRIX);const Rz=V(J,J.POSITION);P("CameraNode",J);class Ne extends Q{constructor(t=Ne.VIEW_MATRIX){super(t)}update(t){this.object3d=t.object,super.update(t)}}V(Ne,Ne.DIRECTION);const Ar=V(Ne,Ne.VIEW_MATRIX).label("modelViewMatrix").temp("ModelViewMatrix"),pN=V(Ne,Ne.NORMAL_MATRIX),_l=V(Ne,Ne.WORLD_MATRIX);V(Ne,Ne.POSITION);V(Ne,Ne.SCALE);V(Ne,Ne.VIEW_POSITION);P("ModelNode",Ne);class ee extends ${constructor(t=ee.LOCAL){super("vec3"),this.scope=t}isGlobal(){return!0}getHash(){return`normal-${this.scope}`}generate(t){const e=this.scope;let s=null;if(e===ee.GEOMETRY)t.hasGeometryAttribute("normal")===!1?s=E(0,1,0):s=Ee("normal","vec3");else if(e===ee.LOCAL)s=Ut(Ec);else if(e===ee.VIEW){const i=pN.mul(os);s=De(Ut(i))}else if(e===ee.WORLD){const i=Vi.transformDirection(Ks);s=De(Ut(i))}return s.build(t,this.getNodeType(t))}serialize(t){super.serialize(t),t.scope=this.scope}deserialize(t){super.deserialize(t),this.scope=t.scope}}ee.GEOMETRY="geometry";ee.LOCAL="local";ee.VIEW="view";ee.WORLD="world";const Ec=V(ee,ee.GEOMETRY),os=V(ee,ee.LOCAL).temp("Normal"),Vi=V(ee,ee.VIEW),mN=V(ee,ee.WORLD),jt=me("vec3","TransformedNormalView"),gN=jt.transformDirection(Ks).normalize(),po=me("vec3","TransformedClearcoatNormalView");P("NormalNode",ee);const vy=new Map;class I extends ${constructor(t){super(),this.scope=t}getCache(t,e){let s=vy.get(t);return s===void 0&&(s=dN(t,e),vy.set(t,s)),s}getFloat(t){return this.getCache(t,"float")}getColor(t){return this.getCache(t,"color")}getTexture(t){return this.getCache(t==="map"?"map":t+"Map","texture")}setup(t){const e=t.context.material,s=this.scope;let i=null;if(s===I.COLOR){const r=this.getColor(s);e.map&&e.map.isTexture===!0?i=r.mul(this.getTexture("map")):i=r}else if(s===I.OPACITY){const r=this.getFloat(s);e.alphaMap&&e.alphaMap.isTexture===!0?i=r.mul(this.getTexture("alpha")):i=r}else if(s===I.SPECULAR_STRENGTH)e.specularMap&&e.specularMap.isTexture===!0?i=this.getTexture("specular").r:i=N(1);else if(s===I.SPECULAR_INTENSITY){const r=this.getFloat(s);e.specularMap?i=r.mul(this.getTexture(s).a):i=r}else if(s===I.SPECULAR_COLOR){const r=this.getColor(s);e.specularColorMap&&e.specularColorMap.isTexture===!0?i=r.mul(this.getTexture(s).rgb):i=r}else if(s===I.ROUGHNESS){const r=this.getFloat(s);e.roughnessMap&&e.roughnessMap.isTexture===!0?i=r.mul(this.getTexture(s).g):i=r}else if(s===I.METALNESS){const r=this.getFloat(s);e.metalnessMap&&e.metalnessMap.isTexture===!0?i=r.mul(this.getTexture(s).b):i=r}else if(s===I.EMISSIVE){const r=this.getColor(s);e.emissiveMap&&e.emissiveMap.isTexture===!0?i=r.mul(this.getTexture(s)):i=r}else if(s===I.NORMAL)e.normalMap?i=this.getTexture("normal").normalMap(this.getCache("normalScale","vec2")):e.bumpMap?i=this.getTexture("bump").r.bumpMap(this.getFloat("bumpScale")):i=Vi;else if(s===I.CLEARCOAT){const r=this.getFloat(s);e.clearcoatMap&&e.clearcoatMap.isTexture===!0?i=r.mul(this.getTexture(s).r):i=r}else if(s===I.CLEARCOAT_ROUGHNESS){const r=this.getFloat(s);e.clearcoatRoughnessMap&&e.clearcoatRoughnessMap.isTexture===!0?i=r.mul(this.getTexture(s).r):i=r}else if(s===I.CLEARCOAT_NORMAL)e.clearcoatNormalMap?i=this.getTexture(s).normalMap(this.getCache(s+"Scale","vec2")):i=Vi;else if(s===I.SHEEN){const r=this.getColor("sheenColor").mul(this.getFloat("sheen"));e.sheenColorMap&&e.sheenColorMap.isTexture===!0?i=r.mul(this.getTexture("sheenColor").rgb):i=r}else if(s===I.SHEEN_ROUGHNESS){const r=this.getFloat(s);e.sheenRoughnessMap&&e.sheenRoughnessMap.isTexture===!0?i=r.mul(this.getTexture(s).a):i=r,i=i.clamp(.07,1)}else if(s===I.ANISOTROPY)if(e.anisotropyMap&&e.anisotropyMap.isTexture===!0){const r=this.getTexture(s);i=Um(va.x,va.y,va.y.negate(),va.x).mul(r.rg.mul(2).sub(H(1)).normalize().mul(r.b))}else i=va;else if(s===I.IRIDESCENCE_THICKNESS){const r=rs("1","float",e.iridescenceThicknessRange);if(e.iridescenceThicknessMap){const o=rs("0","float",e.iridescenceThicknessRange);i=r.sub(o).mul(this.getTexture(s).g).add(o)}else i=r}else if(s===I.TRANSMISSION){const r=this.getFloat(s);e.transmissionMap?i=r.mul(this.getTexture(s).r):i=r}else if(s===I.THICKNESS){const r=this.getFloat(s);e.thicknessMap?i=r.mul(this.getTexture(s).g):i=r}else if(s===I.IOR)i=this.getFloat(s);else{const r=this.getNodeType(t);i=this.getCache(s,r)}return i}}I.ALPHA_TEST="alphaTest";I.COLOR="color";I.OPACITY="opacity";I.SHININESS="shininess";I.SPECULAR="specular";I.SPECULAR_STRENGTH="specularStrength";I.SPECULAR_INTENSITY="specularIntensity";I.SPECULAR_COLOR="specularColor";I.REFLECTIVITY="reflectivity";I.ROUGHNESS="roughness";I.METALNESS="metalness";I.NORMAL="normal";I.CLEARCOAT="clearcoat";I.CLEARCOAT_ROUGHNESS="clearcoatRoughness";I.CLEARCOAT_NORMAL="clearcoatNormal";I.EMISSIVE="emissive";I.ROTATION="rotation";I.SHEEN="sheen";I.SHEEN_ROUGHNESS="sheenRoughness";I.ANISOTROPY="anisotropy";I.IRIDESCENCE="iridescence";I.IRIDESCENCE_IOR="iridescenceIOR";I.IRIDESCENCE_THICKNESS="iridescenceThickness";I.IOR="ior";I.TRANSMISSION="transmission";I.THICKNESS="thickness";I.ATTENUATION_DISTANCE="attenuationDistance";I.ATTENUATION_COLOR="attenuationColor";I.LINE_SCALE="scale";I.LINE_DASH_SIZE="dashSize";I.LINE_GAP_SIZE="gapSize";I.LINE_WIDTH="linewidth";I.LINE_DASH_OFFSET="dashOffset";I.POINT_WIDTH="pointWidth";const kz=V(I,I.ALPHA_TEST),vl=V(I,I.COLOR),Oz=V(I,I.SHININESS),Lz=V(I,I.EMISSIVE),yN=V(I,I.OPACITY),Iz=V(I,I.SPECULAR),Ny=V(I,I.SPECULAR_INTENSITY),Pz=V(I,I.SPECULAR_COLOR),Vz=V(I,I.SPECULAR_STRENGTH);V(I,I.REFLECTIVITY);const Fz=V(I,I.ROUGHNESS),bz=V(I,I.METALNESS),Dz=V(I,I.NORMAL),Bz=V(I,I.CLEARCOAT),Uz=V(I,I.CLEARCOAT_ROUGHNESS),jz=V(I,I.CLEARCOAT_NORMAL),Wz=V(I,I.ROTATION),Hz=V(I,I.SHEEN),$z=V(I,I.SHEEN_ROUGHNESS),Gz=V(I,I.ANISOTROPY),qz=V(I,I.IRIDESCENCE),Xz=V(I,I.IRIDESCENCE_IOR),Yz=V(I,I.IRIDESCENCE_THICKNESS),Zz=V(I,I.TRANSMISSION),Qz=V(I,I.THICKNESS),Jz=V(I,I.IOR),Kz=V(I,I.ATTENUATION_DISTANCE),tR=V(I,I.ATTENUATION_COLOR),up=V(I,I.LINE_SCALE),xN=V(I,I.LINE_DASH_SIZE),_N=V(I,I.LINE_GAP_SIZE),Td=V(I,I.LINE_WIDTH),wy=V(I,I.LINE_DASH_OFFSET),eR=V(I,I.POINT_WIDTH),va=_t(new nt).onReference(function(n){return n.material}).onRenderUpdate(function({material:n}){this.value.set(n.anisotropy*Math.cos(n.anisotropyRotation),n.anisotropy*Math.sin(n.anisotropyRotation))});P("MaterialNode",I);class yt extends ${constructor(t=yt.LOCAL){super("vec3"),this.scope=t}isGlobal(){return!0}getHash(){return`position-${this.scope}`}generate(t){const e=this.scope;let s=null;if(e===yt.GEOMETRY)s=Ee("position","vec3");else if(e===yt.LOCAL)s=Ut(We);else if(e===yt.WORLD){const i=_l.mul(Le);s=Ut(i)}else if(e===yt.VIEW){const i=Ar.mul(Le);s=Ut(i)}else if(e===yt.VIEW_DIRECTION){const i=fn.negate();s=De(Ut(i))}else if(e===yt.WORLD_DIRECTION){const i=Le.transformDirection(_l);s=De(Ut(i))}return s.build(t,this.getNodeType(t))}serialize(t){super.serialize(t),t.scope=this.scope}deserialize(t){super.deserialize(t),this.scope=t.scope}}yt.GEOMETRY="geometry";yt.LOCAL="local";yt.WORLD="world";yt.WORLD_DIRECTION="worldDirection";yt.VIEW="view";yt.VIEW_DIRECTION="viewDirection";const We=V(yt,yt.GEOMETRY),Le=V(yt,yt.LOCAL).temp("Position"),cp=V(yt,yt.WORLD),nR=V(yt,yt.WORLD_DIRECTION),fn=V(yt,yt.VIEW),Pt=V(yt,yt.VIEW_DIRECTION);P("PositionNode",yt);class vN extends vt{constructor(t=null){super("vec4"),this.positionNode=t}setup(t){if(t.shaderStage==="fragment")return Ut(t.context.mvp);const e=this.positionNode||Le;return fs.mul(Ar).mul(e)}}const Ty=R(vN);P("ModelViewProjectionNode",vN);class NN extends sh{constructor(t,e=null,s=0,i=0){super(t,e),this.isBufferNode=!0,this.bufferType=e,this.bufferStride=s,this.bufferOffset=i,this.usage=pc,this.instanced=!1,this.attribute=null,t&&t.isBufferAttribute===!0&&(this.attribute=t,this.usage=t.usage,this.instanced=t.isInstancedBufferAttribute)}getNodeType(t){return this.bufferType===null&&(this.bufferType=t.getTypeFromAttribute(this.attribute)),this.bufferType}setup(t){if(this.attribute!==null)return;const e=this.getNodeType(t),s=this.value,i=t.getTypeLength(e),r=this.bufferStride||i,o=this.bufferOffset,a=s.isInterleavedBuffer===!0?s:new __(s,r),l=new ym(a,i,o);a.setUsage(this.usage),this.attribute=l,this.attribute.isInstancedBufferAttribute=this.instanced}generate(t){const e=this.getNodeType(t),s=t.getBufferAttributeFromNode(this,e),i=t.getPropertyName(s);let r=null;return t.shaderStage==="vertex"||t.shaderStage==="compute"?(this.name=i,r=i):r=Ut(this).build(t,e),r}getInputType(){return"bufferAttribute"}setUsage(t){return this.usage=t,this}setInstanced(t){return this.instanced=t,this}}const dh=(n,t,e,s)=>B(new NN(n,t,e,s)),sR=(n,t,e,s)=>dh(n,t,e,s).setUsage(Ff),My=(n,t,e,s)=>dh(n,t,e,s).setInstanced(!0),Sy=(n,t,e,s)=>sR(n,t,e,s).setInstanced(!0);z("toAttribute",n=>dh(n.value));P("BufferAttributeNode",NN);class wN extends ${constructor(t){super("void"),this.instanceMesh=t,this.instanceMatrixNode=null,this.instanceColorNode=null}setup(){let t=this.instanceMatrixNode;const e=this.instanceMesh;if(t===null){const l=e.instanceMatrix,u=new yA(l.array,16,1),c=l.usage===Ff?Sy:My,h=[c(u,"vec4",16,0),c(u,"vec4",16,4),c(u,"vec4",16,8),c(u,"vec4",16,12)];t=Co(...h),this.instanceMatrixNode=t}const s=e.instanceColor;if(s&&this.instanceColorNode===null){const l=new iA(s.array,3),u=s.usage===Ff?Sy:My;this.instanceColorNode=E(u(l,"vec3",3,0))}const i=t.mul(Le).xyz,r=is(t[0].xyz,t[1].xyz,t[2].xyz),o=os.div(E(r[0].dot(r[0]),r[1].dot(r[1]),r[2].dot(r[2]))),a=r.mul(o).xyz;Le.assign(i),os.assign(a),this.instanceColorNode!==null&&hs("vec3","vInstanceColor").assign(this.instanceColorNode)}}const iR=R(wN);P("InstanceNode",wN);class Qt extends ${constructor(t=Qt.LOCAL){super(),this.scope=t}getHash(){return`tangent-${this.scope}`}getNodeType(){return this.scope===Qt.GEOMETRY?"vec4":"vec3"}generate(t){const e=this.scope;let s=null;if(e===Qt.GEOMETRY)s=Ee("tangent","vec4"),t.geometry.hasAttribute("tangent")===!1&&t.geometry.computeTangents();else if(e===Qt.LOCAL)s=Ut(zc.xyz);else if(e===Qt.VIEW){const i=Ar.mul(W(fh,0)).xyz;s=De(Ut(i))}else if(e===Qt.WORLD){const i=ph.transformDirection(Ks);s=De(Ut(i))}return s.build(t,this.getNodeType(t))}serialize(t){super.serialize(t),t.scope=this.scope}deserialize(t){super.deserialize(t),this.scope=t.scope}}Qt.GEOMETRY="geometry";Qt.LOCAL="local";Qt.VIEW="view";Qt.WORLD="world";const zc=V(Qt,Qt.GEOMETRY),fh=V(Qt,Qt.LOCAL),ph=V(Qt,Qt.VIEW),rR=V(Qt,Qt.WORLD),TN=xl(ph,"TransformedTangentView");De(TN.transformDirection(Ks));P("TangentNode",Qt);class MN extends ${constructor(t){super("void"),this.batchMesh=t,this.instanceColorNode=null,this.batchingIdNode=null}setup(t){this.batchingIdNode===null&&(this.batchingIdNode=Ee("batchId"));const e=this.batchMesh._matricesTexture,s=Xm(rr(e),0),i=N(T(this.batchingIdNode)).mul(4).toVar(),r=T(i.mod(s)),o=T(i).div(T(s)),a=Co(rr(e,cr(r,o)),rr(e,cr(r.add(1),o)),rr(e,cr(r.add(2),o)),rr(e,cr(r.add(3),o))),l=is(a[0].xyz,a[1].xyz,a[2].xyz);Le.assign(a.mul(Le));const u=os.div(E(l[0].dot(l[0]),l[1].dot(l[1]),l[2].dot(l[2]))),c=l.mul(u).xyz;os.assign(c),t.hasGeometryAttribute("tangent")&&fh.mulAssign(l)}}const oR=R(MN);P("batch",MN);class SN extends ${constructor(t,e=!1){super("void"),this.skinnedMesh=t,this.useReference=e,this.updateType=xt.OBJECT,this.skinIndexNode=Ee("skinIndex","uvec4"),this.skinWeightNode=Ee("skinWeight","vec4");let s,i,r;e?(s=rs("bindMatrix","mat4"),i=rs("bindMatrixInverse","mat4"),r=Ez("skeleton.boneMatrices","mat4",t.skeleton.bones.length)):(s=_t(t.bindMatrix,"mat4"),i=_t(t.bindMatrixInverse,"mat4"),r=Zm(t.skeleton.boneMatrices,"mat4",t.skeleton.bones.length)),this.bindMatrixNode=s,this.bindMatrixInverseNode=i,this.boneMatricesNode=r}setup(t){const{skinIndexNode:e,skinWeightNode:s,bindMatrixNode:i,bindMatrixInverseNode:r,boneMatricesNode:o}=this,a=o.element(e.x),l=o.element(e.y),u=o.element(e.z),c=o.element(e.w),h=i.mul(Le),d=vn(a.mul(s.x).mul(h),l.mul(s.y).mul(h),u.mul(s.z).mul(h),c.mul(s.w).mul(h)),f=r.mul(d).xyz;let m=vn(s.x.mul(a),s.y.mul(l),s.z.mul(u),s.w.mul(c));m=r.mul(m).mul(i);const p=m.transformDirection(os).xyz;Le.assign(f),os.assign(p),t.hasGeometryAttribute("tangent")&&fh.assign(p)}generate(t,e){if(e!=="void")return Le.build(t,e)}update(t){(this.useReference?t.object:this.skinnedMesh).skeleton.update()}}const aR=n=>B(new SN(n,!0));P("SkinningNode",SN);class AN extends ${constructor(t=[]){super(),this.params=t}getVarName(t){return String.fromCharCode(105+t)}getProperties(t){const e=t.getNodeProperties(this);if(e.stackNode!==void 0)return e;const s={};for(let i=0,r=this.params.length-1;i<r;i++){const o=this.params[i],a=o.isNode!==!0&&o.name||this.getVarName(i),l=o.isNode!==!0&&o.type||"int";s[a]=ch(a,l)}return e.returnsNode=this.params[this.params.length-1](s,t.addStack(),t),e.stackNode=t.removeStack(),e}getNodeType(t){const{returnsNode:e}=this.getProperties(t);return e?e.getNodeType(t):"void"}setup(t){this.getProperties(t)}generate(t){const e=this.getProperties(t),s={tempWrite:!1},i=this.params,r=e.stackNode;for(let l=0,u=i.length-1;l<u;l++){const c=i[l];let h=null,d=null,f=null,m=null,p=null,_=null;c.isNode?(m="int",f=this.getVarName(l),h="0",d=c.build(t,m),p="<"):(m=c.type||"int",f=c.name||this.getVarName(l),h=c.start,d=c.end,p=c.condition,_=c.update,typeof h=="number"?h=h.toString():h&&h.isNode&&(h=h.build(t,m)),typeof d=="number"?d=d.toString():d&&d.isNode&&(d=d.build(t,m)),h!==void 0&&d===void 0?(h=h+" - 1",d="0",p=">="):d!==void 0&&h===void 0&&(h="0",p="<"),p===void 0&&(Number(h)>Number(d)?p=">=":p="<"));const g={start:h,end:d,condition:p},y=g.start,x=g.end;let v="",w="",S="";_||(m==="int"||m==="uint"?p.includes("<")?_="++":_="--":p.includes("<")?_="+= 1.":_="-= 1."),v+=t.getVar(m,f)+" = "+y,w+=f+" "+p+" "+x,S+=f+" "+_;const M=`for ( ${v}; ${w}; ${S} )`;t.addFlowCode((l===0?`
`:"")+t.tab+M+` {

`).addFlowTab()}const o=Hs(r,s).build(t,"void"),a=e.returnsNode?e.returnsNode.build(t):"";t.removeFlowTab().addFlowCode(`
`+t.tab+o);for(let l=0,u=this.params.length-1;l<u;l++)t.addFlowCode((l===0?"":t.tab)+`}

`).removeFlowTab();return t.addFlowTab(),a}}const Mt=(...n)=>B(new AN(Ao(n,"int"))).append(),lR=()=>ch("break").append();z("loop",(n,...t)=>bv(n,Mt(...t)));P("LoopNode",AN);const Md=new WeakMap,an=new te,Ay=L(({bufferMap:n,influence:t,stride:e,width:s,depth:i,offset:r})=>{const o=T(vE).mul(e).add(r),a=o.div(s),l=o.sub(a.mul(s));return rr(n,cr(l,a)).depth(i).mul(t)});function uR(n){const t=n.morphAttributes.position!==void 0,e=n.morphAttributes.normal!==void 0,s=n.morphAttributes.color!==void 0,i=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,r=i!==void 0?i.length:0;let o=Md.get(n);if(o===void 0||o.count!==r){let y=function(){_.dispose(),Md.delete(n),n.removeEventListener("dispose",y)};var a=y;o!==void 0&&o.texture.dispose();const l=n.morphAttributes.position||[],u=n.morphAttributes.normal||[],c=n.morphAttributes.color||[];let h=0;t===!0&&(h=1),e===!0&&(h=2),s===!0&&(h=3);let d=n.attributes.position.count*h,f=1;const m=4096;d>m&&(f=Math.ceil(d/m),d=m);const p=new Float32Array(d*f*4*r),_=new O2(p,d,f,r);_.type=l_,_.needsUpdate=!0;const g=h*4;for(let x=0;x<r;x++){const v=l[x],w=u[x],S=c[x],M=d*f*4*x;for(let C=0;C<v.count;C++){const k=C*g;t===!0&&(an.fromBufferAttribute(v,C),p[M+k+0]=an.x,p[M+k+1]=an.y,p[M+k+2]=an.z,p[M+k+3]=0),e===!0&&(an.fromBufferAttribute(w,C),p[M+k+4]=an.x,p[M+k+5]=an.y,p[M+k+6]=an.z,p[M+k+7]=0),s===!0&&(an.fromBufferAttribute(S,C),p[M+k+8]=an.x,p[M+k+9]=an.y,p[M+k+10]=an.z,p[M+k+11]=S.itemSize===4?an.w:1)}}o={count:r,texture:_,stride:h,size:new nt(d,f)},Md.set(n,o),n.addEventListener("dispose",y)}return o}class CN extends ${constructor(t){super("void"),this.mesh=t,this.morphBaseInfluence=_t(1),this.updateType=xt.OBJECT}setup(t){const{geometry:e}=t,s=e.morphAttributes.position!==void 0,i=e.morphAttributes.normal!==void 0,r=e.morphAttributes.position||e.morphAttributes.normal||e.morphAttributes.color,o=r!==void 0?r.length:0,{texture:a,stride:l,size:u}=uR(e);s===!0&&Le.mulAssign(this.morphBaseInfluence),i===!0&&os.mulAssign(this.morphBaseInfluence);const c=T(u.width);Mt(o,({i:h})=>{const d=N(0).toVar();this.mesh.isInstancedMesh===!0&&this.mesh.morphTexture!==null&&this.mesh.morphTexture!==void 0?d.assign(rr(this.mesh.morphTexture,cr(T(h).add(1),T(Bv))).r):d.assign(rs("morphTargetInfluences","float").element(h).toVar()),s===!0&&Le.addAssign(Ay({bufferMap:a,influence:d,stride:l,width:c,depth:h,offset:T(0)})),i===!0&&os.addAssign(Ay({bufferMap:a,influence:d,stride:l,width:c,depth:h,offset:T(1)}))})}update(){const t=this.morphBaseInfluence;this.mesh.geometry.morphTargetsRelative?t.value=1:t.value=1-this.mesh.morphTargetInfluences.reduce((e,s)=>e+s,0)}}const cR=R(CN);P("MorphNode",CN);class EN extends ${constructor(){super("vec3")}getHash(){return"reflectVector"}setup(){return Pt.negate().reflect(jt).transformDirection(Ks)}}const hR=V(EN);P("ReflectVectorNode",EN);class zN extends ea{constructor(t,e=null,s=null){super(t,e,s),this.isCubeTextureNode=!0}getInputType(){return"cubeTexture"}getDefaultUV(){return hR}setUpdateMatrix(){}setupUV(t,e){const s=this.value;return t.renderer.coordinateSystem===ul||!s.isRenderTargetTexture?E(e.x.negate(),e.yz):e}generateUV(t,e){return e.build(t,"vec3")}}const RN=R(zN);z("cubeTexture",RN);P("CubeTextureNode",zN);class Il extends ${constructor(){super("vec3")}generate(){console.warn("Abstract function.")}}P("LightingNode",Il);let Na=null;class Ir extends Il{constructor(t=null){super(),this.updateType=xt.FRAME,this.light=t,this.rtt=null,this.shadowNode=null,this.shadowMaskNode=null,this.color=new bt,this._defaultColorNode=_t(this.color),this.colorNode=this._defaultColorNode,this.isAnalyticLightNode=!0}getCacheKey(){return super.getCacheKey()+"-"+(this.light.id+"-"+(this.light.castShadow?"1":"0"))}getHash(){return this.light.uuid}setupShadow(t){const{object:e}=t;if(e.receiveShadow===!1)return;let s=this.shadowNode;if(s===null){Na===null&&(Na=t.createNodeMaterial(),Na.fragmentNode=W(0,0,0,1),Na.isShadowNodeMaterial=!0);const i=this.light.shadow,r=t.createRenderTarget(i.mapSize.width,i.mapSize.height),o=new Jc;o.minFilter=Oi,o.magFilter=Oi,o.image.width=i.mapSize.width,o.image.height=i.mapSize.height,o.compareFunction=u2,r.depthTexture=o,i.camera.updateProjectionMatrix();const a=rs("bias","float",i),l=rs("normalBias","float",i),u=e.material.shadowPositionNode||cp;let c=_t(i.matrix).mul(u.add(mN.mul(l)));c=c.xyz.div(c.w);const h=c.x.greaterThanEqual(0).and(c.x.lessThanEqual(1)).and(c.y.greaterThanEqual(0)).and(c.y.lessThanEqual(1)).and(c.z.lessThanEqual(1));let d=c.z.add(a);t.renderer.coordinateSystem===ul&&(d=d.mul(2).sub(1)),c=E(c.x,c.y.oneMinus(),d),s=((_,g,y)=>yn(_,g).compare(y))(o,c.xy,c.z);const m=yn(r.texture,c),p=h.mix(1,s.mix(m.a.mix(1,m),1));this.rtt=r,this.colorNode=this.colorNode.mul(p),this.shadowNode=s,this.shadowMaskNode=p,this.updateBeforeType=xt.RENDER}}setup(t){this.light.castShadow?this.setupShadow(t):this.shadowNode!==null&&this.disposeShadow()}updateShadow(t){const{rtt:e,light:s}=this,{renderer:i,scene:r}=t,o=r.overrideMaterial;r.overrideMaterial=Na,e.setSize(s.shadow.mapSize.width,s.shadow.mapSize.height),s.shadow.updateMatrices(s);const a=i.toneMapping,l=i.getRenderTarget(),u=i.getRenderObjectFunction();i.setRenderObjectFunction((c,...h)=>{c.castShadow===!0&&i.renderObject(c,...h)}),i.setRenderTarget(e),i.toneMapping=fc,i.render(r,s.shadow.camera),i.setRenderTarget(l),i.setRenderObjectFunction(u),i.toneMapping=a,r.overrideMaterial=o}disposeShadow(){this.rtt.dispose(),this.shadowNode=null,this.shadowMaskNode=null,this.rtt=null,this.colorNode=this._defaultColorNode}updateBefore(t){const{light:e}=this;e.castShadow&&this.updateShadow(t)}update(){const{light:t}=this;this.color.copy(t.color).multiplyScalar(t.intensity)}}P("AnalyticLightNode",Ir);const Rc=new WeakMap,dR=n=>n.sort((t,e)=>t.id-e.id);class fR extends ${constructor(t=[]){super("vec3"),this.totalDiffuseNode=E().temp("totalDiffuse"),this.totalSpecularNode=E().temp("totalSpecular"),this.outgoingLightNode=E().temp("outgoingLight"),this.lightNodes=t,this._hash=null}get hasLight(){return this.lightNodes.length>0}getHash(){if(this._hash===null){const t=[];for(const e of this.lightNodes)t.push(e.getHash());this._hash="lights-"+t.join(",")}return this._hash}setup(t){const e=t.context,s=e.lightingModel;let i=this.outgoingLightNode;if(s){const{lightNodes:r,totalDiffuseNode:o,totalSpecularNode:a}=this;e.outgoingLight=i;const l=t.addStack();s.start(e,l,t);for(const _ of r)_.build(t);s.indirectDiffuse(e,l,t),s.indirectSpecular(e,l,t),s.ambientOcclusion(e,l,t);const{backdrop:u,backdropAlpha:c}=e,{directDiffuse:h,directSpecular:d,indirectDiffuse:f,indirectSpecular:m}=e.reflectedLight;let p=h.add(f);u!==null&&(c!==null?p=E(c.mix(p,u)):p=E(u),e.material.transparent=!0),o.assign(p),a.assign(d.add(m)),i.assign(o.add(a)),s.finish(e,l,t),i=i.bypass(t.removeStack())}return i}_getLightNodeById(t){for(const e of this.lightNodes)if(e.isAnalyticLightNode&&e.light.id===t)return e;return null}fromLights(t=[]){const e=[];t=dR(t);for(const s of t){let i=this._getLightNodeById(s.id);if(i===null){const r=s.constructor,o=Rc.has(r)?Rc.get(r):Ir;i=B(new o(s))}e.push(i)}return this.lightNodes=e,this._hash=null,this}}const pR=R(fR);function sa(n,t){if(Rc.has(n)){console.warn(`Redefinition of light node ${t.type}`);return}if(typeof n!="function")throw new Error(`Light ${n.name} is not a class`);if(typeof t!="function"||!t.type)throw new Error(`Light node ${t.type} is not a class`);Rc.set(n,t)}class kN extends Il{constructor(t=null){super(),this.aoNode=t}setup(t){const s=this.aoNode.x.sub(1).mul(1).add(1);t.context.ambientOcclusion.mulAssign(s)}}P("AONode",kN);class ON extends jm{constructor(t,e=null,s=null,i=null){super(t),this.lightingModel=e,this.backdropNode=s,this.backdropAlphaNode=i,this._context=null}getContext(){const{backdropNode:t,backdropAlphaNode:e}=this,s=E().temp("directDiffuse"),i=E().temp("directSpecular"),r=E().temp("indirectDiffuse"),o=E().temp("indirectSpecular"),a={directDiffuse:s,directSpecular:i,indirectDiffuse:r,indirectSpecular:o};return{radiance:E().temp("radiance"),irradiance:E().temp("irradiance"),iblIrradiance:E().temp("iblIrradiance"),ambientOcclusion:N(1).temp("ambientOcclusion"),reflectedLight:a,backdrop:t,backdropAlpha:e}}setup(t){return this.context=this._context||(this._context=this.getContext()),this.context.lightingModel=this.lightingModel||t.context.lightingModel,super.setup(t)}}const LN=R(ON);z("lightingContext",LN);P("LightingContextNode",ON);class ne extends ${constructor(t=ne.LOCAL){super("vec3"),this.scope=t}getHash(){return`bitangent-${this.scope}`}generate(t){const e=this.scope;let s;e===ne.GEOMETRY?s=Ec.cross(zc):e===ne.LOCAL?s=os.cross(fh):e===ne.VIEW?s=Vi.cross(ph):e===ne.WORLD&&(s=mN.cross(rR));const i=s.mul(zc.w).xyz;return De(Ut(i)).build(t,this.getNodeType(t))}serialize(t){super.serialize(t),t.scope=this.scope}deserialize(t){super.deserialize(t),this.scope=t.scope}}ne.GEOMETRY="geometry";ne.LOCAL="local";ne.VIEW="view";ne.WORLD="world";V(ne,ne.GEOMETRY);V(ne,ne.LOCAL);const mR=V(ne,ne.VIEW);V(ne,ne.WORLD);const gR=De(jt.cross(TN).mul(zc.w));De(gR.transformDirection(Ks));P("BitangentNode",ne);const mo=is(ph,mR,Vi);Pt.mul(mo);const yR=(()=>{let n=Eo.cross(Pt);return n=n.cross(Eo).normalize(),n=ve(n,jt,sr.mul(xi.oneMinus()).oneMinus().pow2().pow2()).normalize(),n})();class Qm extends ${constructor(t,e,s=null){super(),this.condNode=t,this.ifNode=e,this.elseNode=s}getNodeType(t){const e=this.ifNode.getNodeType(t);if(this.elseNode!==null){const s=this.elseNode.getNodeType(t);if(t.getTypeLength(s)>t.getTypeLength(e))return s}return e}generate(t,e){const s=this.getNodeType(t),i={tempWrite:!1},r=t.getDataFromNode(this);if(r.nodeProperty!==void 0)return r.nodeProperty;const{ifNode:o,elseNode:a}=this,l=e!=="void",u=l?me(s).build(t):"";r.nodeProperty=u;const c=Hs(this.condNode).build(t,"bool");t.addFlowCode(`
${t.tab}if ( ${c} ) {

`).addFlowTab();let h=Hs(o,i).build(t,s);if(h&&(l?h=u+" = "+h+";":h="return "+h+";"),t.removeFlowTab().addFlowCode(t.tab+"	"+h+`

`+t.tab+"}"),a!==null){t.addFlowCode(` else {

`).addFlowTab();let d=Hs(a,i).build(t,s);d&&(l?d=u+" = "+d+";":d="return "+d+";"),t.removeFlowTab().addFlowCode(t.tab+"	"+d+`

`+t.tab+`}

`)}else t.addFlowCode(`

`);return t.format(u,s,e)}}const pn=R(Qm);z("cond",pn);P("CondNode",Qm);const Cy=N(1),hp=N(-2),wu=N(.8),Sd=N(-1),Tu=N(.4),Ad=N(2),Mu=N(.305),Cd=N(3),Ey=N(.21),xR=N(4),zy=N(4),_R=N(16),vR=L(([n])=>{const t=E(Zt(n)).toVar(),e=N(-1).toVar();return tt(t.x.greaterThan(t.z),()=>{tt(t.x.greaterThan(t.y),()=>{e.assign(pn(n.x.greaterThan(0),0,3))}).else(()=>{e.assign(pn(n.y.greaterThan(0),1,4))})}).else(()=>{tt(t.z.greaterThan(t.y),()=>{e.assign(pn(n.z.greaterThan(0),2,5))}).else(()=>{e.assign(pn(n.y.greaterThan(0),1,4))})}),e}).setLayout({name:"getFace",type:"float",inputs:[{name:"direction",type:"vec3"}]}),NR=L(([n,t])=>{const e=H().toVar();return tt(t.equal(0),()=>{e.assign(H(n.z,n.y).div(Zt(n.x)))}).elseif(t.equal(1),()=>{e.assign(H(n.x.negate(),n.z.negate()).div(Zt(n.y)))}).elseif(t.equal(2),()=>{e.assign(H(n.x.negate(),n.y).div(Zt(n.z)))}).elseif(t.equal(3),()=>{e.assign(H(n.z.negate(),n.y).div(Zt(n.x)))}).elseif(t.equal(4),()=>{e.assign(H(n.x.negate(),n.z).div(Zt(n.y)))}).else(()=>{e.assign(H(n.x,n.y).div(Zt(n.z)))}),st(.5,e.add(1))}).setLayout({name:"getUV",type:"vec2",inputs:[{name:"direction",type:"vec3"},{name:"face",type:"float"}]}),wR=L(([n])=>{const t=N(0).toVar();return tt(n.greaterThanEqual(wu),()=>{t.assign(Cy.sub(n).mul(Sd.sub(hp)).div(Cy.sub(wu)).add(hp))}).elseif(n.greaterThanEqual(Tu),()=>{t.assign(wu.sub(n).mul(Ad.sub(Sd)).div(wu.sub(Tu)).add(Sd))}).elseif(n.greaterThanEqual(Mu),()=>{t.assign(Tu.sub(n).mul(Cd.sub(Ad)).div(Tu.sub(Mu)).add(Ad))}).elseif(n.greaterThanEqual(Ey),()=>{t.assign(Mu.sub(n).mul(xR.sub(Cd)).div(Mu.sub(Ey)).add(Cd))}).else(()=>{t.assign(N(-2).mul(lh(st(1.16,n))))}),t}).setLayout({name:"roughnessToMip",type:"float",inputs:[{name:"roughness",type:"float"}]});L(([n,t])=>{const e=n.toVar();e.assign(st(2,e).sub(1));const s=E(e,1).toVar();return tt(t.equal(0),()=>{s.assign(s.zyx)}).elseif(t.equal(1),()=>{s.assign(s.xzy),s.xz.mulAssign(-1)}).elseif(t.equal(2),()=>{s.x.mulAssign(-1)}).elseif(t.equal(3),()=>{s.assign(s.zyx),s.xz.mulAssign(-1)}).elseif(t.equal(4),()=>{s.assign(s.xzy),s.xy.mulAssign(-1)}).elseif(t.equal(5),()=>{s.z.mulAssign(-1)}),s}).setLayout({name:"getDirection",type:"vec3",inputs:[{name:"uv",type:"vec2"},{name:"face",type:"float"}]});const TR=L(([n,t,e,s,i,r])=>{const o=N(e),a=E(t),l=qo(wR(o),hp,r),u=uh(l),c=Ko(l),h=E(dp(n,a,c,s,i,r)).toVar();return tt(u.notEqual(0),()=>{const d=E(dp(n,a,c.add(1),s,i,r)).toVar();h.assign(ve(h,d,u))}),h}),dp=L(([n,t,e,s,i,r])=>{const o=N(e).toVar(),a=E(t),l=N(vR(a)).toVar(),u=N(Nn(zy.sub(o),0)).toVar();o.assign(Nn(o,zy));const c=N(op(o)).toVar(),h=H(NR(a,l).mul(c.sub(2)).add(1)).toVar();return tt(l.greaterThan(2),()=>{h.y.addAssign(c),l.subAssign(3)}),h.x.addAssign(l.mul(c)),h.x.addAssign(u.mul(st(3,_R))),h.y.addAssign(st(4,op(r).sub(c))),h.x.mulAssign(s),h.y.mulAssign(i),n.uv(h).grad(H(),H())}),Ed=L(({envMap:n,mipInt:t,outputDirection:e,theta:s,axis:i,CUBEUV_TEXEL_WIDTH:r,CUBEUV_TEXEL_HEIGHT:o,CUBEUV_MAX_MIP:a})=>{const l=ui(s),u=e.mul(l).add(i.cross(e).mul(bs(s))).add(i.mul(i.dot(e).mul(l.oneMinus())));return dp(n,u,t,r,o,a)});L(({n,latitudinal:t,poleAxis:e,outputDirection:s,weights:i,samples:r,dTheta:o,mipInt:a,envMap:l,CUBEUV_TEXEL_WIDTH:u,CUBEUV_TEXEL_HEIGHT:c,CUBEUV_MAX_MIP:h})=>{const d=E(pn(t,e,sN(e,s))).toVar();tt(Jv(d.equals(E(0))),()=>{d.assign(E(s.z,0,s.x.negate()))}),d.assign(De(d));const f=E().toVar();return f.addAssign(i.element(T(0)).mul(Ed({theta:0,axis:d,outputDirection:s,mipInt:a,envMap:l,CUBEUV_TEXEL_WIDTH:u,CUBEUV_TEXEL_HEIGHT:c,CUBEUV_MAX_MIP:h}))),Mt({start:T(1),end:n},({i:m})=>{tt(m.greaterThanEqual(r),()=>{lR()});const p=N(o.mul(N(m))).toVar();f.addAssign(i.element(m).mul(Ed({theta:p.mul(-1),axis:d,outputDirection:s,mipInt:a,envMap:l,CUBEUV_TEXEL_WIDTH:u,CUBEUV_TEXEL_HEIGHT:c,CUBEUV_MAX_MIP:h}))),f.addAssign(i.element(m).mul(Ed({theta:p,axis:d,outputDirection:s,mipInt:a,envMap:l,CUBEUV_TEXEL_WIDTH:u,CUBEUV_TEXEL_HEIGHT:c,CUBEUV_MAX_MIP:h})))}),W(f,1)});let kc=null;const Ry=new WeakMap;function MR(n){const t=Math.log2(n)-2,e=1/n;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:e,maxMip:t}}function SR(n){let t=Ry.get(n);if((t!==void 0?t.pmremVersion:-1)!==n.pmremVersion){if(n.isCubeTexture){if(n.source.data.some(s=>s===void 0))throw new Error("PMREMNode: Undefined texture in CubeTexture. Use onLoad callback or async loader");t=kc.fromCubemap(n,t)}else{if(n.image===void 0)throw new Error("PMREMNode: Undefined image in Texture. Use onLoad callback or async loader");t=kc.fromEquirectangular(n,t)}t.pmremVersion=n.pmremVersion,Ry.set(n,t)}return t.texture}class IN extends vt{constructor(t,e=null,s=null){super("vec3"),this._value=t,this._pmrem=null,this.uvNode=e,this.levelNode=s,this._generator=null,this._texture=yn(null),this._width=_t(0),this._height=_t(0),this._maxMip=_t(0),this.updateBeforeType=xt.RENDER}set value(t){this._value=t,this._pmrem=null}get value(){return this._value}updateFromTexture(t){const e=MR(t.image.height);this._texture.value=t,this._width.value=e.texelWidth,this._height.value=e.texelHeight,this._maxMip.value=e.maxMip}updateBefore(){let t=this._pmrem;const e=t?t.pmremVersion:-1,s=this._value;e!==s.pmremVersion&&(s.isPMREMTexture===!0?t=s:t=SR(s),this._pmrem=t,this.updateFromTexture(t))}setup(t){kc===null&&(kc=t.createPMREMGenerator()),this.updateBefore(t);let e=this.uvNode;e===null&&t.context.getUV&&(e=t.context.getUV(this));const s=this.value;t.renderer.coordinateSystem===Us&&s.isPMREMTexture!==!0&&s.isRenderTargetTexture===!0&&(e=E(e.x.negate(),e.yz));let i=this.levelNode;return i===null&&t.context.getTextureLevel&&(i=t.context.getTextureLevel(this)),TR(this._texture,e,i,this._width,this._height,this._maxMip)}}const AR=R(IN);P("PMREMNode",IN);const ky=new WeakMap;class PN extends Il{constructor(t=null){super(),this.envNode=t}setup(t){let e=this.envNode;if(e.isTextureNode){let d=ky.get(e.value);d===void 0&&(d=AR(e.value),ky.set(e.value,d)),e=d}const{material:s}=t,r=s.envMap?rs("envMapIntensity","float",t.material):rs("environmentIntensity","float",t.scene),a=s.useAnisotropy===!0||s.anisotropy>0?yR:jt,l=Hs(e,Oy(xi,a)).mul(r),u=Hs(e,CR(gN)).mul(Math.PI).mul(r),c=Tc(l);t.context.radiance.addAssign(c),t.context.iblIrradiance.addAssign(u);const h=t.context.lightingModel.clearcoatRadiance;if(h){const d=Hs(e,Oy(Sc,po)).mul(r),f=Tc(d);h.addAssign(f)}}}const Oy=(n,t)=>{let e=null;return{getUV:()=>(e===null&&(e=Pt.negate().reflect(t),e=n.mul(n).mix(e,t).normalize(),e=e.transformDirection(Ks)),e),getTextureLevel:()=>n}},CR=n=>({getUV:()=>n,getTextureLevel:()=>N(1)});P("EnvironmentNode",PN);class VN extends Il{constructor(t){super(),this.node=t}setup(t){t.context.irradiance.addAssign(this.node)}}P("IrradianceNode",VN);let zd,Rd;class at extends ${constructor(t){super(),this.scope=t,this.isViewportNode=!0}getNodeType(){return this.scope===at.VIEWPORT?"vec4":this.scope===at.COORDINATE?"vec3":"vec2"}getUpdateType(){let t=xt.NONE;return(this.scope===at.RESOLUTION||this.scope===at.VIEWPORT)&&(t=xt.FRAME),this.updateType=t,t}update({renderer:t}){this.scope===at.VIEWPORT?t.getViewport(Rd):t.getDrawingBufferSize(zd)}setup(){const t=this.scope;let e=null;if(t===at.RESOLUTION)e=_t(zd||(zd=new nt));else if(t===at.VIEWPORT)e=_t(Rd||(Rd=new te));else{e=ER.div(fp);let s=e.x,i=e.y;/bottom/i.test(t)&&(i=i.oneMinus()),/right/i.test(t)&&(s=s.oneMinus()),e=H(s,i)}return e}generate(t){if(this.scope===at.COORDINATE){let e=t.getFragCoord();if(t.isFlipY()){const s=t.getNodeProperties(fp).outputNode.build(t);e=`${t.getType("vec3")}( ${e}.x, ${s}.y - ${e}.y, ${e}.z )`}return e}return super.generate(t)}}at.COORDINATE="coordinate";at.RESOLUTION="resolution";at.VIEWPORT="viewport";at.TOP_LEFT="topLeft";at.BOTTOM_LEFT="bottomLeft";at.TOP_RIGHT="topRight";at.BOTTOM_RIGHT="bottomRight";const ER=V(at,at.COORDINATE),fp=V(at,at.RESOLUTION),Ro=V(at,at.VIEWPORT),Nl=V(at,at.TOP_LEFT);V(at,at.BOTTOM_LEFT);V(at,at.TOP_RIGHT);V(at,at.BOTTOM_RIGHT);P("ViewportNode",at);const wa=new nt;class Pl extends ea{constructor(t=Nl,e=null,s=null){s===null&&(s=new w_,s.minFilter=a_),super(s,t,e),this.generateMipmaps=!1,this.isOutputTextureNode=!0,this.updateBeforeType=xt.FRAME}updateBefore(t){const e=t.renderer;e.getDrawingBufferSize(wa);const s=this.value;(s.image.width!==wa.width||s.image.height!==wa.height)&&(s.image.width=wa.width,s.image.height=wa.height,s.needsUpdate=!0);const i=s.generateMipmaps;s.generateMipmaps=this.generateMipmaps,e.copyFramebufferToTexture(s),s.generateMipmaps=i}clone(){const t=new this.constructor(this.uvNode,this.levelNode,this.value);return t.generateMipmaps=this.generateMipmaps,t}}const zR=R(Pl),FN=R(Pl,null,null,{generateMipmaps:!0});z("viewportTexture",zR);z("viewportMipTexture",FN);P("ViewportTextureNode",Pl);let kd=null;class bN extends Pl{constructor(t=Nl,e=null){kd===null&&(kd=new Jc),super(t,e,kd)}}const DN=R(bN);z("viewportDepthTexture",DN);P("ViewportDepthTextureNode",bN);class ge extends ${constructor(t,e=null){super("float"),this.scope=t,this.valueNode=e,this.isViewportDepthNode=!0}generate(t){const{scope:e}=this;return e===ge.DEPTH_PIXEL?t.getFragDepth():super.generate(t)}setup(){const{scope:t}=this;let e=null;if(t===ge.DEPTH)e=pp(fn.z,Nd,wd);else if(t===ge.DEPTH_TEXTURE){const s=this.valueNode||DN(),i=BN(s,Nd,wd);e=pp(i,Nd,wd)}else t===ge.DEPTH_PIXEL&&this.valueNode!==null&&(e=UN().assign(this.valueNode));return e}}const pp=(n,t,e)=>n.add(t).div(t.sub(e)),BN=(n,t,e)=>t.mul(e).div(e.sub(t).mul(n).sub(e));ge.DEPTH="depth";ge.DEPTH_TEXTURE="depthTexture";ge.DEPTH_PIXEL="depthPixel";const UN=R(ge,ge.DEPTH_PIXEL);V(ge,ge.DEPTH);R(ge,ge.DEPTH_TEXTURE);const jN=V(ge,ge.DEPTH_PIXEL);jN.assign=n=>UN(n);P("ViewportDepthNode",ge);class Fi extends ${constructor(t=Fi.DEFAULT){super(),this.scope=t}setup(t){super.setup(t);const e=t.clippingContext,{localClipIntersection:s,localClippingCount:i,globalClippingCount:r}=e,o=r+i,a=s?o-i:o;return this.scope===Fi.ALPHA_TO_COVERAGE?this.setupAlphaToCoverage(e.planes,o,a):this.setupDefault(e.planes,o,a)}setupAlphaToCoverage(t,e,s){return L(()=>{const i=ap(t),r=me("float","distanceToPlane"),o=me("float","distanceToGradient"),a=me("float","clipOpacity");a.assign(1);let l;if(Mt(s,({i:u})=>{l=i.element(u),r.assign(fn.dot(l.xyz).negate().add(l.w)),o.assign(r.fwidth().div(2)),a.mulAssign(Qs(o.negate(),o,r)),a.equal(0).discard()}),s<e){const u=me("float","unionclipOpacity");u.assign(1),Mt({start:s,end:e},({i:c})=>{l=i.element(c),r.assign(fn.dot(l.xyz).negate().add(l.w)),o.assign(r.fwidth().div(2)),u.mulAssign(Qs(o.negate(),o,r).oneMinus())}),a.mulAssign(u.oneMinus())}It.a.mulAssign(a),It.a.equal(0).discard()})()}setupDefault(t,e,s){return L(()=>{const i=ap(t);let r;if(Mt(s,({i:o})=>{r=i.element(o),fn.dot(r.xyz).greaterThan(r.w).discard()}),s<e){const o=me("bool","clipped");o.assign(!0),Mt({start:s,end:e},({i:a})=>{r=i.element(a),o.assign(fn.dot(r.xyz).greaterThan(r.w).and(o))}),o.discard()}})()}}Fi.ALPHA_TO_COVERAGE="alphaToCoverage";Fi.DEFAULT="default";const RR=()=>B(new Fi),kR=()=>B(new Fi(Fi.ALPHA_TO_COVERAGE));class WN extends ${constructor(){super("bool"),this.isFrontFacingNode=!0}generate(t){const{renderer:e,material:s}=t;return e.coordinateSystem===Us&&s.side===i_?"false":t.getFrontFacing()}}const OR=V(WN),Oc=N(OR).mul(2).sub(1);P("FrontFacingNode",WN);const mp=new Map;class Mn extends J2{constructor(){super(),this.isNodeMaterial=!0,this.type=this.constructor.type,this.forceSinglePass=!1,this.fog=!0,this.lights=!0,this.normals=!0,this.lightsNode=null,this.envNode=null,this.aoNode=null,this.colorNode=null,this.normalNode=null,this.opacityNode=null,this.backdropNode=null,this.backdropAlphaNode=null,this.alphaTestNode=null,this.positionNode=null,this.depthNode=null,this.shadowNode=null,this.shadowPositionNode=null,this.outputNode=null,this.fragmentNode=null,this.vertexNode=null}customProgramCacheKey(){return this.type+Av(this)}build(t){this.setup(t)}setup(t){t.addStack(),t.stack.outputNode=this.vertexNode||this.setupPosition(t),t.addFlow("vertex",t.removeStack()),t.addStack();let e;const s=this.setupClipping(t);if(this.depthWrite===!0&&this.setupDepth(t),this.fragmentNode===null){this.normals===!0&&this.setupNormal(t),this.setupDiffuseColor(t),this.setupVariants(t);const i=this.setupLighting(t);s!==null&&t.stack.add(s);const r=W(i,It.a).max(0);e=this.setupOutput(t,r),NE.assign(e),this.outputNode!==null&&(e=this.outputNode)}else{let i=this.fragmentNode;i.isOutputStructNode!==!0&&(i=W(i)),e=this.setupOutput(t,i)}t.stack.outputNode=e,t.addFlow("fragment",t.removeStack())}setupClipping(t){if(t.clippingContext===null)return null;const{globalClippingCount:e,localClippingCount:s}=t.clippingContext;let i=null;return(e||s)&&(this.alphaToCoverage?i=kR():t.stack.add(RR())),i}setupDepth(t){const{renderer:e}=t;let s=this.depthNode;s===null&&e.logarithmicDepthBuffer===!0&&(s=Ty().w.add(1).log2().mul(zz).mul(.5)),s!==null&&jN.assign(s).append()}setupPosition(t){const{object:e}=t,s=e.geometry;t.addStack(),(s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color)&&cR(e).append(),e.isSkinnedMesh===!0&&aR(e).append(),e.isBatchedMesh&&oR(e).append(),e.instanceMatrix&&e.instanceMatrix.isInstancedBufferAttribute===!0&&t.isAvailable("instance")===!0&&iR(e).append(),this.positionNode!==null&&Le.assign(this.positionNode);const i=Ty();return t.context.vertex=t.removeStack(),t.context.mvp=i,i}setupDiffuseColor({object:t,geometry:e}){let s=this.colorNode?W(this.colorNode):vl;this.vertexColors===!0&&e.hasAttribute("color")&&(s=W(s.xyz.mul(Ee("color","vec3")),s.a)),t.instanceColor&&(s=hs("vec3","vInstanceColor").mul(s)),It.assign(s);const i=this.opacityNode?N(this.opacityNode):yN;if(It.a.assign(It.a.mul(i)),this.alphaTestNode!==null||this.alphaTest>0){const r=this.alphaTestNode!==null?N(this.alphaTestNode):kz;It.a.lessThanEqual(r).discard()}}setupVariants(){}setupNormal(){if(this.flatShading===!0){const t=fn.dFdx().cross(fn.dFdy()).normalize();jt.assign(t.mul(Oc))}else{const t=this.normalNode?E(this.normalNode):Dz;jt.assign(t.mul(Oc))}}getEnvNode(t){let e=null;return this.envNode?e=this.envNode:this.envMap?e=this.envMap.isCubeTexture?RN(this.envMap):yn(this.envMap):t.environmentNode&&(e=t.environmentNode),e}setupLights(t){const e=this.getEnvNode(t),s=[];if(e&&s.push(new PN(e)),t.material.lightMap&&s.push(new VN(dN("lightMap","texture"))),this.aoNode!==null||t.material.aoMap){const r=this.aoNode!==null?this.aoNode:yn(t.material.aoMap);s.push(new kN(r))}let i=this.lightsNode||t.lightsNode;return s.length>0&&(i=pR([...i.lightNodes,...s])),i}setupLightingModel(){}setupLighting(t){const{material:e}=t,{backdropNode:s,backdropAlphaNode:i,emissiveNode:r}=this,a=this.lights===!0||this.lightsNode!==null?this.setupLights(t):null;let l=It.rgb;if(a&&a.hasLight!==!1){const u=this.setupLightingModel(t);l=LN(a,u,s,i)}else s!==null&&(l=E(i!==null?ve(l,s,i):s));return(r&&r.isNode===!0||e.emissive&&e.emissive.isColor===!0)&&(l=l.add(E(r||Lz))),l}setupOutput(t,e){const s=t.fogNode;return s&&(e=W(s.mix(e.rgb,s.colorNode),e.a)),e}setDefaultValues(t){for(const s in t){const i=t[s];this[s]===void 0&&(this[s]=i,i&&i.clone&&(this[s]=i.clone()))}Object.assign(this.defines,t.defines);const e=Object.getOwnPropertyDescriptors(t.constructor.prototype);for(const s in e)Object.getOwnPropertyDescriptor(this.constructor.prototype,s)===void 0&&e[s].get!==void 0&&Object.defineProperty(this.constructor.prototype,s,e[s])}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{},nodes:{}});const s=as.prototype.toJSON.call(this,t),i=wc(this);s.inputNodes={};for(const{property:o,childNode:a}of i)s.inputNodes[o]=a.toJSON(t).uuid;function r(o){const a=[];for(const l in o){const u=o[l];delete u.metadata,a.push(u)}return a}if(e){const o=r(t.textures),a=r(t.images),l=r(t.nodes);o.length>0&&(s.textures=o),a.length>0&&(s.images=a),l.length>0&&(s.nodes=l)}return s}copy(t){return this.lightsNode=t.lightsNode,this.envNode=t.envNode,this.colorNode=t.colorNode,this.normalNode=t.normalNode,this.opacityNode=t.opacityNode,this.backdropNode=t.backdropNode,this.backdropAlphaNode=t.backdropAlphaNode,this.alphaTestNode=t.alphaTestNode,this.positionNode=t.positionNode,this.depthNode=t.depthNode,this.shadowNode=t.shadowNode,this.shadowPositionNode=t.shadowPositionNode,this.outputNode=t.outputNode,this.fragmentNode=t.fragmentNode,this.vertexNode=t.vertexNode,super.copy(t)}static fromMaterial(t){if(t.isNodeMaterial===!0)return t;const e=t.type.replace("Material","NodeMaterial"),s=LR(e);if(s===void 0)throw new Error(`NodeMaterial: Material "${t.type}" is not compatible.`);for(const i in t)s[i]=t[i];return s}}function je(n,t){if(typeof t!="function"||!n)throw new Error(`Node material ${n} is not a class`);if(mp.has(n)){console.warn(`Redefinition of node material ${n}`);return}mp.set(n,t),t.type=n}function LR(n){const t=mp.get(n);if(t!==void 0)return new t}je("NodeMaterial",Mn);class HN extends ${constructor(t=null){super(),this.nodes=[],this.outputNode=null,this.parent=t,this._currentCond=null,this.isStackNode=!0}getNodeType(t){return this.outputNode?this.outputNode.getNodeType(t):"void"}add(t){return this.nodes.push(t),this}if(t,e){const s=new Ha(e);return this._currentCond=pn(t,s),this.add(this._currentCond)}elseif(t,e){const s=new Ha(e),i=pn(t,s);return this._currentCond.elseNode=i,this._currentCond=i,this}else(t){return this._currentCond.elseNode=new Ha(t),this}build(t,...e){const s=qC();yy(this);for(const i of this.nodes)i.build(t,"void");return yy(s),this.outputNode?this.outputNode.build(t,...e):super.build(t,...e)}}R(HN);P("StackNode",HN);class $N extends vt{constructor(t=nR){super("vec2"),this.dirNode=t}setup(){const t=this.dirNode,e=t.z.atan2(t.x).mul(1/(Math.PI*2)).add(.5),s=t.y.clamp(-1,1).asin().mul(1/Math.PI).add(.5);return H(e,s)}}R($N);P("EquirectUVNode",$N);class GN extends ${constructor(t){super(),this.types=t,this.isStructTypeNode=!0}getMemberTypes(){return this.types}}P("StructTypeNode",GN);class qN extends ${constructor(...t){super(),this.members=t,this.isOutputStructNode=!0}setup(t){super.setup(t);const e=this.members,s=[];for(let i=0;i<e.length;i++)s.push(e[i].getNodeType(t));this.nodeType=t.getStructTypeFromNode(new GN(s)).name}generate(t,e){const s=t.getVarFromNode(this);s.isOutputStructVar=!0;const i=t.getPropertyName(s),r=this.members,o=i!==""?i+".":"";for(let a=0;a<r.length;a++){const l=r[a].build(t,e);t.addLineFlowCode(`${o}m${a} = ${l}`)}return i}}R(qN);P("OutputStructNode",qN);class XN extends ${constructor(t){super(),this.seedNode=t}setup(){const t=this.seedNode.uint().mul(747796405).add(2891336453),e=t.shiftRight(t.shiftRight(28).add(4)).bitXor(t).mul(277803737);return e.shiftRight(22).bitXor(e).float().mul(1/2**32)}}const IR=R(XN);z("hash",IR);P("HashNode",XN);const gp=(n,t)=>_s(st(4,n.mul(qt(1,n))),t),PR=(n,t)=>n.lessThan(.5)?gp(n.mul(2),t).div(2):qt(1,gp(st(qt(1,n),2),t).div(2)),VR=(n,t,e)=>_s(Pi(_s(n,t),vn(_s(n,t),_s(qt(1,n),e))),1/t),FR=(n,t)=>bs(xy.mul(t.mul(n).sub(1))).div(xy.mul(t.mul(n).sub(1)));z("parabola",gp);z("gain",PR);z("pcurve",VR);z("sinc",FR);const ps=L(([n])=>n.fract().sub(.5).abs()),YN=L(([n])=>E(ps(n.z.add(ps(n.y.mul(1)))),ps(n.z.add(ps(n.x.mul(1)))),ps(n.y.add(ps(n.x.mul(1)))))),bR=L(([n,t,e])=>{const s=E(n).toVar(),i=N(1.4).toVar(),r=N(0).toVar(),o=E(s).toVar();return Mt({start:N(0),end:N(3),type:"float",condition:"<="},()=>{const a=E(YN(o.mul(2))).toVar();s.addAssign(a.add(e.mul(N(.1).mul(t)))),o.mulAssign(1.8),i.mulAssign(1.5),s.mulAssign(1.2);const l=N(ps(s.z.add(ps(s.x.add(ps(s.y)))))).toVar();r.addAssign(l.div(i)),o.addAssign(.14)}),r});ps.setLayout({name:"tri",type:"float",inputs:[{name:"x",type:"float"}]});YN.setLayout({name:"tri3",type:"vec3",inputs:[{name:"p",type:"vec3"}]});bR.setLayout({name:"triNoise3D",type:"float",inputs:[{name:"p",type:"vec3"},{name:"spd",type:"float"},{name:"time",type:"float"}]});let Od;class ZN extends Qm{constructor(t){Od=Od||ch("discard"),super(t,Od)}}const DR=R(ZN),BR=n=>DR(n).append();z("discard",BR);P("DiscardNode",ZN);class QN extends ${constructor(t=[],...e){super(),this.functionNodes=t,this.parametersNodes=e,this._candidateFnCall=null}getNodeType(){return this.functionNodes[0].shaderNode.layout.type}setup(t){const e=this.parametersNodes;let s=this._candidateFnCall;if(s===null){let i=null,r=-1;for(const o of this.functionNodes){const l=o.shaderNode.layout;if(l===null)throw new Error("FunctionOverloadingNode: FunctionNode must be a layout.");const u=l.inputs;if(e.length===u.length){let c=0;for(let h=0;h<e.length;h++){const d=e[h],f=u[h];d.getNodeType(t)===f.type?c++:c=0}c>r&&(i=o,r=c)}}this._candidateFnCall=s=i(...e)}return s}}const UR=R(QN),Bn=n=>(...t)=>UR(n,...t);P("FunctionOverloadingNode",QN);class JN extends vt{constructor(){super("vec2")}setup(){const t=E(Pt.z,0,Pt.x.negate()).normalize(),e=Pt.cross(t);return H(t.dot(jt),e.dot(jt)).mul(.495).add(.5)}}V(JN);P("MatcapUVNode",JN);class qe extends Or{constructor(t=qe.LOCAL,e=1,s=0){super(s),this.scope=t,this.scale=e,this.updateType=xt.FRAME}update(t){const e=this.scope,s=this.scale;e===qe.LOCAL?this.value+=t.deltaTime*s:e===qe.DELTA?this.value=t.deltaTime*s:e===qe.FRAME?this.value=t.frameId:this.value=t.time*s}serialize(t){super.serialize(t),t.scope=this.scope,t.scale=this.scale}deserialize(t){super.deserialize(t),this.scope=t.scope,this.scale=t.scale}}qe.LOCAL="local";qe.GLOBAL="global";qe.DELTA="delta";qe.FRAME="frame";const jR=(n,t=0)=>B(new qe(qe.LOCAL,n,t));V(qe,qe.FRAME).uint();P("TimerNode",qe);class se extends ${constructor(t=se.SINE,e=jR()){super(),this.method=t,this.timeNode=e}getNodeType(t){return this.timeNode.getNodeType(t)}setup(){const t=this.method,e=B(this.timeNode);let s=null;return t===se.SINE?s=e.add(.75).mul(Math.PI*2).sin().mul(.5).add(.5):t===se.SQUARE?s=e.fract().round():t===se.TRIANGLE?s=e.add(.5).fract().mul(2).sub(1).abs():t===se.SAWTOOTH&&(s=e.fract()),s}serialize(t){super.serialize(t),t.method=this.method}deserialize(t){super.deserialize(t),this.method=t.method}}se.SINE="sine";se.SQUARE="square";se.TRIANGLE="triangle";se.SAWTOOTH="sawtooth";R(se,se.SINE);R(se,se.SQUARE);R(se,se.TRIANGLE);R(se,se.SAWTOOTH);P("OscNode",se);class Ss extends vt{constructor(t,e){super(),this.scope=t,this.node=e}getNodeType(t){return this.node.getNodeType(t)}setup(){const{scope:t,node:e}=this;let s=null;return t===Ss.DIRECTION_TO_COLOR?s=e.mul(.5).add(.5):t===Ss.COLOR_TO_DIRECTION&&(s=e.mul(2).sub(1)),s}}Ss.DIRECTION_TO_COLOR="directionToColor";Ss.COLOR_TO_DIRECTION="colorToDirection";const KN=R(Ss,Ss.DIRECTION_TO_COLOR),WR=R(Ss,Ss.COLOR_TO_DIRECTION);z("directionToColor",KN);z("colorToDirection",WR);P("PackingNode",Ss);class Jm extends ${constructor(t,e,s,i=N(0),r=N(1)){super(),this.node=t,this.inLowNode=e,this.inHighNode=s,this.outLowNode=i,this.outHighNode=r,this.doClamp=!0}setup(){const{node:t,inLowNode:e,inHighNode:s,outLowNode:i,outHighNode:r,doClamp:o}=this;let a=t.sub(e).div(s.sub(e));return o===!0&&(a=a.clamp()),a.mul(r.sub(i)).add(i)}}const HR=R(Jm,null,null,{doClamp:!1}),$R=R(Jm);z("remap",HR);z("remapClamp",$R);P("RemapNode",Jm);class tw extends vt{constructor(t,e,s=H(.5)){super("vec2"),this.uvNode=t,this.rotationNode=e,this.centerNode=s}setup(){const{uvNode:t,rotationNode:e,centerNode:s}=this;return t.sub(s).rotate(e).add(s)}}const GR=R(tw);z("rotateUV",GR);P("RotateUVNode",tw);class ew extends vt{constructor(t,e){super(),this.positionNode=t,this.rotationNode=e}getNodeType(t){return this.positionNode.getNodeType(t)}setup(t){const{rotationNode:e,positionNode:s}=this;if(this.getNodeType(t)==="vec2"){const r=e.cos(),o=e.sin();return Um(r,o,o.negate(),r).mul(s)}else{const r=e,o=Co(W(1,0,0,0),W(0,ui(r.x),bs(r.x).negate(),0),W(0,bs(r.x),ui(r.x),0),W(0,0,0,1)),a=Co(W(ui(r.y),0,bs(r.y),0),W(0,1,0,0),W(bs(r.y).negate(),0,ui(r.y),0),W(0,0,0,1)),l=Co(W(ui(r.z),bs(r.z).negate(),0,0),W(bs(r.z),ui(r.z),0,0),W(0,0,1,0),W(0,0,0,1));return o.mul(a).mul(l).mul(W(s,1)).xyz}}}const qR=R(ew);z("rotate",qR);P("RotateNode",ew);class nw extends ${constructor(t,e=Cs(),s=N(0)){super("vec2"),this.countNode=t,this.uvNode=e,this.frameNode=s}setup(){const{frameNode:t,uvNode:e,countNode:s}=this,{width:i,height:r}=s,o=t.mod(i.mul(r)).floor(),a=o.mod(i),l=r.sub(o.add(1).div(i).ceil()),u=s.reciprocal(),c=H(a,l);return e.add(c).mul(u)}}R(nw);P("SpriteSheetUVNode",nw);class sw extends Jo{constructor(t,e){super(t,e),this.isStorageArrayElementNode=!0}set storageBufferNode(t){this.node=t}get storageBufferNode(){return this.node}setup(t){return t.isAvailable("storageBuffer")===!1&&!this.node.instanceIndex&&this.node.bufferObject===!0&&t.setupPBO(this.node),super.setup(t)}generate(t,e){let s;const i=t.context.assign;if(t.isAvailable("storageBuffer")===!1){const{node:r}=this;!r.instanceIndex&&this.node.bufferObject===!0&&i!==!0?s=t.generatePBO(this):s=r.build(t)}else s=super.generate(t);if(i!==!0){const r=this.getNodeType(t);s=t.format(s,r,e)}return s}}const iw=R(sw);z("storageElement",iw);P("StorageArrayElementNode",sw);class rw extends ${constructor(t,e=null,s=null,i=N(1),r=Le,o=os){super("vec4"),this.textureXNode=t,this.textureYNode=e,this.textureZNode=s,this.scaleNode=i,this.positionNode=r,this.normalNode=o}setup(){const{textureXNode:t,textureYNode:e,textureZNode:s,scaleNode:i,positionNode:r,normalNode:o}=this;let a=o.abs().normalize();a=a.div(a.dot(E(1)));const l=r.yz.mul(i),u=r.zx.mul(i),c=r.xy.mul(i),h=t.value,d=e!==null?e.value:h,f=s!==null?s.value:h,m=yn(h,l).mul(a.x),p=yn(d,u).mul(a.y),_=yn(f,c).mul(a.z);return vn(m,p,_)}}const XR=R(rw),YR=(...n)=>XR(...n);z("triplanarTexture",YR);P("TriplanarTexturesNode",rw);new er;new O;new O;new O;new re;new O(0,0,-1);new te;new O;new O;new te;new nt;new wr;H(Nl.x.oneMinus(),Nl.y);class ZR extends ah{constructor(t=0){super(null,"vec4"),this.isVertexColorNode=!0,this.index=t}getAttributeName(){const t=this.index;return"color"+(t>0?t:"")}generate(t){const e=this.getAttributeName(t),s=t.hasGeometryAttribute(e);let i;return s===!0?i=super.generate(t):i=t.generateConst(this.nodeType,new te(1,1,1,1)),i}serialize(t){super.serialize(t),t.index=this.index}deserialize(t){super.deserialize(t),this.index=t.index}}P("VertexColorNode",ZR);class ow extends na{constructor(t,e,s=null){super(t,e,s),this.renderer=s}updateReference(t){return this.reference=this.renderer!==null?this.renderer:t.renderer,this.reference}}const QR=(n,t,e)=>B(new ow(n,t,e));P("RendererReferenceNode",ow);const mh=1/6,aw=n=>st(mh,st(n,st(n,n.negate().add(3)).sub(3)).add(1)),yp=n=>st(mh,st(n,st(n,st(3,n).sub(6))).add(4)),lw=n=>st(mh,st(n,st(n,st(-3,n).add(3)).add(3)).add(1)),xp=n=>st(mh,_s(n,3)),Ly=n=>aw(n).add(yp(n)),Iy=n=>lw(n).add(xp(n)),Py=n=>vn(-1,yp(n).div(aw(n).add(yp(n)))),Vy=n=>vn(1,xp(n).div(lw(n).add(xp(n)))),Fy=(n,t,e)=>{const s=n.uvNode,i=st(s,t.zw).add(.5),r=Ko(i),o=uh(i),a=Ly(o.x),l=Iy(o.x),u=Py(o.x),c=Vy(o.x),h=Py(o.y),d=Vy(o.y),f=H(r.x.add(u),r.y.add(h)).sub(.5).mul(t.xy),m=H(r.x.add(c),r.y.add(h)).sub(.5).mul(t.xy),p=H(r.x.add(u),r.y.add(d)).sub(.5).mul(t.xy),_=H(r.x.add(c),r.y.add(d)).sub(.5).mul(t.xy),g=Ly(o.y).mul(vn(a.mul(n.uv(f).level(e)),l.mul(n.uv(m).level(e)))),y=Iy(o.y).mul(vn(a.mul(n.uv(p).level(e)),l.mul(n.uv(_).level(e))));return g.add(y)},JR=(n,t)=>{const e=H(n.size(T(t))),s=H(n.size(T(t.add(1)))),i=Pi(1,e),r=Pi(1,s),o=Fy(n,W(i,e),Ko(t)),a=Fy(n,W(r,s),eN(t));return uh(t).mix(o,a)};class uw extends vt{constructor(t,e=N(3)){super("vec4"),this.textureNode=t,this.blurNode=e}setup(){return JR(this.textureNode,this.blurNode)}}const KR=R(uw);z("bicubic",KR);P("TextureBicubicNode",uw);class cw extends ${constructor(){super("vec2"),this.isPointUVNode=!0}generate(){return"vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y )"}}V(cw);P("PointUVNode",cw);class es extends ${constructor(t=es.BACKGROUND_BLURRINESS,e=null){super(),this.scope=t,this.scene=e}setup(t){const e=this.scope,s=this.scene!==null?this.scene:t.scene;let i;return e===es.BACKGROUND_BLURRINESS?i=rs("backgroundBlurriness","float",s):e===es.BACKGROUND_INTENSITY?i=rs("backgroundIntensity","float",s):console.error("THREE.SceneNode: Unknown scope:",e),i}}es.BACKGROUND_BLURRINESS="backgroundBlurriness";es.BACKGROUND_INTENSITY="backgroundIntensity";V(es,es.BACKGROUND_BLURRINESS);V(es,es.BACKGROUND_INTENSITY);P("SceneNode",es);class t3 extends hh{constructor(t,e,s=0){super(t,e,s),this.isStorageBufferNode=!0,this.bufferObject=!1,this._attribute=null,this._varying=null,t.isStorageBufferAttribute!==!0&&t.isStorageInstancedBufferAttribute!==!0&&(t.isInstancedBufferAttribute?t.isStorageInstancedBufferAttribute=!0:t.isStorageBufferAttribute=!0)}getInputType(){return"storageBuffer"}element(t){return iw(this,t)}setBufferObject(t){return this.bufferObject=t,this}generate(t){if(t.isAvailable("storageBuffer"))return super.generate(t);const e=this.getNodeType(t);this._attribute===null&&(this._attribute=dh(this.value),this._varying=Ut(this._attribute));const s=this._varying.build(t,e);return t.registerTransform(s,this._attribute),s}}P("StorageBufferNode",t3);class hw extends ea{constructor(t,e,s=null){super(t,e),this.storeNode=s,this.isStoreTextureNode=!0}getInputType(){return"storageTexture"}setup(t){super.setup(t);const e=t.getNodeProperties(this);e.storeNode=this.storeNode}generate(t,e){let s;return this.storeNode!==null?s=this.generateStore(t):s=super.generate(t,e),s}generateStore(t){const e=t.getNodeProperties(this),{uvNode:s,storeNode:i}=e,r=super.generate(t,"property"),o=s.build(t,"uvec2"),a=i.build(t,"vec4"),l=t.generateTextureStore(t,r,o,a);t.addLineFlowCode(l)}}R(hw);P("TextureStoreNode",hw);class e3 extends na{constructor(t,e,s=null){super(t,e,s),this.userData=s}update(t){this.reference=this.userData!==null?this.userData:t.object.userData,super.update(t)}}P("UserDataNode",e3);const n3=L(({base:n,blend:t})=>{const e=s=>t[s].lessThan(Qv).cond(t[s],n[s].oneMinus().div(t[s]).oneMinus().max(0));return E(e("x"),e("y"),e("z"))}).setLayout({name:"burnColor",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),s3=L(({base:n,blend:t})=>{const e=s=>t[s].equal(1).cond(t[s],n[s].div(t[s].oneMinus()).max(0));return E(e("x"),e("y"),e("z"))}).setLayout({name:"dodgeColor",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),i3=L(({base:n,blend:t})=>{const e=s=>n[s].oneMinus().mul(t[s].oneMinus()).oneMinus();return E(e("x"),e("y"),e("z"))}).setLayout({name:"screenColor",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),r3=L(({base:n,blend:t})=>{const e=s=>n[s].lessThan(.5).cond(n[s].mul(t[s],2),n[s].oneMinus().mul(t[s].oneMinus()).oneMinus());return E(e("x"),e("y"),e("z"))}).setLayout({name:"overlayColor",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]});class ce extends vt{constructor(t,e,s){super(),this.blendMode=t,this.baseNode=e,this.blendNode=s}setup(){const{blendMode:t,baseNode:e,blendNode:s}=this,i={base:e,blend:s};let r=null;return t===ce.BURN?r=n3(i):t===ce.DODGE?r=s3(i):t===ce.SCREEN?r=i3(i):t===ce.OVERLAY&&(r=r3(i)),r}}ce.BURN="burn";ce.DODGE="dodge";ce.SCREEN="screen";ce.OVERLAY="overlay";const o3=R(ce,ce.BURN),a3=R(ce,ce.DODGE),l3=R(ce,ce.OVERLAY),u3=R(ce,ce.SCREEN);z("burn",o3);z("dodge",a3);z("overlay",l3);z("screen",u3);P("BlendModeNode",ce);const c3=L(({textureNode:n,bumpScale:t})=>{const e=i=>n.cache().context({getUV:r=>i(r.uvNode||Cs()),forceUVContext:!0}),s=N(e(i=>i));return H(N(e(i=>i.add(i.dFdx()))).sub(s),N(e(i=>i.add(i.dFdy()))).sub(s)).mul(t)}),h3=L(n=>{const{surf_pos:t,surf_norm:e,dHdxy:s}=n,i=t.dFdx().normalize(),r=t.dFdy().normalize(),o=e,a=r.cross(o),l=o.cross(i),u=i.dot(a).mul(Oc),c=u.sign().mul(s.x.mul(a).add(s.y.mul(l)));return u.abs().mul(e).sub(c).normalize()});class dw extends vt{constructor(t,e=null){super("vec3"),this.textureNode=t,this.scaleNode=e}setup(){const t=this.scaleNode!==null?this.scaleNode:1,e=c3({textureNode:this.textureNode,bumpScale:t});return h3({surf_pos:fn,surf_norm:Vi,dHdxy:e})}}const d3=R(dw);z("bumpMap",d3);P("BumpMapNode",dw);const f3=L(({color:n,adjustment:t})=>t.mix(fw(n.rgb),n.rgb)),p3=L(({color:n,adjustment:t})=>{const e=vn(n.r,n.g,n.b).div(3),s=n.r.max(n.g.max(n.b)),i=s.sub(e).mul(t).mul(-3);return ve(n.rgb,s,i)}),m3=L(({color:n,adjustment:t})=>{const e=E(.57735,.57735,.57735),s=t.cos();return E(n.rgb.mul(s).add(e.cross(n.rgb).mul(t.sin()).add(e.mul(ta(e,n.rgb).mul(s.oneMinus())))))});class en extends vt{constructor(t,e,s=N(1)){super("vec3"),this.method=t,this.colorNode=e,this.adjustmentNode=s}setup(){const{method:t,colorNode:e,adjustmentNode:s}=this,i={color:e,adjustment:s};let r=null;return t===en.SATURATION?r=f3(i):t===en.VIBRANCE?r=p3(i):t===en.HUE?r=m3(i):console.error(`${this.type}: Method "${this.method}" not supported!`),r}}en.SATURATION="saturation";en.VIBRANCE="vibrance";en.HUE="hue";const g3=R(en,en.SATURATION),y3=R(en,en.VIBRANCE),x3=R(en,en.HUE),_3=E(.2125,.7154,.0721),fw=(n,t=_3)=>ta(n,t),pw=(n,t)=>ve(E(0),n,fw(n).sub(t).max(0));z("saturation",g3);z("vibrance",y3);z("hue",x3);z("threshold",pw);P("ColorAdjustmentNode",en);const v3=L(n=>{const{eye_pos:t,surf_norm:e,mapN:s,uv:i}=n,r=t.dFdx(),o=t.dFdy(),a=i.dFdx(),l=i.dFdy(),u=e,c=o.cross(u),h=u.cross(r),d=c.mul(a.x).add(h.mul(l.x)),f=c.mul(a.y).add(h.mul(l.y)),m=d.dot(d).max(f.dot(f)),p=Oc.mul(m.inverseSqrt());return vn(d.mul(s.x,p),f.mul(s.y,p),u.mul(s.z)).normalize()});class mw extends vt{constructor(t,e=null){super("vec3"),this.node=t,this.scaleNode=e,this.normalMapType=Do}setup(t){const{normalMapType:e,scaleNode:s}=this;let i=this.node.mul(2).sub(1);s!==null&&(i=E(i.xy.mul(s),i.z));let r=null;return e===a2?r=pN.mul(i).normalize():e===Do&&(t.hasGeometryAttribute("tangent")===!0?r=mo.mul(i).normalize():r=v3({eye_pos:fn,surf_norm:Vi,mapN:i,uv:Cs()})),r}}const N3=R(mw);z("normalMap",N3);P("NormalMapNode",mw);class gw extends vt{constructor(t,e){super(),this.sourceNode=t,this.stepsNode=e}setup(){const{sourceNode:t,stepsNode:e}=this;return t.mul(e).floor().div(e)}}const w3=R(gw);z("posterize",w3);P("PosterizeNode",gw);const T3=L(({color:n,exposure:t})=>n.mul(t).clamp()),M3=L(({color:n,exposure:t})=>(n=n.mul(t),n.div(n.add(1)).clamp())),S3=L(({color:n,exposure:t})=>{n=n.mul(t),n=n.sub(.004).max(0);const e=n.mul(n.mul(6.2).add(.5)),s=n.mul(n.mul(6.2).add(1.7)).add(.06);return e.div(s).pow(2.2)}),A3=L(({color:n})=>{const t=n.mul(n.add(.0245786)).sub(90537e-9),e=n.mul(n.add(.432951).mul(.983729)).add(.238081);return t.div(e)}),C3=L(({color:n,exposure:t})=>{const e=is(.59719,.35458,.04823,.076,.90834,.01566,.0284,.13383,.83777),s=is(1.60475,-.53108,-.07367,-.10208,1.10813,-.00605,-.00327,-.07276,1.07602);return n=n.mul(t).div(.6),n=e.mul(n),n=A3({color:n}),n=s.mul(n),n.clamp()}),E3=is(E(1.6605,-.1246,-.0182),E(-.5876,1.1329,-.1006),E(-.0728,-.0083,1.1187)),z3=is(E(.6274,.0691,.0164),E(.3293,.9195,.088),E(.0433,.0113,.8956)),R3=L(([n])=>{const t=E(n).toVar(),e=E(t.mul(t)).toVar(),s=E(e.mul(e)).toVar();return N(15.5).mul(s.mul(e)).sub(st(40.14,s.mul(t))).add(st(31.96,s).sub(st(6.868,e.mul(t))).add(st(.4298,e).add(st(.1191,t).sub(.00232))))}),k3=L(({color:n,exposure:t})=>{const e=E(n).toVar(),s=is(E(.856627153315983,.137318972929847,.11189821299995),E(.0951212405381588,.761241990602591,.0767994186031903),E(.0482516061458583,.101439036467562,.811302368396859)),i=is(E(1.1271005818144368,-.1413297634984383,-.14132976349843826),E(-.11060664309660323,1.157823702216272,-.11060664309660294),E(-.016493938717834573,-.016493938717834257,1.2519364065950405)),r=N(-12.47393),o=N(4.026069);return e.mulAssign(t),e.assign(z3.mul(e)),e.assign(s.mul(e)),e.assign(Nn(e,1e-10)),e.assign(lh(e)),e.assign(e.sub(r).div(o.sub(r))),e.assign(qo(e,0,1)),e.assign(R3(e)),e.assign(i.mul(e)),e.assign(_s(Nn(E(0),e),E(2.2))),e.assign(E3.mul(e)),e.assign(qo(e,0,1)),e}),O3={[QS]:T3,[JS]:M3,[KS]:S3,[t2]:C3,[e2]:k3};class yw extends vt{constructor(t=fc,e=I3,s=null){super("vec3"),this.toneMapping=t,this.exposureNode=e,this.colorNode=s}getCacheKey(){let t=super.getCacheKey();return t="{toneMapping:"+this.toneMapping+",nodes:"+t+"}",t}setup(t){const e=this.colorNode||t.context.color,s=this.toneMapping;if(s===fc)return e;const i={exposure:this.exposureNode,color:e},r=O3[s];let o=null;return r?o=r(i):(console.error("ToneMappingNode: Unsupported Tone Mapping configuration.",s),o=e),o}}const L3=(n,t,e)=>B(new yw(n,B(t),B(e))),I3=QR("toneMappingExposure","float");z("toneMapping",(n,t,e)=>L3(t,e,n));P("ToneMappingNode",yw);let Ld=null;class xw extends Pl{constructor(t=Nl,e=null){Ld===null&&(Ld=new w_),super(t,e,Ld)}updateReference(){return this}}const P3=R(xw);z("viewportSharedTexture",P3);P("ViewportSharedTextureNode",xw);class _p extends ea{constructor(t,e){super(e),this.passNode=t,this.setUpdateMatrix(!1)}setup(t){return this.passNode.build(t),super.setup(t)}clone(){return new this.constructor(this.passNode,this.value)}}class Vl extends vt{constructor(t,e,s){super("vec4"),this.scope=t,this.scene=e,this.camera=s,this._pixelRatio=1,this._width=1,this._height=1;const i=new Jc;i.isRenderTargetTexture=!0,i.name="PostProcessingDepth";const r=new wr(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:i2});r.texture.name="PostProcessing",r.depthTexture=i,this.renderTarget=r,this.updateBeforeType=xt.FRAME,this._textureNode=B(new _p(this,r.texture)),this._depthTextureNode=B(new _p(this,i)),this._depthNode=null,this._viewZNode=null,this._cameraNear=_t(0),this._cameraFar=_t(0),this.isPassNode=!0}isGlobal(){return!0}getTextureNode(){return this._textureNode}getTextureDepthNode(){return this._depthTextureNode}getViewZNode(){if(this._viewZNode===null){const t=this._cameraNear,e=this._cameraFar;this._viewZNode=BN(this._depthTextureNode,t,e)}return this._viewZNode}getDepthNode(){if(this._depthNode===null){const t=this._cameraNear,e=this._cameraFar;this._depthNode=pp(this.getViewZNode(),t,e)}return this._depthNode}setup(){return this.scope===Vl.COLOR?this.getTextureNode():this.getDepthNode()}updateBefore(t){const{renderer:e}=t,{scene:s,camera:i}=this;this._pixelRatio=e.getPixelRatio();const r=e.getSize(new nt);this.setSize(r.width,r.height);const o=e.toneMapping,a=e.toneMappingNode,l=e.getRenderTarget();this._cameraNear.value=i.near,this._cameraFar.value=i.far,e.toneMapping=fc,e.toneMappingNode=null,e.setRenderTarget(this.renderTarget),e.render(s,i),e.toneMapping=o,e.toneMappingNode=a,e.setRenderTarget(l)}setSize(t,e){this._width=t,this._height=e;const s=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this.renderTarget.setSize(s,i)}setPixelRatio(t){this._pixelRatio=t,this.setSize(this._width,this._height)}dispose(){this.renderTarget.dispose()}}Vl.COLOR="color";Vl.DEPTH="depth";const Km=(n,t)=>B(new _p(n,t));P("PassNode",Vl);const Id=new x_(-1,1,1,-1,0,1);class V3 extends Qc{constructor(t=!1){super();const e=t===!1?[0,-1,0,1,2,1]:[0,2,0,0,2,0];this.setAttribute("position",new bf([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new bf(e,2))}}const F3=new V3;class gh extends G2{constructor(t=null){super(F3,t),this.camera=Id}renderAsync(t){return t.renderAsync(this,Id)}render(t){t.render(this,Id)}}const by=new gh,Dy=new gh;class b3 extends vt{constructor(t,e=2){super("vec4"),this.textureNode=t,this.sigma=e,this.directionNode=H(1),this._invSize=_t(new nt),this._passDirection=_t(new nt),this._horizontalRT=new wr,this._horizontalRT.texture.name="GaussianBlurNode.horizontal",this._verticalRT=new wr,this._verticalRT.texture.name="GaussianBlurNode.vertical",this._textureNode=Km(this,this._verticalRT.texture),this.updateBeforeType=xt.RENDER,this.resolution=new nt(1,1)}setSize(t,e){t=Math.max(Math.round(t*this.resolution.x),1),e=Math.max(Math.round(e*this.resolution.y),1),this._invSize.value.set(1/t,1/e),this._horizontalRT.setSize(t,e),this._verticalRT.setSize(t,e)}updateBefore(t){const{renderer:e}=t,s=this.textureNode,i=s.value,r=e.getRenderTarget(),o=s.value;by.material=this._material,Dy.material=this._material,this.setSize(i.image.width,i.image.height);const a=i.type;this._horizontalRT.texture.type=a,this._verticalRT.texture.type=a,e.setRenderTarget(this._horizontalRT),this._passDirection.value.set(1,0),by.render(e),s.value=this._horizontalRT.texture,e.setRenderTarget(this._verticalRT),this._passDirection.value.set(0,1),Dy.render(e),e.setRenderTarget(r),s.value=o}getTextureNode(){return this._textureNode}setup(t){const e=this.textureNode;if(e.isTextureNode!==!0)return console.error("GaussianBlurNode requires a TextureNode."),W();const s=e.uvNode||Cs(),i=l=>e.cache().context({getUV:()=>l,forceUVContext:!0}),r=L(()=>{const l=3+2*this.sigma,u=this._getCoefficients(l),c=this._invSize,h=H(this.directionNode).mul(this._passDirection),d=N(u[0]).toVar(),f=W(i(s).mul(d)).toVar();for(let m=1;m<l;m++){const p=N(m),_=N(u[m]),g=H(h.mul(c.mul(p))).toVar(),y=W(i(s.add(g))),x=W(i(s.sub(g)));f.addAssign(y.add(x).mul(_)),d.addAssign(st(2,_))}return f.div(d)}),o=this._material||(this._material=t.createNodeMaterial());o.fragmentNode=r();const a=t.getNodeProperties(this);return a.textureNode=e,this._textureNode}_getCoefficients(t){const e=[];for(let s=0;s<t;s++)e.push(.39894*Math.exp(-.5*s*s/(t*t))/t);return e}}const D3=(n,t)=>B(new b3(B(n),t));z("gaussianBlur",D3);const By=new gh;class B3 extends vt{constructor(t,e=.96){super(t),this.textureNode=t,this.textureNodeOld=yn(),this.damp=_t(e),this._compRT=new wr,this._compRT.texture.name="AfterImageNode.comp",this._oldRT=new wr,this._oldRT.texture.name="AfterImageNode.old",this._textureNode=Km(this,this._compRT.texture),this.updateBeforeType=xt.RENDER}getTextureNode(){return this._textureNode}setSize(t,e){this._compRT.setSize(t,e),this._oldRT.setSize(t,e)}updateBefore(t){const{renderer:e}=t,s=this.textureNode,i=s.value,r=i.type;this._compRT.texture.type=r,this._oldRT.texture.type=r;const o=e.getRenderTarget(),a=s.value;this.textureNodeOld.value=this._oldRT.texture,e.setRenderTarget(this._compRT),By.render(e);const l=this._oldRT;this._oldRT=this._compRT,this._compRT=l,this.setSize(i.image.width,i.image.height),e.setRenderTarget(o),s.value=a}setup(t){const e=this.textureNode,s=this.textureNodeOld;if(e.isTextureNode!==!0)return console.error("AfterImageNode requires a TextureNode."),W();const i=e.uvNode||Cs();s.uvNode=i;const r=c=>e.cache().context({getUV:()=>c,forceUVContext:!0}),o=L(([c,h])=>{const d=N(h).toVar(),f=W(c).toVar();return Nn(Ym(f.sub(d)),0)}),a=L(()=>{const c=W(s),h=W(r(i));return c.mulAssign(this.damp.mul(o(c,.1))),Nn(h,c)}),l=this._materialComposed||(this._materialComposed=t.createNodeMaterial());l.fragmentNode=a(),By.material=l;const u=t.getNodeProperties(this);return u.textureNode=e,this._textureNode}}const U3=(n,t)=>B(new B3(B(n),t));z("afterImage",U3);const Uy=new gh;class j3 extends vt{constructor(t,e,s,i){super("vec4"),this.textureNode=t,this.tresholdNode=e,this.scaleNode=s,this.colorNode=E(.1,0,1),this.samples=i,this.resolution=new nt(1,1),this._renderTarget=new wr,this._renderTarget.texture.name="anamorphic",this._invSize=_t(new nt),this._textureNode=Km(this,this._renderTarget.texture),this.updateBeforeType=xt.RENDER}getTextureNode(){return this._textureNode}setSize(t,e){this._invSize.value.set(1/t,1/e),t=Math.max(Math.round(t*this.resolution.x),1),e=Math.max(Math.round(e*this.resolution.y),1),this._renderTarget.setSize(t,e)}updateBefore(t){const{renderer:e}=t,s=this.textureNode,i=s.value;this._renderTarget.texture.type=i.type;const r=e.getRenderTarget(),o=s.value;Uy.material=this._material,this.setSize(i.image.width,i.image.height),e.setRenderTarget(this._renderTarget),Uy.render(e),e.setRenderTarget(r),s.value=o}setup(t){const e=this.textureNode;if(e.isTextureNode!==!0)return console.error("AnamorphNode requires a TextureNode."),W();const s=e.uvNode||Cs(),i=l=>e.cache().context({getUV:()=>l,forceUVContext:!0}),r=L(()=>{const l=this.samples,u=Math.floor(l/2),c=E(0).toVar();return Mt({start:-u,end:u},({i:h})=>{const d=N(h).abs().div(u).oneMinus(),f=H(s.x.add(this._invSize.x.mul(h).mul(this.scaleNode)),s.y),m=i(f),p=pw(m,this.tresholdNode).mul(d);c.addAssign(p)}),c.mul(this.colorNode)}),o=this._material||(this._material=t.createNodeMaterial());o.fragmentNode=r();const a=t.getNodeProperties(this);return a.textureNode=e,this._textureNode}}const W3=(n,t=.9,e=3,s=32)=>B(new j3(B(n),B(t),B(e),s));z("anamorphic",W3);class _w extends vt{constructor(t=null,e={}){super(),this.functionNode=t,this.parameters=e}setParameters(t){return this.parameters=t,this}getParameters(){return this.parameters}getNodeType(t){return this.functionNode.getNodeType(t)}generate(t){const e=[],s=this.functionNode,i=s.getInputs(t),r=this.parameters;if(Array.isArray(r))for(let a=0;a<r.length;a++){const l=i[a],u=r[a];e.push(u.build(t,l.type))}else for(const a of i){const l=r[a.name];if(l!==void 0)e.push(l.build(t,a.type));else throw new Error(`FunctionCallNode: Input '${a.name}' not found in FunctionNode.`)}return`${s.build(t,"property")}( ${e.join(", ")} )`}}const H3=(n,...t)=>(t=t.length>1||t[0]&&t[0].isNode===!0?Ao(t):oh(t[0]),B(new _w(B(n),t)));z("call",H3);P("FunctionCallNode",_w);class vw extends ${constructor(t=null){super(),this._value=t,this._cache=null,this.inputType=null,this.outpuType=null,this.events=new Rr,this.isScriptableValueNode=!0}get isScriptableOutputNode(){return this.outputType!==null}set value(t){this._value!==t&&(this._cache&&this.inputType==="URL"&&this.value.value instanceof ArrayBuffer&&(URL.revokeObjectURL(this._cache),this._cache=null),this._value=t,this.events.dispatchEvent({type:"change"}),this.refresh())}get value(){return this._value}refresh(){this.events.dispatchEvent({type:"refresh"})}getValue(){const t=this.value;if(t&&this._cache===null&&this.inputType==="URL"&&t.value instanceof ArrayBuffer)this._cache=URL.createObjectURL(new Blob([t.value]));else if(t&&t.value!==null&&t.value!==void 0&&((this.inputType==="URL"||this.inputType==="String")&&typeof t.value=="string"||this.inputType==="Number"&&typeof t.value=="number"||this.inputType==="Vector2"&&t.value.isVector2||this.inputType==="Vector3"&&t.value.isVector3||this.inputType==="Vector4"&&t.value.isVector4||this.inputType==="Color"&&t.value.isColor||this.inputType==="Matrix3"&&t.value.isMatrix3||this.inputType==="Matrix4"&&t.value.isMatrix4))return t.value;return this._cache||t}getNodeType(t){return this.value&&this.value.isNode?this.value.getNodeType(t):"float"}setup(){return this.value&&this.value.isNode?this.value:N()}serialize(t){super.serialize(t),this.value!==null?this.inputType==="ArrayBuffer"?t.value=Ev(this.value):t.value=this.value?this.value.toJSON(t.meta).uuid:null:t.value=null,t.inputType=this.inputType,t.outputType=this.outputType}deserialize(t){super.deserialize(t);let e=null;t.value!==null&&(t.inputType==="ArrayBuffer"?e=zv(t.value):t.inputType==="Texture"?e=t.meta.textures[t.value]:e=t.meta.nodes[t.value]||null),this.value=e,this.inputType=t.inputType,this.outputType=t.outputType}}const ju=R(vw);z("scriptableValue",ju);P("ScriptableValueNode",vw);class Nw extends Map{get(t,e=null,...s){if(this.has(t))return super.get(t);if(e!==null){const i=e(...s);return this.set(t,i),i}}}class $3{constructor(t){this.scriptableNode=t}get parameters(){return this.scriptableNode.parameters}get layout(){return this.scriptableNode.getLayout()}getInputLayout(t){return this.scriptableNode.getInputLayout(t)}get(t){const e=this.parameters[t];return e?e.getValue():null}}const Pd=new Nw;class ww extends ${constructor(t=null,e={}){super(),this.codeNode=t,this.parameters=e,this._local=new Nw,this._output=ju(),this._outputs={},this._source=this.source,this._method=null,this._object=null,this._value=null,this._needsOutputUpdate=!0,this.onRefresh=this.onRefresh.bind(this),this.isScriptableNode=!0}get source(){return this.codeNode?this.codeNode.code:""}setLocal(t,e){return this._local.set(t,e)}getLocal(t){return this._local.get(t)}onRefresh(){this._refresh()}getInputLayout(t){for(const e of this.getLayout())if(e.inputType&&(e.id===t||e.name===t))return e}getOutputLayout(t){for(const e of this.getLayout())if(e.outputType&&(e.id===t||e.name===t))return e}setOutput(t,e){const s=this._outputs;return s[t]===void 0?s[t]=ju(e):s[t].value=e,this}getOutput(t){return this._outputs[t]}getParameter(t){return this.parameters[t]}setParameter(t,e){const s=this.parameters;return e&&e.isScriptableNode?(this.deleteParameter(t),s[t]=e,s[t].getDefaultOutput().events.addEventListener("refresh",this.onRefresh)):e&&e.isScriptableValueNode?(this.deleteParameter(t),s[t]=e,s[t].events.addEventListener("refresh",this.onRefresh)):s[t]===void 0?(s[t]=ju(e),s[t].events.addEventListener("refresh",this.onRefresh)):s[t].value=e,this}getValue(){return this.getDefaultOutput().getValue()}deleteParameter(t){let e=this.parameters[t];return e&&(e.isScriptableNode&&(e=e.getDefaultOutput()),e.events.removeEventListener("refresh",this.onRefresh)),this}clearParameters(){for(const t of Object.keys(this.parameters))this.deleteParameter(t);return this.needsUpdate=!0,this}call(t,...e){const i=this.getObject()[t];if(typeof i=="function")return i(...e)}async callAsync(t,...e){const i=this.getObject()[t];if(typeof i=="function")return i.constructor.name==="AsyncFunction"?await i(...e):i(...e)}getNodeType(t){return this.getDefaultOutputNode().getNodeType(t)}refresh(t=null){t!==null?this.getOutput(t).refresh():this._refresh()}getObject(){if(this.needsUpdate&&this.dispose(),this._object!==null)return this._object;const t=()=>this.refresh(),e=(u,c)=>this.setOutput(u,c),s=new $3(this),i=Pd.get("THREE"),r=Pd.get("TSL"),o=this.getMethod(this.codeNode),a=[s,this._local,Pd,t,e,i,r];this._object=o(...a);const l=this._object.layout;if(l&&(l.cache===!1&&this._local.clear(),this._output.outputType=l.outputType||null,Array.isArray(l.elements)))for(const u of l.elements){const c=u.id||u.name;u.inputType&&(this.getParameter(c)===void 0&&this.setParameter(c,null),this.getParameter(c).inputType=u.inputType),u.outputType&&(this.getOutput(c)===void 0&&this.setOutput(c,null),this.getOutput(c).outputType=u.outputType)}return this._object}deserialize(t){super.deserialize(t);for(const e in this.parameters){let s=this.parameters[e];s.isScriptableNode&&(s=s.getDefaultOutput()),s.events.addEventListener("refresh",this.onRefresh)}}getLayout(){return this.getObject().layout}getDefaultOutputNode(){const t=this.getDefaultOutput().value;return t&&t.isNode?t:N()}getDefaultOutput(){return this._exec()._output}getMethod(){if(this.needsUpdate&&this.dispose(),this._method!==null)return this._method;const t=["parameters","local","global","refresh","setOutput","THREE","TSL"],s=["layout","init","main","dispose"].join(", "),i="var "+s+`; var output = {};
`,r=`
return { ...output, `+s+" };",o=i+this.codeNode.code+r;return this._method=new Function(...t,o),this._method}dispose(){this._method!==null&&(this._object&&typeof this._object.dispose=="function"&&this._object.dispose(),this._method=null,this._object=null,this._source=null,this._value=null,this._needsOutputUpdate=!0,this._output.value=null,this._outputs={})}setup(){return this.getDefaultOutputNode()}set needsUpdate(t){t===!0&&this.dispose()}get needsUpdate(){return this.source!==this._source}_exec(){return this.codeNode===null?this:(this._needsOutputUpdate===!0&&(this._value=this.call("main"),this._needsOutputUpdate=!1),this._output.value=this._value,this)}_refresh(){this.needsUpdate=!0,this._exec(),this._output.refresh()}}const G3=R(ww);z("scriptable",G3);P("ScriptableNode",ww);class yh extends ${constructor(t,e){super("float"),this.isFogNode=!0,this.colorNode=t,this.factorNode=e}getViewZNode(t){let e;const s=t.context.getViewZ;return s!==void 0&&(e=s(this)),(e||fn.z).negate()}setup(){return this.factorNode}}const q3=R(yh);z("fog",q3);P("FogNode",yh);class Tw extends yh{constructor(t,e,s){super(t),this.isFogRangeNode=!0,this.nearNode=e,this.farNode=s}setup(t){const e=this.getViewZNode(t);return Qs(this.nearNode,this.farNode,e)}}const X3=R(Tw);z("rangeFog",X3);P("FogRangeNode",Tw);class Mw extends yh{constructor(t,e){super(t),this.isFogExp2Node=!0,this.densityNode=e}setup(t){const e=this.getViewZNode(t),s=this.densityNode;return s.mul(s,e,e).negate().exp().oneMinus()}}const Y3=R(Mw);z("densityFog",Y3);P("FogExp2Node",Mw);let Qi=null,Ji=null;class Sw extends ${constructor(t=N(),e=N()){super(),this.minNode=t,this.maxNode=e}getVectorLength(t){const e=t.getTypeLength(yi(this.minNode.value)),s=t.getTypeLength(yi(this.maxNode.value));return e>s?e:s}getNodeType(t){return t.object.isInstancedMesh===!0?t.getTypeFromLength(this.getVectorLength(t)):"float"}setup(t){const e=t.object;let s=null;if(e.isInstancedMesh===!0){const i=this.minNode.value,r=this.maxNode.value,o=t.getTypeLength(yi(i)),a=t.getTypeLength(yi(r));Qi=Qi||new te,Ji=Ji||new te,Qi.setScalar(0),Ji.setScalar(0),o===1?Qi.setScalar(i):i.isColor?Qi.set(i.r,i.g,i.b):Qi.set(i.x,i.y,i.z||0,i.w||0),a===1?Ji.setScalar(r):r.isColor?Ji.set(r.r,r.g,r.b):Ji.set(r.x,r.y,r.z||0,r.w||0);const l=4,u=l*e.count,c=new Float32Array(u);for(let d=0;d<u;d++){const f=d%l,m=Qi.getComponent(f),p=Ji.getComponent(f);c[d]=h_.lerp(m,p,Math.random())}const h=this.getNodeType(t);s=Zm(c,"vec4",e.count).element(Bv).convert(h)}else s=N(0);return s}}R(Sw);P("RangeNode",Sw);class Aw extends ${constructor(t,e,s=[64]){super("void"),this.isComputeNode=!0,this.computeNode=t,this.count=e,this.workgroupSize=s,this.dispatchCount=0,this.version=1,this.updateBeforeType=xt.OBJECT,this.updateDispatchCount()}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}updateDispatchCount(){const{count:t,workgroupSize:e}=this;let s=e[0];for(let i=1;i<e.length;i++)s*=e[i];this.dispatchCount=Math.ceil(t/s)}onInit(){}updateBefore({renderer:t}){t.compute(this)}generate(t){const{shaderStage:e}=t;if(e==="compute"){const s=this.computeNode.build(t,"void");s!==""&&t.addLineFlowCode(s)}}}const Z3=(n,t,e)=>B(new Aw(B(n),t,e));z("compute",Z3);P("ComputeNode",Aw);class Cr extends ${constructor(t=Cr.TARGET_DIRECTION,e=null){super(),this.scope=t,this.light=e}setup(){const{scope:t,light:e}=this;let s=null;return t===Cr.TARGET_DIRECTION&&(s=Ks.transformDirection(lp(e).sub(lp(e.target)))),s}serialize(t){super.serialize(t),t.scope=this.scope}deserialize(t){super.deserialize(t),this.scope=t.scope}}Cr.TARGET_DIRECTION="targetDirection";const Cw=R(Cr,Cr.TARGET_DIRECTION);P("LightNode",Cr);const Ew=L(n=>{const{lightDistance:t,cutoffDistance:e,decayExponent:s}=n,i=t.pow(s).max(.01).reciprocal();return e.greaterThan(0).cond(i.mul(t.div(e).pow4().oneMinus().clamp().pow2()),i)});class zw extends Ir{constructor(t=null){super(t),this.cutoffDistanceNode=_t(0),this.decayExponentNode=_t(0)}update(t){const{light:e}=this;super.update(t),this.cutoffDistanceNode.value=e.distance,this.decayExponentNode.value=e.decay}setup(t){const{colorNode:e,cutoffDistanceNode:s,decayExponentNode:i,light:r}=this,o=t.context.lightingModel,a=fN(r).sub(fn),l=a.normalize(),u=a.length(),c=Ew({lightDistance:u,cutoffDistance:s,decayExponent:i}),h=e.mul(c),d=t.context.reflectedLight;o.direct({lightDirection:l,lightColor:h,reflectedLight:d,shadowMask:this.shadowMaskNode},t.stack,t)}}P("PointLightNode",zw);sa(fA,zw);class Rw extends Ir{constructor(t=null){super(t)}setup(t){super.setup(t);const e=t.context.lightingModel,s=this.colorNode,i=Cw(this.light),r=t.context.reflectedLight;e.direct({lightDirection:i,lightColor:s,reflectedLight:r,shadowMask:this.shadowMaskNode},t.stack,t)}}P("DirectionalLightNode",Rw);sa(mA,Rw);class tg extends Ir{constructor(t=null){super(t),this.coneCosNode=_t(0),this.penumbraCosNode=_t(0),this.cutoffDistanceNode=_t(0),this.decayExponentNode=_t(0)}update(t){super.update(t);const{light:e}=this;this.coneCosNode.value=Math.cos(e.angle),this.penumbraCosNode.value=Math.cos(e.angle*(1-e.penumbra)),this.cutoffDistanceNode.value=e.distance,this.decayExponentNode.value=e.decay}getSpotAttenuation(t){const{coneCosNode:e,penumbraCosNode:s}=this;return Qs(e,s,t)}setup(t){super.setup(t);const e=t.context.lightingModel,{colorNode:s,cutoffDistanceNode:i,decayExponentNode:r,light:o}=this,a=fN(o).sub(fn),l=a.normalize(),u=l.dot(Cw(o)),c=this.getSpotAttenuation(u),h=a.length(),d=Ew({lightDistance:h,cutoffDistance:i,decayExponent:r}),f=s.mul(c).mul(d),m=t.context.reflectedLight;e.direct({lightDirection:l,lightColor:f,reflectedLight:m,shadowMask:this.shadowMaskNode},t.stack,t)}}P("SpotLightNode",tg);sa(S_,tg);class Q3 extends S_{constructor(t,e,s,i,r,o){super(t,e,s,i,r,o),this.iesMap=null}copy(t,e){return super.copy(t,e),this.iesMap=t.iesMap,this}}class kw extends tg{getSpotAttenuation(t){const e=this.light.iesMap;let s=null;if(e&&e.isTexture===!0){const i=t.acos().mul(1/Math.PI);s=yn(e,H(i,0),0).r}else s=super.getSpotAttenuation(t);return s}}P("IESSpotLightNode",kw);sa(Q3,kw);class Ow extends Ir{constructor(t=null){super(t)}setup({context:t}){t.irradiance.addAssign(this.colorNode)}}P("AmbientLightNode",Ow);sa(gA,Ow);class Lw extends Ir{constructor(t=null){super(t),this.lightPositionNode=lp(t),this.lightDirectionNode=this.lightPositionNode.normalize(),this.groundColorNode=_t(new bt)}update(t){const{light:e}=this;super.update(t),this.lightPositionNode.object3d=e,this.groundColorNode.value.copy(e.groundColor).multiplyScalar(e.intensity)}setup(t){const{colorNode:e,groundColorNode:s,lightDirectionNode:i}=this,o=Vi.dot(i).mul(.5).add(.5),a=ve(s,e,o);t.context.irradiance.addAssign(a)}}P("HemisphereLightNode",Lw);sa(cA,Lw);const J3=L(n=>{const t=n.uv.mul(2),e=t.x.floor(),s=t.y.floor();return e.add(s).mod(2).sign()});class Iw extends vt{constructor(t=Cs()){super("float"),this.uvNode=t}setup(){return J3({uv:this.uvNode})}}const K3=R(Iw);z("checker",K3);P("CheckerNode",Iw);const tk=new N_;class ek extends Mn{constructor(t={}){super(),this.normals=!1,this.lights=!1,this.useAlphaToCoverage=!0,this.useColor=t.vertexColors,this.pointWidth=1,this.pointColorNode=null,this.setDefaultValues(tk),this.setupShaders(),this.setValues(t)}setupShaders(){const t=this.alphaToCoverage,e=this.useColor;this.vertexNode=L(()=>{Ut(H(),"vUv").assign(Cs());const s=Ee("instancePosition"),i=me("vec4","mvPos");i.assign(Ar.mul(W(s,1)));const r=Ro.z.div(Ro.w),o=fs.mul(i),a=me("vec2","offset");return a.assign(We.xy),a.assign(a.mul(eR)),a.assign(a.div(Ro.z)),a.y.assign(a.y.mul(r)),a.assign(a.mul(o.w)),o.assign(o.add(W(a,0,0))),o})(),this.fragmentNode=L(()=>{const s=Ut(H(),"vUv"),i=me("float","alpha");i.assign(1);const r=s.x,o=s.y,a=r.mul(r).add(o.mul(o));if(t){const u=me("float","dlen");u.assign(a.fwidth()),i.assign(Qs(u.oneMinus(),u.add(1),a).oneMinus())}else a.greaterThan(1).discard();let l;return this.pointColorNode?l=this.pointColorNode:e?l=Ee("instanceColor").mul(vl):l=vl,W(l,i)})(),this.needsUpdate=!0}get alphaToCoverage(){return this.useAlphaToCoverage}set alphaToCoverage(t){this.useAlphaToCoverage!==t&&(this.useAlphaToCoverage=t,this.setupShaders())}}je("InstancedPointsNodeMaterial",ek);const nk=new v_;class sk extends Mn{constructor(t){super(),this.isLineBasicNodeMaterial=!0,this.lights=!1,this.normals=!1,this.setDefaultValues(nk),this.setValues(t)}}je("LineBasicNodeMaterial",sk);const ik=new M_;class rk extends Mn{constructor(t){super(),this.isLineDashedNodeMaterial=!0,this.lights=!1,this.normals=!1,this.setDefaultValues(ik),this.offsetNode=null,this.dashScaleNode=null,this.dashSizeNode=null,this.gapSizeNode=null,this.setValues(t)}setupVariants(){const t=this.offsetNode,e=this.dashScaleNode?N(this.dashScaleNode):up,s=this.dashSizeNode?N(this.dashSizeNode):xN,i=this.dashSizeNode?N(this.dashGapNode):_N;zo.assign(s),Cc.assign(i);const r=Ut(Ee("lineDistance").mul(e));(t?r.add(t):r).mod(zo.add(Cc)).greaterThan(zo).discard()}}je("LineDashedNodeMaterial",rk);const ok=new M_;class ak extends Mn{constructor(t={}){super(),this.normals=!1,this.lights=!1,this.setDefaultValues(ok),this.useAlphaToCoverage=!0,this.useColor=t.vertexColors,this.useDash=t.dashed,this.useWorldUnits=!1,this.dashOffset=0,this.lineWidth=1,this.lineColorNode=null,this.offsetNode=null,this.dashScaleNode=null,this.dashSizeNode=null,this.gapSizeNode=null,this.setValues(t)}setup(t){this.setupShaders(),super.setup(t)}setupShaders(){const t=this.alphaToCoverage,e=this.useColor,s=this.dashed,i=this.worldUnits,r=L(({start:a,end:l})=>{const u=fs.element(2).element(2),d=fs.element(3).element(2).mul(-.5).div(u).sub(a.z).div(l.z.sub(a.z));return W(ve(a.xyz,l.xyz,d),l.w)});this.vertexNode=L(()=>{hs("vec2","vUv").assign(Cs());const a=Ee("instanceStart"),l=Ee("instanceEnd"),u=me("vec4","start"),c=me("vec4","end");u.assign(Ar.mul(W(a,1))),c.assign(Ar.mul(W(l,1))),i&&(hs("vec3","worldStart").assign(u.xyz),hs("vec3","worldEnd").assign(c.xyz));const h=Ro.z.div(Ro.w),d=fs.element(2).element(3).equal(-1);tt(d,()=>{tt(u.z.lessThan(0).and(c.z.greaterThan(0)),()=>{c.assign(r({start:u,end:c}))}).elseif(c.z.lessThan(0).and(u.z.greaterThanEqual(0)),()=>{u.assign(r({start:c,end:u}))})});const f=fs.mul(u),m=fs.mul(c),p=f.xyz.div(f.w),_=m.xyz.div(m.w),g=_.xy.sub(p.xy).temp();g.x.assign(g.x.mul(h)),g.assign(g.normalize());const y=xl(W());if(i){const x=c.xyz.sub(u.xyz).normalize(),v=ve(u.xyz,c.xyz,.5).normalize(),w=x.cross(v).normalize(),S=x.cross(w),M=hs("vec4","worldPos");M.assign(We.y.lessThan(.5).cond(u,c));const C=Td.mul(.5);M.addAssign(W(We.x.lessThan(0).cond(w.mul(C),w.mul(C).negate()),0)),s||(M.addAssign(W(We.y.lessThan(.5).cond(x.mul(C).negate(),x.mul(C)),0)),M.addAssign(W(S.mul(C),0)),tt(We.y.greaterThan(1).or(We.y.lessThan(0)),()=>{M.subAssign(W(S.mul(2).mul(C),0))})),y.assign(fs.mul(M));const k=xl(E());k.assign(We.y.lessThan(.5).cond(p,_)),y.z.assign(k.z.mul(y.w))}else{const x=me("vec2","offset");x.assign(H(g.y,g.x.negate())),g.x.assign(g.x.div(h)),x.x.assign(x.x.div(h)),x.assign(We.x.lessThan(0).cond(x.negate(),x)),tt(We.y.lessThan(0),()=>{x.assign(x.sub(g))}).elseif(We.y.greaterThan(1),()=>{x.assign(x.add(g))}),x.assign(x.mul(Td)),x.assign(x.div(Ro.w)),y.assign(We.y.lessThan(.5).cond(f,m)),x.assign(x.mul(y.w)),y.assign(y.add(W(x,0,0)))}return y})();const o=L(({p1:a,p2:l,p3:u,p4:c})=>{const h=a.sub(u),d=c.sub(u),f=l.sub(a),m=h.dot(d),p=d.dot(f),_=h.dot(f),g=d.dot(d),x=f.dot(f).mul(g).sub(p.mul(p)),w=m.mul(p).sub(_.mul(g)).div(x).clamp(),S=m.add(p.mul(w)).div(g).clamp();return H(w,S)});this.fragmentNode=L(()=>{const a=hs("vec2","vUv");if(s){const c=this.offsetNode?N(this.offsetNodeNode):wy,h=this.dashScaleNode?N(this.dashScaleNode):up,d=this.dashSizeNode?N(this.dashSizeNode):xN,f=this.dashSizeNode?N(this.dashGapNode):_N;zo.assign(d),Cc.assign(f);const m=Ee("instanceDistanceStart"),p=Ee("instanceDistanceEnd"),_=We.y.lessThan(.5).cond(h.mul(m),up.mul(p)),g=Ut(_.add(wy)),y=c?g.add(c):g;a.y.lessThan(-1).or(a.y.greaterThan(1)).discard(),y.mod(zo.add(Cc)).greaterThan(zo).discard()}const l=me("float","alpha");if(l.assign(1),i){const c=hs("vec3","worldStart"),h=hs("vec3","worldEnd"),d=hs("vec4","worldPos").xyz.normalize().mul(1e5),f=h.sub(c),m=o({p1:c,p2:h,p3:E(0,0,0),p4:d}),p=c.add(f.mul(m.x)),_=d.mul(m.y),x=p.sub(_).length().div(Td);if(!s)if(t){const v=x.fwidth();l.assign(Qs(v.negate().add(.5),v.add(.5),x).oneMinus())}else x.greaterThan(.5).discard()}else if(t){const c=a.x,h=a.y.greaterThan(0).cond(a.y.sub(1),a.y.add(1)),d=c.mul(c).add(h.mul(h)),f=me("float","dlen");f.assign(d.fwidth()),tt(a.y.abs().greaterThan(1),()=>{l.assign(Qs(f.oneMinus(),f.add(1),d).oneMinus())})}else tt(a.y.abs().greaterThan(1),()=>{const c=a.x,h=a.y.greaterThan(0).cond(a.y.sub(1),a.y.add(1));c.mul(c).add(h.mul(h)).greaterThan(1).discard()});let u;if(this.lineColorNode)u=this.lineColorNode;else if(e){const c=Ee("instanceColorStart"),h=Ee("instanceColorEnd");u=We.y.lessThan(.5).cond(c,h).mul(vl)}else u=vl;return W(u,l)})()}get worldUnits(){return this.useWorldUnits}set worldUnits(t){this.useWorldUnits!==t&&(this.useWorldUnits=t,this.needsUpdate=!0)}get dashed(){return this.useDash}set dashed(t){this.useDash!==t&&(this.useDash=t,this.needsUpdate=!0)}get alphaToCoverage(){return this.useAlphaToCoverage}set alphaToCoverage(t){this.useAlphaToCoverage!==t&&(this.useAlphaToCoverage=t,this.needsUpdate=!0)}}je("Line2NodeMaterial",ak);const lk=new lA;class uk extends Mn{constructor(t){super(),this.isMeshNormalNodeMaterial=!0,this.setDefaultValues(lk),this.setValues(t)}setupDiffuseColor(){const t=this.opacityNode?N(this.opacityNode):yN;It.assign(W(KN(jt),t))}}je("MeshNormalNodeMaterial",uk);const ck=new m_;class hk extends Mn{constructor(t){super(),this.isMeshBasicNodeMaterial=!0,this.lights=!1,this.setDefaultValues(ck),this.setValues(t)}}je("MeshBasicNodeMaterial",hk);const wl=L(({f0:n,f90:t,dotVH:e})=>{const s=e.mul(-5.55473).sub(6.98316).mul(e).exp2();return n.mul(s.oneMinus()).add(t.mul(s))}),Lc=L(n=>n.diffuseColor.mul(1/Math.PI)),dk=()=>N(.25),fk=L(({dotNH:n})=>ip.mul(N(.5)).add(1).mul(N(1/Math.PI)).mul(n.pow(ip))),pk=L(({lightDirection:n})=>{const t=n.add(Pt).normalize(),e=jt.dot(t).clamp(),s=Pt.dot(t).clamp(),i=wl({f0:Yn,f90:1,dotVH:s}),r=dk(),o=fk({dotNH:e});return i.mul(r).mul(o)});class Pw extends Wm{constructor(t=!0){super(),this.specular=t}direct({lightDirection:t,lightColor:e,reflectedLight:s}){const r=jt.dot(t).clamp().mul(e);s.directDiffuse.addAssign(r.mul(Lc({diffuseColor:It.rgb}))),this.specular===!0&&s.directSpecular.addAssign(r.mul(pk({lightDirection:t})).mul(Vz))}indirectDiffuse({irradiance:t,reflectedLight:e}){e.indirectDiffuse.addAssign(t.mul(Lc({diffuseColor:It})))}}const mk=new uA;class gk extends Mn{constructor(t){super(),this.isMeshLambertNodeMaterial=!0,this.lights=!0,this.setDefaultValues(mk),this.setValues(t)}setupLightingModel(){return new Pw(!1)}}je("MeshLambertNodeMaterial",gk);const yk=new aA;class xk extends Mn{constructor(t){super(),this.isMeshPhongNodeMaterial=!0,this.lights=!0,this.shininessNode=null,this.specularNode=null,this.setDefaultValues(yk),this.setValues(t)}setupLightingModel(){return new Pw}setupVariants(){const t=(this.shininessNode?N(this.shininessNode):Oz).max(1e-4);ip.assign(t);const e=this.specularNode||Iz;Yn.assign(e)}copy(t){return this.shininessNode=t.shininessNode,this.specularNode=t.specularNode,super.copy(t)}}je("MeshPhongNodeMaterial",xk);const _k=L(()=>{const n=Ec.dFdx().abs().max(Ec.dFdy().abs());return n.x.max(n.y).max(n.z)}),vk=L(n=>{const{roughness:t}=n,e=_k();let s=t.max(.0525);return s=s.add(e),s=s.min(1),s}),Nk=L(({alpha:n,dotNL:t,dotNV:e})=>{const s=n.pow2(),i=t.mul(s.add(s.oneMinus().mul(e.pow2())).sqrt()),r=e.mul(s.add(s.oneMinus().mul(t.pow2())).sqrt());return Pi(.5,i.add(r).max(Qv))}).setLayout({name:"V_GGX_SmithCorrelated",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNL",type:"float"},{name:"dotNV",type:"float"}]}),wk=L(({alphaT:n,alphaB:t,dotTV:e,dotBV:s,dotTL:i,dotBL:r,dotNV:o,dotNL:a})=>{const l=a.mul(E(n.mul(e),t.mul(s),o).length()),u=o.mul(E(n.mul(i),t.mul(r),a).length());return Pi(.5,l.add(u)).saturate()}).setLayout({name:"V_GGX_SmithCorrelated_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotTV",type:"float",qualifier:"in"},{name:"dotBV",type:"float",qualifier:"in"},{name:"dotTL",type:"float",qualifier:"in"},{name:"dotBL",type:"float",qualifier:"in"},{name:"dotNV",type:"float",qualifier:"in"},{name:"dotNL",type:"float",qualifier:"in"}]}),Tk=L(({alpha:n,dotNH:t})=>{const e=n.pow2(),s=t.pow2().mul(e.oneMinus()).oneMinus();return e.div(s.pow2()).mul(1/Math.PI)}).setLayout({name:"D_GGX",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNH",type:"float"}]}),Mk=N(1/Math.PI),Sk=L(({alphaT:n,alphaB:t,dotNH:e,dotTH:s,dotBH:i})=>{const r=n.mul(t),o=E(t.mul(s),n.mul(i),r.mul(e)),a=o.dot(o),l=r.div(a);return Mk.mul(r.mul(l.pow2()))}).setLayout({name:"D_GGX_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotNH",type:"float",qualifier:"in"},{name:"dotTH",type:"float",qualifier:"in"},{name:"dotBH",type:"float",qualifier:"in"}]}),jy=L(n=>{const{lightDirection:t,f0:e,f90:s,roughness:i,f:r,USE_IRIDESCENCE:o,USE_ANISOTROPY:a}=n,l=n.normalView||jt,u=i.pow2(),c=t.add(Pt).normalize(),h=l.dot(t).clamp(),d=l.dot(Pt).clamp(),f=l.dot(c).clamp(),m=Pt.dot(c).clamp();let p=wl({f0:e,f90:s,dotVH:m}),_,g;if(gy(o)&&(p=$m.mix(p,r)),gy(a)){const y=Bu.dot(t),x=Bu.dot(Pt),v=Bu.dot(c),w=Eo.dot(t),S=Eo.dot(Pt),M=Eo.dot(c);_=wk({alphaT:sp,alphaB:u,dotTV:x,dotBV:S,dotTL:y,dotBL:w,dotNV:d,dotNL:h}),g=Sk({alphaT:sp,alphaB:u,dotNH:f,dotTH:v,dotBH:M})}else _=Nk({alpha:u,dotNL:h,dotNV:d}),g=Tk({alpha:u,dotNH:f});return p.mul(_).mul(g)}),Vw=L(({roughness:n,dotNV:t})=>{const e=W(-1,-.0275,-.572,.022),s=W(1,.0425,1.04,-.04),i=n.mul(e).add(s),r=i.x.mul(i.x).min(t.mul(-9.28).exp2()).mul(i.x).add(i.y);return H(-1.04,1.04).mul(r).add(i.zw)}).setLayout({name:"DFGApprox",type:"vec2",inputs:[{name:"roughness",type:"float"},{name:"dotNV",type:"vec3"}]}),Fw=L(n=>{const{dotNV:t,specularColor:e,specularF90:s,roughness:i}=n,r=Vw({dotNV:t,roughness:i});return e.mul(r.x).add(s.mul(r.y))}),Ak=L(({f:n,f90:t,dotVH:e})=>{const s=e.oneMinus().saturate(),i=s.mul(s),r=s.mul(i,i).clamp(0,.9999);return n.sub(E(t).mul(r)).div(r.oneMinus())}).setLayout({name:"Schlick_to_F0",type:"vec3",inputs:[{name:"f",type:"vec3"},{name:"f90",type:"float"},{name:"dotVH",type:"float"}]}),Ck=L(({roughness:n,dotNH:t})=>{const e=n.pow2(),s=N(1).div(e),r=t.pow2().oneMinus().max(.0078125);return N(2).add(s).mul(r.pow(s.mul(.5))).div(2*Math.PI)}).setLayout({name:"D_Charlie",type:"float",inputs:[{name:"roughness",type:"float"},{name:"dotNH",type:"float"}]}),Ek=L(({dotNV:n,dotNL:t})=>N(1).div(N(4).mul(t.add(n).sub(t.mul(n))))).setLayout({name:"V_Neubelt",type:"float",inputs:[{name:"dotNV",type:"float"},{name:"dotNL",type:"float"}]}),zk=L(({lightDirection:n})=>{const t=n.add(Pt).normalize(),e=jt.dot(n).clamp(),s=jt.dot(Pt).clamp(),i=jt.dot(t).clamp(),r=Ck({roughness:Hm,dotNH:i}),o=Ek({dotNV:s,dotNL:e});return fo.mul(r).mul(o)}),Rk=L(([n,t,e,s,i])=>{const r=E(rN(t.negate(),De(n),Pi(1,s))),o=E($a(i[0].xyz),$a(i[1].xyz),$a(i[2].xyz));return De(r).mul(e.mul(o))}).setLayout({name:"getVolumeTransmissionRay",type:"vec3",inputs:[{name:"n",type:"vec3"},{name:"v",type:"vec3"},{name:"thickness",type:"float"},{name:"ior",type:"float"},{name:"modelMatrix",type:"mat4"}]}),kk=L(([n,t])=>n.mul(qo(t.mul(2).sub(2),0,1))).setLayout({name:"applyIorToRoughness",type:"float",inputs:[{name:"roughness",type:"float"},{name:"ior",type:"float"}]}),Ok=FN(),Lk=L(([n,t,e])=>{const s=Ok.uv(n),i=lh(N(fp.x)).mul(kk(t,e));return s.bicubic(i)}),Ik=L(([n,t,e])=>(tt(e.notEqual(0),()=>{const s=tN(t).negate().div(e);return Kv(s.negate().mul(n))}),E(1))).setLayout({name:"volumeAttenuation",type:"vec3",inputs:[{name:"transmissionDistance",type:"float"},{name:"attenuationColor",type:"vec3"},{name:"attenuationDistance",type:"float"}]}),Pk=L(([n,t,e,s,i,r,o,a,l,u,c,h,d,f])=>{const m=Rk(n,t,h,c,a),p=o.add(m),_=u.mul(l.mul(W(p,1))),g=H(_.xy.div(_.w)).toVar();g.addAssign(1),g.divAssign(2),g.assign(H(g.x,g.y.oneMinus()));const y=Lk(g,e,c),x=s.mul(Ik($a(m),d,f)),v=x.rgb.mul(y.rgb),w=n.dot(t).clamp(),S=E(Fw({dotNV:w,specularColor:i,specularF90:r,roughness:e})),M=x.r.add(x.g,x.b).div(3);return W(S.oneMinus().mul(v),y.a.oneMinus().mul(M).oneMinus())}),Vk=is(3.2404542,-.969266,.0556434,-1.5371385,1.8760108,-.2040259,-.4985314,.041556,1.0572252),Fk=n=>{const t=n.sqrt();return E(1).add(t).div(E(1).sub(t))},Wy=(n,t)=>n.sub(t).div(n.add(t)).pow2(),bk=(n,t)=>{const e=n.mul(2*Math.PI*1e-9),s=E(54856e-17,44201e-17,52481e-17),i=E(1681e3,1795300,2208400),r=E(43278e5,93046e5,66121e5),o=N(9747e-17*Math.sqrt(2*Math.PI*45282e5)).mul(e.mul(2239900).add(t.x).cos()).mul(e.pow2().mul(-45282e5).exp());let a=s.mul(r.mul(2*Math.PI).sqrt()).mul(i.mul(e).add(t).cos()).mul(e.pow2().negate().mul(r).exp());return a=E(a.x.add(o),a.y,a.z).div(10685e-11),Vk.mul(a)},Dk=L(({outsideIOR:n,eta2:t,cosTheta1:e,thinFilmThickness:s,baseF0:i})=>{const r=ve(n,t,Qs(0,.03,s)),o=n.div(r).pow2().mul(N(1).sub(e.pow2())),l=N(1).sub(o).sqrt(),u=Wy(r,n),c=wl({f0:u,f90:1,dotVH:e}),h=c.oneMinus(),d=r.lessThan(n).cond(Math.PI,0),f=N(Math.PI).sub(d),m=Fk(i.clamp(0,.9999)),p=Wy(m,r.vec3()),_=wl({f0:p,f90:1,dotVH:l}),g=E(m.x.lessThan(r).cond(Math.PI,0),m.y.lessThan(r).cond(Math.PI,0),m.z.lessThan(r).cond(Math.PI,0)),y=r.mul(s,l,2),x=E(f).add(g),v=c.mul(_).clamp(1e-5,.9999),w=v.sqrt(),S=h.pow2().mul(_).div(E(1).sub(v));let C=c.add(S),k=S.sub(h);for(let b=1;b<=2;++b){k=k.mul(w);const G=bk(N(b).mul(y),N(b).mul(x)).mul(2);C=C.add(k.mul(G))}return C.max(E(0))}).setLayout({name:"evalIridescence",type:"vec3",inputs:[{name:"outsideIOR",type:"float"},{name:"eta2",type:"float"},{name:"cosTheta1",type:"float"},{name:"thinFilmThickness",type:"float"},{name:"baseF0",type:"vec3"}]}),Bk=L(({normal:n,viewDir:t,roughness:e})=>{const s=n.dot(t).saturate(),i=e.pow2(),r=pn(e.lessThan(.25),N(-339.2).mul(i).add(N(161.4).mul(e)).sub(25.9),N(-8.48).mul(i).add(N(14.3).mul(e)).sub(9.95)),o=pn(e.lessThan(.25),N(44).mul(i).sub(N(23.7).mul(e)).add(3.26),N(1.97).mul(i).sub(N(3.27).mul(e)).add(.72));return pn(e.lessThan(.25),0,N(.1).mul(e).sub(.025)).add(r.mul(s).add(o).exp()).mul(1/Math.PI).saturate()}),Vd=E(.04),Fd=E(1);class eg extends Wm{constructor(t=!1,e=!1,s=!1,i=!1,r=!1){super(),this.clearcoat=t,this.sheen=e,this.iridescence=s,this.anisotropy=i,this.transmission=r,this.clearcoatRadiance=null,this.clearcoatSpecularDirect=null,this.clearcoatSpecularIndirect=null,this.sheenSpecularDirect=null,this.sheenSpecularIndirect=null,this.iridescenceFresnel=null,this.iridescenceF0=null}start(t){if(this.clearcoat===!0&&(this.clearcoatRadiance=E().temp("clearcoatRadiance"),this.clearcoatSpecularDirect=E().temp("clearcoatSpecularDirect"),this.clearcoatSpecularIndirect=E().temp("clearcoatSpecularIndirect")),this.sheen===!0&&(this.sheenSpecularDirect=E().temp("sheenSpecularDirect"),this.sheenSpecularIndirect=E().temp("sheenSpecularIndirect")),this.iridescence===!0){const e=jt.dot(Pt).clamp();this.iridescenceFresnel=Dk({outsideIOR:N(1),eta2:jv,cosTheta1:e,thinFilmThickness:Wv,baseF0:Yn}),this.iridescenceF0=Ak({f:this.iridescenceFresnel,f90:1,dotVH:e})}if(this.transmission===!0){const e=cp,s=Rz.sub(cp).normalize(),i=gN;t.backdrop=Pk(i,s,xi,It,Yn,Ac,e,_l,Ks,fs,Uu,Hv,Gv,$v),t.backdropAlpha=rp,It.a.mulAssign(ve(1,t.backdrop.a,rp))}}computeMultiscattering(t,e,s){const i=jt.dot(Pt).clamp(),r=Vw({roughness:xi,dotNV:i}),a=(this.iridescenceF0?$m.mix(Yn,this.iridescenceF0):Yn).mul(r.x).add(s.mul(r.y)),u=r.x.add(r.y).oneMinus(),c=Yn.add(Yn.oneMinus().mul(.047619)),h=a.mul(c).div(u.mul(c).oneMinus());t.addAssign(a),e.addAssign(h.mul(u))}direct({lightDirection:t,lightColor:e,reflectedLight:s}){const r=jt.dot(t).clamp().mul(e);if(this.sheen===!0&&this.sheenSpecularDirect.addAssign(r.mul(zk({lightDirection:t}))),this.clearcoat===!0){const a=po.dot(t).clamp().mul(e);this.clearcoatSpecularDirect.addAssign(a.mul(jy({lightDirection:t,f0:Vd,f90:Fd,roughness:Sc,normalView:po})))}s.directDiffuse.addAssign(r.mul(Lc({diffuseColor:It.rgb}))),s.directSpecular.addAssign(r.mul(jy({lightDirection:t,f0:Yn,f90:1,roughness:xi,iridescence:this.iridescence,f:this.iridescenceFresnel,USE_IRIDESCENCE:this.iridescence,USE_ANISOTROPY:this.anisotropy})))}indirectDiffuse({irradiance:t,reflectedLight:e}){e.indirectDiffuse.addAssign(t.mul(Lc({diffuseColor:It})))}indirectSpecular({radiance:t,iblIrradiance:e,reflectedLight:s}){if(this.sheen===!0&&this.sheenSpecularIndirect.addAssign(e.mul(fo,Bk({normal:jt,viewDir:Pt,roughness:Hm}))),this.clearcoat===!0){const u=po.dot(Pt).clamp(),c=Fw({dotNV:u,specularColor:Vd,specularF90:Fd,roughness:Sc});this.clearcoatSpecularIndirect.addAssign(this.clearcoatRadiance.mul(c))}const i=E().temp("singleScattering"),r=E().temp("multiScattering"),o=e.mul(1/Math.PI);this.computeMultiscattering(i,r,Ac);const a=i.add(r),l=It.mul(a.r.max(a.g).max(a.b).oneMinus());s.indirectSpecular.addAssign(t.mul(i)),s.indirectSpecular.addAssign(r.mul(o)),s.indirectDiffuse.addAssign(l.mul(o))}ambientOcclusion({ambientOcclusion:t,reflectedLight:e}){const i=jt.dot(Pt).clamp().add(t),r=xi.mul(-16).oneMinus().negate().exp2(),o=t.sub(i.pow(r).oneMinus()).clamp();this.clearcoat===!0&&this.clearcoatSpecularIndirect.mulAssign(t),this.sheen===!0&&this.sheenSpecularIndirect.mulAssign(t),e.indirectDiffuse.mulAssign(t),e.indirectSpecular.mulAssign(o)}finish(t){const{outgoingLight:e}=t;if(this.clearcoat===!0){const s=po.dot(Pt).clamp(),i=wl({dotVH:s,f0:Vd,f90:Fd}),r=e.mul(np.mul(i).oneMinus()).add(this.clearcoatSpecularDirect.add(this.clearcoatSpecularIndirect).mul(np));e.assign(r)}if(this.sheen===!0){const s=fo.r.max(fo.g).max(fo.b).mul(.157).oneMinus(),i=e.mul(s).add(this.sheenSpecularDirect,this.sheenSpecularIndirect);e.assign(i)}}}const Uk=new T_;class bw extends Mn{constructor(t){super(),this.isMeshStandardNodeMaterial=!0,this.emissiveNode=null,this.metalnessNode=null,this.roughnessNode=null,this.setDefaultValues(Uk),this.setValues(t)}setupLightingModel(){return new eg}setupSpecular(){const t=ve(E(.04),It.rgb,Mc);Yn.assign(t),Ac.assign(1)}setupVariants(){const t=this.metalnessNode?N(this.metalnessNode):bz;Mc.assign(t);let e=this.roughnessNode?N(this.roughnessNode):Fz;e=vk({roughness:e}),xi.assign(e),this.setupSpecular(),It.assign(W(It.rgb.mul(t.oneMinus()),It.a))}copy(t){return this.emissiveNode=t.emissiveNode,this.metalnessNode=t.metalnessNode,this.roughnessNode=t.roughnessNode,super.copy(t)}}je("MeshStandardNodeMaterial",bw);const jk=new oA;class Dw extends bw{constructor(t){super(),this.isMeshPhysicalNodeMaterial=!0,this.clearcoatNode=null,this.clearcoatRoughnessNode=null,this.clearcoatNormalNode=null,this.sheenNode=null,this.sheenRoughnessNode=null,this.iridescenceNode=null,this.iridescenceIORNode=null,this.iridescenceThicknessNode=null,this.specularIntensityNode=null,this.specularColorNode=null,this.iorNode=null,this.transmissionNode=null,this.thicknessNode=null,this.attenuationDistanceNode=null,this.attenuationColorNode=null,this.anisotropyNode=null,this.setDefaultValues(jk),this.setValues(t)}get useClearcoat(){return this.clearcoat>0||this.clearcoatNode!==null}get useIridescence(){return this.iridescence>0||this.iridescenceNode!==null}get useSheen(){return this.sheen>0||this.sheenNode!==null}get useAnisotropy(){return this.anisotropy>0||this.anisotropyNode!==null}get useTransmission(){return this.transmission>0||this.transmissionNode!==null}setupSpecular(){const t=this.iorNode?N(this.iorNode):Jz;Uu.assign(t),Yn.assign(ve(Go(iN(Uu.sub(1).div(Uu.add(1))).mul(Pz),E(1)).mul(Ny),It.rgb,Mc)),Ac.assign(ve(Ny,1,Mc))}setupLightingModel(){return new eg(this.useClearcoat,this.useSheen,this.useIridescence,this.useAnisotropy,this.useTransmission)}setupVariants(t){if(super.setupVariants(t),this.useClearcoat){const e=this.clearcoatNode?N(this.clearcoatNode):Bz,s=this.clearcoatRoughnessNode?N(this.clearcoatRoughnessNode):Uz;np.assign(e),Sc.assign(s)}if(this.useSheen){const e=this.sheenNode?E(this.sheenNode):Hz,s=this.sheenRoughnessNode?N(this.sheenRoughnessNode):$z;fo.assign(e),Hm.assign(s)}if(this.useIridescence){const e=this.iridescenceNode?N(this.iridescenceNode):qz,s=this.iridescenceIORNode?N(this.iridescenceIORNode):Xz,i=this.iridescenceThicknessNode?N(this.iridescenceThicknessNode):Yz;$m.assign(e),jv.assign(s),Wv.assign(i)}if(this.useAnisotropy){const e=(this.anisotropyNode?H(this.anisotropyNode):Gz).toVar();sr.assign(e.length()),tt(sr.equal(0),()=>{e.assign(H(1,0))}).else(()=>{e.divAssign(sr),sr.assign(sr.saturate())}),sp.assign(sr.pow2().mix(xi.pow2(),1)),Bu.assign(mo[0].mul(e.x).add(mo[1].mul(e.y))),Eo.assign(mo[1].mul(e.x).sub(mo[0].mul(e.y)))}if(this.useTransmission){const e=this.transmissionNode?N(this.transmissionNode):Zz,s=this.thicknessNode?N(this.thicknessNode):Qz,i=this.attenuationDistanceNode?N(this.attenuationDistanceNode):Kz,r=this.attenuationColorNode?E(this.attenuationColorNode):tR;rp.assign(e),Hv.assign(s),$v.assign(i),Gv.assign(r)}}setupNormal(t){super.setupNormal(t);const e=this.clearcoatNormalNode?E(this.clearcoatNormalNode):jz;po.assign(e)}copy(t){return this.clearcoatNode=t.clearcoatNode,this.clearcoatRoughnessNode=t.clearcoatRoughnessNode,this.clearcoatNormalNode=t.clearcoatNormalNode,this.sheenNode=t.sheenNode,this.sheenRoughnessNode=t.sheenRoughnessNode,this.iridescenceNode=t.iridescenceNode,this.iridescenceIORNode=t.iridescenceIORNode,this.iridescenceThicknessNode=t.iridescenceThicknessNode,this.specularIntensityNode=t.specularIntensityNode,this.specularColorNode=t.specularColorNode,this.transmissionNode=t.transmissionNode,this.thicknessNode=t.thicknessNode,this.attenuationDistanceNode=t.attenuationDistanceNode,this.attenuationColorNode=t.attenuationColorNode,this.anisotropyNode=t.anisotropyNode,super.copy(t)}}je("MeshPhysicalNodeMaterial",Dw);class Wk extends eg{constructor(t,e,s,i){super(t,e,s),this.useSSS=i}direct({lightDirection:t,lightColor:e,reflectedLight:s},i,r){if(this.useSSS===!0){const o=r.material,{thicknessColorNode:a,thicknessDistortionNode:l,thicknessAmbientNode:u,thicknessAttenuationNode:c,thicknessPowerNode:h,thicknessScaleNode:d}=o,f=t.add(jt.mul(l)).normalize(),m=N(Pt.dot(f.negate()).saturate().pow(h).mul(d)),p=E(m.add(u).mul(a));s.directDiffuse.addAssign(p.mul(c.mul(e)))}super.direct({lightDirection:t,lightColor:e,reflectedLight:s},i,r)}}class Hk extends Dw{constructor(t){super(t),this.thicknessColorNode=null,this.thicknessDistortionNode=N(.1),this.thicknessAmbientNode=N(0),this.thicknessAttenuationNode=N(.1),this.thicknessPowerNode=N(2),this.thicknessScaleNode=N(10)}get useSSS(){return this.thicknessColorNode!==null}setupLightingModel(){return new Wk(this.useClearcoat,this.useSheen,this.useIridescence,this.useSSS)}copy(t){return this.thicknessColorNode=t.thicknessColorNode,this.thicknessDistortionNode=t.thicknessDistortionNode,this.thicknessAmbientNode=t.thicknessAmbientNode,this.thicknessAttenuationNode=t.thicknessAttenuationNode,this.thicknessPowerNode=t.thicknessPowerNode,this.thicknessScaleNode=t.thicknessScaleNode,super.copy(t)}}je("MeshSSSNodeMaterial",Hk);const $k=new N_;class Gk extends Mn{constructor(t){super(),this.isPointsNodeMaterial=!0,this.lights=!1,this.normals=!1,this.transparent=!0,this.sizeNode=null,this.setDefaultValues($k),this.setValues(t)}copy(t){return this.sizeNode=t.sizeNode,super.copy(t)}}je("PointsNodeMaterial",Gk);const qk=new sA;class Xk extends Mn{constructor(t){super(),this.isSpriteNodeMaterial=!0,this.lights=!1,this.normals=!1,this.positionNode=null,this.rotationNode=null,this.scaleNode=null,this.setDefaultValues(qk),this.setValues(t)}setupPosition({object:t,context:e}){const{positionNode:s,rotationNode:i,scaleNode:r}=this,o=Le;let a=Ar.mul(E(s||0)),l=H(_l[0].xyz.length(),_l[1].xyz.length());r!==null&&(l=l.mul(r));let u=o.xy;t.center&&t.center.isVector2===!0&&(u=u.sub(_t(t.center).sub(.5))),u=u.mul(l);const c=N(i||Wz),h=u.rotate(c);a=W(a.xy.add(h),a.zw);const d=fs.mul(a);return e.vertex=o,d}copy(t){return this.positionNode=t.positionNode,this.rotationNode=t.rotationNode,this.scaleNode=t.scaleNode,super.copy(t)}}je("SpriteNodeMaterial",Xk);class Yk extends Wm{constructor(){super(),this.shadowNode=N(1).toVar("shadowMask")}direct({shadowMask:t}){this.shadowNode.mulAssign(t)}finish(t){It.a.mulAssign(this.shadowNode.oneMinus()),t.outgoingLight.rgb.assign(It.rgb)}}const Zk=new rA;class Qk extends Mn{constructor(t){super(),this.isShadowNodeMaterial=!0,this.lights=!0,this.setDefaultValues(Zk),this.setValues(t)}setupLightingModel(){return new Yk}}je("ShadowNodeMaterial",Qk);const ko=L(([n,t,e])=>{const s=N(e).toVar(),i=N(t).toVar(),r=Sr(n).toVar();return pn(r,i,s)}),Tl=L(([n,t])=>{const e=Sr(t).toVar(),s=N(n).toVar();return pn(e,s.negate(),s)}),Ht=L(([n])=>{const t=N(n).toVar();return T(Ko(t))}),Et=L(([n,t])=>{const e=N(n).toVar();return t.assign(Ht(e)),e.sub(N(t))}),Bw=L(([n,t,e,s,i,r])=>{const o=N(r).toVar(),a=N(i).toVar(),l=N(s).toVar(),u=N(e).toVar(),c=N(t).toVar(),h=N(n).toVar(),d=N(qt(1,a)).toVar();return qt(1,o).mul(h.mul(d).add(c.mul(a))).add(o.mul(u.mul(d).add(l.mul(a))))}),Uw=L(([n,t,e,s,i,r])=>{const o=N(r).toVar(),a=N(i).toVar(),l=E(s).toVar(),u=E(e).toVar(),c=E(t).toVar(),h=E(n).toVar(),d=N(qt(1,a)).toVar();return qt(1,o).mul(h.mul(d).add(c.mul(a))).add(o.mul(u.mul(d).add(l.mul(a))))}),jw=Bn([Bw,Uw]),Ww=L(([n,t,e,s,i,r,o,a,l,u,c])=>{const h=N(c).toVar(),d=N(u).toVar(),f=N(l).toVar(),m=N(a).toVar(),p=N(o).toVar(),_=N(r).toVar(),g=N(i).toVar(),y=N(s).toVar(),x=N(e).toVar(),v=N(t).toVar(),w=N(n).toVar(),S=N(qt(1,f)).toVar(),M=N(qt(1,d)).toVar();return N(qt(1,h)).toVar().mul(M.mul(w.mul(S).add(v.mul(f))).add(d.mul(x.mul(S).add(y.mul(f))))).add(h.mul(M.mul(g.mul(S).add(_.mul(f))).add(d.mul(p.mul(S).add(m.mul(f))))))}),Hw=L(([n,t,e,s,i,r,o,a,l,u,c])=>{const h=N(c).toVar(),d=N(u).toVar(),f=N(l).toVar(),m=E(a).toVar(),p=E(o).toVar(),_=E(r).toVar(),g=E(i).toVar(),y=E(s).toVar(),x=E(e).toVar(),v=E(t).toVar(),w=E(n).toVar(),S=N(qt(1,f)).toVar(),M=N(qt(1,d)).toVar();return N(qt(1,h)).toVar().mul(M.mul(w.mul(S).add(v.mul(f))).add(d.mul(x.mul(S).add(y.mul(f))))).add(h.mul(M.mul(g.mul(S).add(_.mul(f))).add(d.mul(p.mul(S).add(m.mul(f))))))}),$w=Bn([Ww,Hw]),Gw=L(([n,t,e])=>{const s=N(e).toVar(),i=N(t).toVar(),r=U(n).toVar(),o=U(r.bitAnd(U(7))).toVar(),a=N(ko(o.lessThan(U(4)),i,s)).toVar(),l=N(st(2,ko(o.lessThan(U(4)),s,i))).toVar();return Tl(a,Sr(o.bitAnd(U(1)))).add(Tl(l,Sr(o.bitAnd(U(2)))))}),qw=L(([n,t,e,s])=>{const i=N(s).toVar(),r=N(e).toVar(),o=N(t).toVar(),a=U(n).toVar(),l=U(a.bitAnd(U(15))).toVar(),u=N(ko(l.lessThan(U(8)),o,r)).toVar(),c=N(ko(l.lessThan(U(4)),r,ko(l.equal(U(12)).or(l.equal(U(14))),o,i))).toVar();return Tl(u,Sr(l.bitAnd(U(1)))).add(Tl(c,Sr(l.bitAnd(U(2)))))}),le=Bn([Gw,qw]),Xw=L(([n,t,e])=>{const s=N(e).toVar(),i=N(t).toVar(),r=Ll(n).toVar();return E(le(r.x,i,s),le(r.y,i,s),le(r.z,i,s))}),Yw=L(([n,t,e,s])=>{const i=N(s).toVar(),r=N(e).toVar(),o=N(t).toVar(),a=Ll(n).toVar();return E(le(a.x,o,r,i),le(a.y,o,r,i),le(a.z,o,r,i))}),Cn=Bn([Xw,Yw]),Zw=L(([n])=>{const t=N(n).toVar();return st(.6616,t)}),Qw=L(([n])=>{const t=N(n).toVar();return st(.982,t)}),Jw=L(([n])=>{const t=E(n).toVar();return st(.6616,t)}),Kw=Bn([Zw,Jw]),tT=L(([n])=>{const t=E(n).toVar();return st(.982,t)}),eT=Bn([Qw,tT]),He=L(([n,t])=>{const e=T(t).toVar(),s=U(n).toVar();return s.shiftLeft(e).bitOr(s.shiftRight(T(32).sub(e)))}),nT=L(([n,t,e])=>{n.subAssign(e),n.bitXorAssign(He(e,T(4))),e.addAssign(t),t.subAssign(n),t.bitXorAssign(He(n,T(6))),n.addAssign(e),e.subAssign(t),e.bitXorAssign(He(t,T(8))),t.addAssign(n),n.subAssign(e),n.bitXorAssign(He(e,T(16))),e.addAssign(t),t.subAssign(n),t.bitXorAssign(He(n,T(19))),n.addAssign(e),e.subAssign(t),e.bitXorAssign(He(t,T(4))),t.addAssign(n)}),ia=L(([n,t,e])=>{const s=U(e).toVar(),i=U(t).toVar(),r=U(n).toVar();return s.bitXorAssign(i),s.subAssign(He(i,T(14))),r.bitXorAssign(s),r.subAssign(He(s,T(11))),i.bitXorAssign(r),i.subAssign(He(r,T(25))),s.bitXorAssign(i),s.subAssign(He(i,T(16))),r.bitXorAssign(s),r.subAssign(He(s,T(4))),i.bitXorAssign(r),i.subAssign(He(r,T(14))),s.bitXorAssign(i),s.subAssign(He(i,T(24))),s}),xe=L(([n])=>{const t=U(n).toVar();return N(t).div(N(U(T(4294967295))))}),ns=L(([n])=>{const t=N(n).toVar();return t.mul(t.mul(t.mul(t.mul(t.mul(6).sub(15)).add(10))))}),sT=L(([n])=>{const t=T(n).toVar(),e=U(U(1)).toVar(),s=U(U(T(3735928559)).add(e.shiftLeft(U(2)).add(U(13)))).toVar();return ia(s.add(U(t)),s,s)}),iT=L(([n,t])=>{const e=T(t).toVar(),s=T(n).toVar(),i=U(U(2)).toVar(),r=U().toVar(),o=U().toVar(),a=U().toVar();return r.assign(o.assign(a.assign(U(T(3735928559)).add(i.shiftLeft(U(2)).add(U(13)))))),r.addAssign(U(s)),o.addAssign(U(e)),ia(r,o,a)}),rT=L(([n,t,e])=>{const s=T(e).toVar(),i=T(t).toVar(),r=T(n).toVar(),o=U(U(3)).toVar(),a=U().toVar(),l=U().toVar(),u=U().toVar();return a.assign(l.assign(u.assign(U(T(3735928559)).add(o.shiftLeft(U(2)).add(U(13)))))),a.addAssign(U(r)),l.addAssign(U(i)),u.addAssign(U(s)),ia(a,l,u)}),oT=L(([n,t,e,s])=>{const i=T(s).toVar(),r=T(e).toVar(),o=T(t).toVar(),a=T(n).toVar(),l=U(U(4)).toVar(),u=U().toVar(),c=U().toVar(),h=U().toVar();return u.assign(c.assign(h.assign(U(T(3735928559)).add(l.shiftLeft(U(2)).add(U(13)))))),u.addAssign(U(a)),c.addAssign(U(o)),h.addAssign(U(r)),nT(u,c,h),u.addAssign(U(i)),ia(u,c,h)}),aT=L(([n,t,e,s,i])=>{const r=T(i).toVar(),o=T(s).toVar(),a=T(e).toVar(),l=T(t).toVar(),u=T(n).toVar(),c=U(U(5)).toVar(),h=U().toVar(),d=U().toVar(),f=U().toVar();return h.assign(d.assign(f.assign(U(T(3735928559)).add(c.shiftLeft(U(2)).add(U(13)))))),h.addAssign(U(u)),d.addAssign(U(l)),f.addAssign(U(a)),nT(h,d,f),h.addAssign(U(o)),d.addAssign(U(r)),ia(h,d,f)}),lt=Bn([sT,iT,rT,oT,aT]),lT=L(([n,t])=>{const e=T(t).toVar(),s=T(n).toVar(),i=U(lt(s,e)).toVar(),r=Ll().toVar();return r.x.assign(i.bitAnd(T(255))),r.y.assign(i.shiftRight(T(8)).bitAnd(T(255))),r.z.assign(i.shiftRight(T(16)).bitAnd(T(255))),r}),uT=L(([n,t,e])=>{const s=T(e).toVar(),i=T(t).toVar(),r=T(n).toVar(),o=U(lt(r,i,s)).toVar(),a=Ll().toVar();return a.x.assign(o.bitAnd(T(255))),a.y.assign(o.shiftRight(T(8)).bitAnd(T(255))),a.z.assign(o.shiftRight(T(16)).bitAnd(T(255))),a}),En=Bn([lT,uT]),cT=L(([n])=>{const t=H(n).toVar(),e=T().toVar(),s=T().toVar(),i=N(Et(t.x,e)).toVar(),r=N(Et(t.y,s)).toVar(),o=N(ns(i)).toVar(),a=N(ns(r)).toVar(),l=N(jw(le(lt(e,s),i,r),le(lt(e.add(T(1)),s),i.sub(1),r),le(lt(e,s.add(T(1))),i,r.sub(1)),le(lt(e.add(T(1)),s.add(T(1))),i.sub(1),r.sub(1)),o,a)).toVar();return Kw(l)}),hT=L(([n])=>{const t=E(n).toVar(),e=T().toVar(),s=T().toVar(),i=T().toVar(),r=N(Et(t.x,e)).toVar(),o=N(Et(t.y,s)).toVar(),a=N(Et(t.z,i)).toVar(),l=N(ns(r)).toVar(),u=N(ns(o)).toVar(),c=N(ns(a)).toVar(),h=N($w(le(lt(e,s,i),r,o,a),le(lt(e.add(T(1)),s,i),r.sub(1),o,a),le(lt(e,s.add(T(1)),i),r,o.sub(1),a),le(lt(e.add(T(1)),s.add(T(1)),i),r.sub(1),o.sub(1),a),le(lt(e,s,i.add(T(1))),r,o,a.sub(1)),le(lt(e.add(T(1)),s,i.add(T(1))),r.sub(1),o,a.sub(1)),le(lt(e,s.add(T(1)),i.add(T(1))),r,o.sub(1),a.sub(1)),le(lt(e.add(T(1)),s.add(T(1)),i.add(T(1))),r.sub(1),o.sub(1),a.sub(1)),l,u,c)).toVar();return eT(h)}),Jk=Bn([cT,hT]),dT=L(([n])=>{const t=H(n).toVar(),e=T().toVar(),s=T().toVar(),i=N(Et(t.x,e)).toVar(),r=N(Et(t.y,s)).toVar(),o=N(ns(i)).toVar(),a=N(ns(r)).toVar(),l=E(jw(Cn(En(e,s),i,r),Cn(En(e.add(T(1)),s),i.sub(1),r),Cn(En(e,s.add(T(1))),i,r.sub(1)),Cn(En(e.add(T(1)),s.add(T(1))),i.sub(1),r.sub(1)),o,a)).toVar();return Kw(l)}),fT=L(([n])=>{const t=E(n).toVar(),e=T().toVar(),s=T().toVar(),i=T().toVar(),r=N(Et(t.x,e)).toVar(),o=N(Et(t.y,s)).toVar(),a=N(Et(t.z,i)).toVar(),l=N(ns(r)).toVar(),u=N(ns(o)).toVar(),c=N(ns(a)).toVar(),h=E($w(Cn(En(e,s,i),r,o,a),Cn(En(e.add(T(1)),s,i),r.sub(1),o,a),Cn(En(e,s.add(T(1)),i),r,o.sub(1),a),Cn(En(e.add(T(1)),s.add(T(1)),i),r.sub(1),o.sub(1),a),Cn(En(e,s,i.add(T(1))),r,o,a.sub(1)),Cn(En(e.add(T(1)),s,i.add(T(1))),r.sub(1),o,a.sub(1)),Cn(En(e,s.add(T(1)),i.add(T(1))),r,o.sub(1),a.sub(1)),Cn(En(e.add(T(1)),s.add(T(1)),i.add(T(1))),r.sub(1),o.sub(1),a.sub(1)),l,u,c)).toVar();return eT(h)}),Kk=Bn([dT,fT]),tO=L(([n])=>{const t=N(n).toVar(),e=T(Ht(t)).toVar();return xe(lt(e))}),eO=L(([n])=>{const t=H(n).toVar(),e=T(Ht(t.x)).toVar(),s=T(Ht(t.y)).toVar();return xe(lt(e,s))}),nO=L(([n])=>{const t=E(n).toVar(),e=T(Ht(t.x)).toVar(),s=T(Ht(t.y)).toVar(),i=T(Ht(t.z)).toVar();return xe(lt(e,s,i))}),sO=L(([n])=>{const t=W(n).toVar(),e=T(Ht(t.x)).toVar(),s=T(Ht(t.y)).toVar(),i=T(Ht(t.z)).toVar(),r=T(Ht(t.w)).toVar();return xe(lt(e,s,i,r))}),pT=L(([n])=>{const t=N(n).toVar(),e=T(Ht(t)).toVar();return E(xe(lt(e,T(0))),xe(lt(e,T(1))),xe(lt(e,T(2))))}),mT=L(([n])=>{const t=H(n).toVar(),e=T(Ht(t.x)).toVar(),s=T(Ht(t.y)).toVar();return E(xe(lt(e,s,T(0))),xe(lt(e,s,T(1))),xe(lt(e,s,T(2))))}),gT=L(([n])=>{const t=E(n).toVar(),e=T(Ht(t.x)).toVar(),s=T(Ht(t.y)).toVar(),i=T(Ht(t.z)).toVar();return E(xe(lt(e,s,i,T(0))),xe(lt(e,s,i,T(1))),xe(lt(e,s,i,T(2))))}),yT=L(([n])=>{const t=W(n).toVar(),e=T(Ht(t.x)).toVar(),s=T(Ht(t.y)).toVar(),i=T(Ht(t.z)).toVar(),r=T(Ht(t.w)).toVar();return E(xe(lt(e,s,i,r,T(0))),xe(lt(e,s,i,r,T(1))),xe(lt(e,s,i,r,T(2))))}),xT=Bn([pT,mT,gT,yT]),Ic=L(([n,t,e,s])=>{const i=N(s).toVar(),r=N(e).toVar(),o=T(t).toVar(),a=E(n).toVar(),l=N(0).toVar(),u=N(1).toVar();return Mt({start:T(0),end:o},({i:c})=>{l.addAssign(u.mul(Jk(a))),u.mulAssign(i),a.mulAssign(r)}),l}),_T=L(([n,t,e,s])=>{const i=N(s).toVar(),r=N(e).toVar(),o=T(t).toVar(),a=E(n).toVar(),l=E(0).toVar(),u=N(1).toVar();return Mt({start:T(0),end:o},({i:c})=>{l.addAssign(u.mul(Kk(a))),u.mulAssign(i),a.mulAssign(r)}),l}),iO=L(([n,t,e,s])=>{const i=N(s).toVar(),r=N(e).toVar(),o=T(t).toVar(),a=E(n).toVar();return H(Ic(a,o,r,i),Ic(a.add(E(T(19),T(193),T(17))),o,r,i))}),rO=L(([n,t,e,s])=>{const i=N(s).toVar(),r=N(e).toVar(),o=T(t).toVar(),a=E(n).toVar(),l=E(_T(a,o,r,i)).toVar(),u=N(Ic(a.add(E(T(19),T(193),T(17))),o,r,i)).toVar();return W(l,u)}),vT=L(([n,t,e,s,i,r,o])=>{const a=T(o).toVar(),l=N(r).toVar(),u=T(i).toVar(),c=T(s).toVar(),h=T(e).toVar(),d=T(t).toVar(),f=H(n).toVar(),m=E(xT(H(d.add(c),h.add(u)))).toVar(),p=H(m.x,m.y).toVar();p.subAssign(.5),p.mulAssign(l),p.addAssign(.5);const _=H(H(N(d),N(h)).add(p)).toVar(),g=H(_.sub(f)).toVar();return tt(a.equal(T(2)),()=>Zt(g.x).add(Zt(g.y))),tt(a.equal(T(3)),()=>Nn(Zt(g.x),Zt(g.y))),ta(g,g)}),NT=L(([n,t,e,s,i,r,o,a,l])=>{const u=T(l).toVar(),c=N(a).toVar(),h=T(o).toVar(),d=T(r).toVar(),f=T(i).toVar(),m=T(s).toVar(),p=T(e).toVar(),_=T(t).toVar(),g=E(n).toVar(),y=E(xT(E(_.add(f),p.add(d),m.add(h)))).toVar();y.subAssign(.5),y.mulAssign(c),y.addAssign(.5);const x=E(E(N(_),N(p),N(m)).add(y)).toVar(),v=E(x.sub(g)).toVar();return tt(u.equal(T(2)),()=>Zt(v.x).add(Zt(v.y).add(Zt(v.z)))),tt(u.equal(T(3)),()=>Nn(Nn(Zt(v.x),Zt(v.y)),Zt(v.z))),ta(v,v)}),ra=Bn([vT,NT]),oO=L(([n,t,e])=>{const s=T(e).toVar(),i=N(t).toVar(),r=H(n).toVar(),o=T().toVar(),a=T().toVar(),l=H(Et(r.x,o),Et(r.y,a)).toVar(),u=N(1e6).toVar();return Mt({start:-1,end:T(1),name:"x",condition:"<="},({x:c})=>{Mt({start:-1,end:T(1),name:"y",condition:"<="},({y:h})=>{const d=N(ra(l,c,h,o,a,i,s)).toVar();u.assign(Go(u,d))})}),tt(s.equal(T(0)),()=>{u.assign(Lr(u))}),u}),aO=L(([n,t,e])=>{const s=T(e).toVar(),i=N(t).toVar(),r=H(n).toVar(),o=T().toVar(),a=T().toVar(),l=H(Et(r.x,o),Et(r.y,a)).toVar(),u=H(1e6,1e6).toVar();return Mt({start:-1,end:T(1),name:"x",condition:"<="},({x:c})=>{Mt({start:-1,end:T(1),name:"y",condition:"<="},({y:h})=>{const d=N(ra(l,c,h,o,a,i,s)).toVar();tt(d.lessThan(u.x),()=>{u.y.assign(u.x),u.x.assign(d)}).elseif(d.lessThan(u.y),()=>{u.y.assign(d)})})}),tt(s.equal(T(0)),()=>{u.assign(Lr(u))}),u}),lO=L(([n,t,e])=>{const s=T(e).toVar(),i=N(t).toVar(),r=H(n).toVar(),o=T().toVar(),a=T().toVar(),l=H(Et(r.x,o),Et(r.y,a)).toVar(),u=E(1e6,1e6,1e6).toVar();return Mt({start:-1,end:T(1),name:"x",condition:"<="},({x:c})=>{Mt({start:-1,end:T(1),name:"y",condition:"<="},({y:h})=>{const d=N(ra(l,c,h,o,a,i,s)).toVar();tt(d.lessThan(u.x),()=>{u.z.assign(u.y),u.y.assign(u.x),u.x.assign(d)}).elseif(d.lessThan(u.y),()=>{u.z.assign(u.y),u.y.assign(d)}).elseif(d.lessThan(u.z),()=>{u.z.assign(d)})})}),tt(s.equal(T(0)),()=>{u.assign(Lr(u))}),u}),uO=L(([n,t,e])=>{const s=T(e).toVar(),i=N(t).toVar(),r=E(n).toVar(),o=T().toVar(),a=T().toVar(),l=T().toVar(),u=E(Et(r.x,o),Et(r.y,a),Et(r.z,l)).toVar(),c=N(1e6).toVar();return Mt({start:-1,end:T(1),name:"x",condition:"<="},({x:h})=>{Mt({start:-1,end:T(1),name:"y",condition:"<="},({y:d})=>{Mt({start:-1,end:T(1),name:"z",condition:"<="},({z:f})=>{const m=N(ra(u,h,d,f,o,a,l,i,s)).toVar();c.assign(Go(c,m))})})}),tt(s.equal(T(0)),()=>{c.assign(Lr(c))}),c}),cO=L(([n,t,e])=>{const s=T(e).toVar(),i=N(t).toVar(),r=E(n).toVar(),o=T().toVar(),a=T().toVar(),l=T().toVar(),u=E(Et(r.x,o),Et(r.y,a),Et(r.z,l)).toVar(),c=H(1e6,1e6).toVar();return Mt({start:-1,end:T(1),name:"x",condition:"<="},({x:h})=>{Mt({start:-1,end:T(1),name:"y",condition:"<="},({y:d})=>{Mt({start:-1,end:T(1),name:"z",condition:"<="},({z:f})=>{const m=N(ra(u,h,d,f,o,a,l,i,s)).toVar();tt(m.lessThan(c.x),()=>{c.y.assign(c.x),c.x.assign(m)}).elseif(m.lessThan(c.y),()=>{c.y.assign(m)})})})}),tt(s.equal(T(0)),()=>{c.assign(Lr(c))}),c}),hO=L(([n,t,e])=>{const s=T(e).toVar(),i=N(t).toVar(),r=E(n).toVar(),o=T().toVar(),a=T().toVar(),l=T().toVar(),u=E(Et(r.x,o),Et(r.y,a),Et(r.z,l)).toVar(),c=E(1e6,1e6,1e6).toVar();return Mt({start:-1,end:T(1),name:"x",condition:"<="},({x:h})=>{Mt({start:-1,end:T(1),name:"y",condition:"<="},({y:d})=>{Mt({start:-1,end:T(1),name:"z",condition:"<="},({z:f})=>{const m=N(ra(u,h,d,f,o,a,l,i,s)).toVar();tt(m.lessThan(c.x),()=>{c.z.assign(c.y),c.y.assign(c.x),c.x.assign(m)}).elseif(m.lessThan(c.y),()=>{c.z.assign(c.y),c.y.assign(m)}).elseif(m.lessThan(c.z),()=>{c.z.assign(m)})})})}),tt(s.equal(T(0)),()=>{c.assign(Lr(c))}),c});ko.setLayout({name:"mx_select",type:"float",inputs:[{name:"b",type:"bool"},{name:"t",type:"float"},{name:"f",type:"float"}]});Tl.setLayout({name:"mx_negate_if",type:"float",inputs:[{name:"val",type:"float"},{name:"b",type:"bool"}]});Ht.setLayout({name:"mx_floor",type:"int",inputs:[{name:"x",type:"float"}]});Bw.setLayout({name:"mx_bilerp_0",type:"float",inputs:[{name:"v0",type:"float"},{name:"v1",type:"float"},{name:"v2",type:"float"},{name:"v3",type:"float"},{name:"s",type:"float"},{name:"t",type:"float"}]});Uw.setLayout({name:"mx_bilerp_1",type:"vec3",inputs:[{name:"v0",type:"vec3"},{name:"v1",type:"vec3"},{name:"v2",type:"vec3"},{name:"v3",type:"vec3"},{name:"s",type:"float"},{name:"t",type:"float"}]});Ww.setLayout({name:"mx_trilerp_0",type:"float",inputs:[{name:"v0",type:"float"},{name:"v1",type:"float"},{name:"v2",type:"float"},{name:"v3",type:"float"},{name:"v4",type:"float"},{name:"v5",type:"float"},{name:"v6",type:"float"},{name:"v7",type:"float"},{name:"s",type:"float"},{name:"t",type:"float"},{name:"r",type:"float"}]});Hw.setLayout({name:"mx_trilerp_1",type:"vec3",inputs:[{name:"v0",type:"vec3"},{name:"v1",type:"vec3"},{name:"v2",type:"vec3"},{name:"v3",type:"vec3"},{name:"v4",type:"vec3"},{name:"v5",type:"vec3"},{name:"v6",type:"vec3"},{name:"v7",type:"vec3"},{name:"s",type:"float"},{name:"t",type:"float"},{name:"r",type:"float"}]});Gw.setLayout({name:"mx_gradient_float_0",type:"float",inputs:[{name:"hash",type:"uint"},{name:"x",type:"float"},{name:"y",type:"float"}]});qw.setLayout({name:"mx_gradient_float_1",type:"float",inputs:[{name:"hash",type:"uint"},{name:"x",type:"float"},{name:"y",type:"float"},{name:"z",type:"float"}]});Xw.setLayout({name:"mx_gradient_vec3_0",type:"vec3",inputs:[{name:"hash",type:"uvec3"},{name:"x",type:"float"},{name:"y",type:"float"}]});Yw.setLayout({name:"mx_gradient_vec3_1",type:"vec3",inputs:[{name:"hash",type:"uvec3"},{name:"x",type:"float"},{name:"y",type:"float"},{name:"z",type:"float"}]});Zw.setLayout({name:"mx_gradient_scale2d_0",type:"float",inputs:[{name:"v",type:"float"}]});Qw.setLayout({name:"mx_gradient_scale3d_0",type:"float",inputs:[{name:"v",type:"float"}]});Jw.setLayout({name:"mx_gradient_scale2d_1",type:"vec3",inputs:[{name:"v",type:"vec3"}]});tT.setLayout({name:"mx_gradient_scale3d_1",type:"vec3",inputs:[{name:"v",type:"vec3"}]});He.setLayout({name:"mx_rotl32",type:"uint",inputs:[{name:"x",type:"uint"},{name:"k",type:"int"}]});ia.setLayout({name:"mx_bjfinal",type:"uint",inputs:[{name:"a",type:"uint"},{name:"b",type:"uint"},{name:"c",type:"uint"}]});xe.setLayout({name:"mx_bits_to_01",type:"float",inputs:[{name:"bits",type:"uint"}]});ns.setLayout({name:"mx_fade",type:"float",inputs:[{name:"t",type:"float"}]});sT.setLayout({name:"mx_hash_int_0",type:"uint",inputs:[{name:"x",type:"int"}]});iT.setLayout({name:"mx_hash_int_1",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"}]});rT.setLayout({name:"mx_hash_int_2",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"}]});oT.setLayout({name:"mx_hash_int_3",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xx",type:"int"}]});aT.setLayout({name:"mx_hash_int_4",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xx",type:"int"},{name:"yy",type:"int"}]});lT.setLayout({name:"mx_hash_vec3_0",type:"uvec3",inputs:[{name:"x",type:"int"},{name:"y",type:"int"}]});uT.setLayout({name:"mx_hash_vec3_1",type:"uvec3",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"}]});cT.setLayout({name:"mx_perlin_noise_float_0",type:"float",inputs:[{name:"p",type:"vec2"}]});hT.setLayout({name:"mx_perlin_noise_float_1",type:"float",inputs:[{name:"p",type:"vec3"}]});dT.setLayout({name:"mx_perlin_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"vec2"}]});fT.setLayout({name:"mx_perlin_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec3"}]});tO.setLayout({name:"mx_cell_noise_float_0",type:"float",inputs:[{name:"p",type:"float"}]});eO.setLayout({name:"mx_cell_noise_float_1",type:"float",inputs:[{name:"p",type:"vec2"}]});nO.setLayout({name:"mx_cell_noise_float_2",type:"float",inputs:[{name:"p",type:"vec3"}]});sO.setLayout({name:"mx_cell_noise_float_3",type:"float",inputs:[{name:"p",type:"vec4"}]});pT.setLayout({name:"mx_cell_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"float"}]});mT.setLayout({name:"mx_cell_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec2"}]});gT.setLayout({name:"mx_cell_noise_vec3_2",type:"vec3",inputs:[{name:"p",type:"vec3"}]});yT.setLayout({name:"mx_cell_noise_vec3_3",type:"vec3",inputs:[{name:"p",type:"vec4"}]});Ic.setLayout({name:"mx_fractal_noise_float",type:"float",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]});_T.setLayout({name:"mx_fractal_noise_vec3",type:"vec3",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]});iO.setLayout({name:"mx_fractal_noise_vec2",type:"vec2",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]});rO.setLayout({name:"mx_fractal_noise_vec4",type:"vec4",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]});vT.setLayout({name:"mx_worley_distance_0",type:"float",inputs:[{name:"p",type:"vec2"},{name:"x",type:"int"},{name:"y",type:"int"},{name:"xoff",type:"int"},{name:"yoff",type:"int"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});NT.setLayout({name:"mx_worley_distance_1",type:"float",inputs:[{name:"p",type:"vec3"},{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xoff",type:"int"},{name:"yoff",type:"int"},{name:"zoff",type:"int"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});oO.setLayout({name:"mx_worley_noise_float_0",type:"float",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});aO.setLayout({name:"mx_worley_noise_vec2_0",type:"vec2",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});lO.setLayout({name:"mx_worley_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});uO.setLayout({name:"mx_worley_noise_float_1",type:"float",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});cO.setLayout({name:"mx_worley_noise_vec2_1",type:"vec2",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});hO.setLayout({name:"mx_worley_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});const dO=L(([n])=>{const t=E(n).toVar(),e=N(t.x).toVar(),s=N(t.y).toVar(),i=N(t.z).toVar();tt(s.lessThan(1e-4),()=>E(i,i,i)).else(()=>{e.assign(st(6,e.sub(Ko(e))));const r=T(nN(e)).toVar(),o=N(e.sub(N(r))).toVar(),a=N(i.mul(qt(1,s))).toVar(),l=N(i.mul(qt(1,s.mul(o)))).toVar(),u=N(i.mul(qt(1,s.mul(qt(1,o))))).toVar();return tt(r.equal(T(0)),()=>E(i,u,a)).elseif(r.equal(T(1)),()=>E(l,i,a)).elseif(r.equal(T(2)),()=>E(a,i,u)).elseif(r.equal(T(3)),()=>E(a,l,i)).elseif(r.equal(T(4)),()=>E(u,a,i)),E(i,a,l)})}),fO=L(([n])=>{const t=E(n).toVar(),e=N(t.x).toVar(),s=N(t.y).toVar(),i=N(t.z).toVar(),r=N(Go(e,Go(s,i))).toVar(),o=N(Nn(e,Nn(s,i))).toVar(),a=N(o.sub(r)).toVar(),l=N().toVar(),u=N().toVar(),c=N().toVar();return c.assign(o),tt(o.greaterThan(0),()=>{u.assign(a.div(o))}).else(()=>{u.assign(0)}),tt(u.lessThanEqual(0),()=>{l.assign(0)}).else(()=>{tt(e.greaterThanEqual(o),()=>{l.assign(s.sub(i).div(a))}).elseif(s.greaterThanEqual(o),()=>{l.assign(vn(2,i.sub(e).div(a)))}).else(()=>{l.assign(vn(4,e.sub(s).div(a)))}),l.mulAssign(1/6),tt(l.lessThan(0),()=>{l.addAssign(1)})}),E(l,u,c)});dO.setLayout({name:"mx_hsvtorgb",type:"vec3",inputs:[{name:"hsv",type:"vec3"}]});fO.setLayout({name:"mx_rgbtohsv",type:"vec3",inputs:[{name:"c",type:"vec3"}]});const pO=L(([n])=>{const t=E(n).toVar(),e=Iv(Zv(t,E(.04045))).toVar(),s=E(t.div(12.92)).toVar(),i=E(_s(Nn(t.add(E(.055)),E(0)).div(1.055),E(2.4))).toVar();return ve(s,i,e)});pO.setLayout({name:"mx_srgb_texture_to_lin_rec709",type:"vec3",inputs:[{name:"color",type:"vec3"}]});function mO({number:n,classIndex:t}){return q.jsx("div",{className:`absolute top-[-7.5vh]  w-[7.5vh] h-[7.5vh] bg-green-500  rounded-full flex justify-center items-center ${t}`,children:n})}const Hy=In.forwardRef(function(t,e){var i,r;let s;return t.next?s=(i=t.generatedNumbers)==null?void 0:i.slice(10):s=(r=t.generatedNumbers)==null?void 0:r.slice(0,10),q.jsx("div",{ref:e,className:"relative w-[7.5vh] h-[75vh]  bg-white rounded-lg",children:s==null?void 0:s.map((o,a)=>q.jsx(mO,{number:o,classIndex:t.next?`ballright${o}`:`ball${o}`},o))})}),gO="_button_1bqsk_3",yO="_buttonClass_1bqsk_39",bd={button:gO,buttonClass:yO};function xO({generatedNumbers:n,setSelected:t,selected:e}){return q.jsx("div",{className:"bg-red-500  grid grid-cols-10 flex-1",children:[...Array(80).keys()].map(s=>s+1).map(s=>q.jsx("button",{className:`cards${s} ${e.includes(s)?"bg-green-500":""}  `,onClick:()=>t([...e,s]),children:s}))})}function _O(){const n=[];for(let t=1;t<=20;t++){let e=Math.floor(Math.random()*81);for(;n.includes(e);)e=Math.floor(Math.random()*81);n.push(e)}return n}function Dd(n){if(n<0)return"Invalid input: factorial is not defined for negative numbers";if(n===0||n===1)return BigInt(1);let t=BigInt(1);for(let e=BigInt(2);e<=n;e++)t*=e;return t}function Bd(n,t){return Dd(n)/(Dd(t)*Dd(n-t))}function wT(n,t){return Bd(n,t)*Bd(80-n,20-t)/Bd(80,20)}function us(n,t){const e=1/wT(n,t)-1;return Math.floor(e)}console.log(wT(7,1),"ll");function vO({setSelected:n,selected:t}){return q.jsxs("div",{className:"bg-gray-100 w-[15%] p-4",children:[q.jsx("p",{className:"mx-auto",children:"Pay Board"}),q.jsxs("div",{className:"flex justify-between",children:[q.jsx("span",{children:"Match"}),q.jsx("span",{children:"PayOut"})]}),q.jsxs("div",{className:"flex justify-between",children:[q.jsx("span",{children:"10"}),q.jsx("span",{}),us(t.length,10)]}),q.jsxs("div",{className:"flex justify-between",children:[q.jsx("span",{children:"9"}),q.jsx("span",{children:us(t.length,9)})]}),q.jsxs("div",{className:"flex justify-between",children:[q.jsx("span",{children:"8"}),q.jsx("span",{children:us(t.length,8)})]}),q.jsxs("div",{className:"flex justify-between",children:[q.jsx("span",{children:"7"}),q.jsx("span",{children:us(t.length,7)})]}),q.jsxs("div",{className:"flex justify-between",children:[q.jsx("span",{children:"6"}),q.jsx("span",{children:us(t.length,6)})]}),q.jsxs("div",{className:"flex justify-between",children:[q.jsx("span",{children:"5"}),q.jsx("span",{children:us(t.length,5)})]}),q.jsxs("div",{className:"flex justify-between",children:[q.jsx("span",{children:"4"}),q.jsx("span",{children:us(t.length,4)})]}),q.jsxs("div",{className:"flex justify-between",children:[q.jsx("span",{children:"3"}),q.jsx("span",{children:us(t.length,3)})]}),q.jsxs("div",{className:"flex justify-between",children:[q.jsx("span",{children:"2"}),q.jsx("span",{children:us(t.length,2)})]}),q.jsxs("div",{className:"flex justify-between",children:[q.jsx("span",{children:"1"}),q.jsx("span",{children:us(t.length,1)})]})]})}function NO(){const n=In.useRef(),[t,e]=In.useState([]),[s,i]=In.useState([]);Vm(()=>{var o,a;t.length!=0&&((o=t==null?void 0:t.slice(0,10))==null||o.map((l,u)=>{const c=window.innerHeight;let h=75*c/100-u*(7.5*c/100);ir.to(`.ball${l}`,{rotation:720,y:h,delay:u,duration:1,ease:"bounce.out"}),ir.to(`.cards${l}`,{background:"#D97706",duration:1,delay:u})}),(a=t==null?void 0:t.slice(10))==null||a.map((l,u)=>{const c=window.innerHeight;let h=75*c/100-u*(7.5*c/100);ir.to(`.ballright${l}`,{rotation:720,y:h,delay:10+1*u,duration:1,ease:"bounce.out"}),ir.to(`.cards${l}`,{background:"#D97706",duration:1,delay:10+u})}))},{scope:n,dependencies:[t]});const r=()=>{const o=_O();e(o)};return q.jsxs("div",{ref:n,className:"flex justify-between p-10   align-bottom items-end w-full h-full",children:[q.jsx(Hy,{generatedNumbers:t}),q.jsxs("div",{className:"flex flex-col justify-around pt-14 h-full w-[75%]",children:[q.jsxs("div",{className:" flex gap-4",children:[q.jsx(xO,{selected:s,setSelected:i,generatedNumbers:t}),q.jsx(vO,{selected:s,setSelected:i})]}),q.jsxs("div",{className:"flex justify-around",children:[q.jsx("button",{className:bd.button,onClick:()=>{t.map((o,a)=>{ir.to(`.cards${o}`,{background:"#EF4444"})}),e([])},children:"Restart"}),q.jsx("button",{className:`${bd.button}`,children:"Play"}),q.jsx("button",{className:bd.button,onClick:r,children:"Play"})]})]}),q.jsx(Hy,{generatedNumbers:t,next:!0})]})}function wO(){return q.jsx("div",{className:"w-[100vw] h-[100vh] bg-black",children:q.jsx(NO,{})})}Ud.createRoot(document.getElementById("root")).render(q.jsx(DT.StrictMode,{children:q.jsx(wO,{})}));
